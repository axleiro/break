(this["webpackJsonp@solana/break"]=this["webpackJsonp@solana/break"]||[]).push([[0],{146:function(e,t,n){"use strict";t.a=n.p+"static/media/break.1f05981c.svg"},147:function(e,t,n){"use strict";t.a=n.p+"static/media/solana.7b25ef17.svg"},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),c=n(3),a=n.n(c),s=n(32),i=n(0);function o(e){var t=e.show,n=e.wallet,c=a.a.useState(!1),o=Object(r.a)(c,2),u=o[0],l=o[1],d=Object(s.e)(),b=Object(r.a)(d,2),j=b[0],f=b[1];!u||t&&!j||l(!1),a.a.useEffect((function(){if(void 0===n&&t&&!j){var e=window.setTimeout((function(){l(!0)}),1e4);return function(){return clearTimeout(e)}}}));return Object(i.jsx)("div",{className:"modal fade".concat(t?" show":""),children:function(){if(!t)return null;var e=n?"Fetching wallet":"Loading";return Object(i.jsx)("div",{className:"modal-dialog modal-dialog-centered lift justify-content-center",children:Object(i.jsxs)("div",{className:"modal-content w-auto",children:[Object(i.jsx)("div",{className:"py-4 pl-4 pr-5",children:Object(i.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(i.jsx)("span",{className:"spinner-grow spinner-grow-sm mr-3"}),Object(i.jsxs)("h2",{className:"mb-0",children:[u?"Retrying":e,"..."]})]})}),u&&Object(i.jsx)("div",{className:"p-4 border-top-dark",children:Object(i.jsx)("span",{onClick:function(){return f(!0)},className:"btn btn-info",children:"Try another cluster"})})]})})}()})}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return P})),n.d(t,"h",(function(){return E}));var r,c=n(4),a=n.n(c),s=n(6),i=n(9),o=n(7),u=n(3),l=n.n(u),d=n(32),b=n(76),j=n(208),f=n(45),m=n(0);function h(e,t){switch(t.status){case r.Ready:case r.Initialized:return Object(o.a)(Object(o.a)({},e),t);case r.Failure:return e.status===r.Fetching?Object(o.a)(Object(o.a)({},e),t):e;case r.Fetching:return Object(o.a)(Object(o.a)(Object(o.a)({},e),t),{},{accounts:void 0})}}!function(e){e[e.Initialized=0]="Initialized",e[e.Fetching=1]="Fetching",e[e.Ready=2]="Ready",e[e.Failure=3]="Failure"}(r||(r={}));var v=l.a.createContext(void 0),x=l.a.createContext(void 0),O=l.a.createContext(void 0);function p(e){var t=e.children,n=l.a.useReducer(h,{status:r.Fetching}),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(d.g)().httpUrl,u=l.a.useRef(o);l.a.useEffect((function(){u.current=o,function(e,t){g.apply(this,arguments)}(s,u)}),[o]);var b=a.config,j=null===b||void 0===b?void 0:b.paymentRequired;return l.a.useEffect((function(){u.current=o,!1===j&&w(s,u,void 0)}),[o,j]),Object(m.jsx)(v.Provider,{value:a,children:Object(m.jsx)(O.Provider,{value:s,children:Object(m.jsx)(x.Provider,{value:u,children:t})})})}function g(){return(g=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,n,{route:"init"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,n,{route:"accounts",paymentAccount:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){var e=l.a.useContext(v);if(!e)throw new Error("useAccounts must be used within a ApiProvider");return e.accounts}function k(){var e=l.a.useContext(v);if(!e)throw new Error("useConfig must be used within a ApiProvider");return e.config}function C(){var e=l.a.useContext(v);if(!e)throw new Error("useIsFetching must be used within a ApiProvider");return e.status===r.Fetching}function S(){var e,t=l.a.useContext(v);if(!t)throw new Error("useClusterParam must be used within a ApiProvider");var n=null===t||void 0===t||null===(e=t.config)||void 0===e?void 0:e.cluster;return n&&"mainnet-beta"!==n?"cluster=".concat(n):""}function P(){var e=l.a.useContext(O);if(!e)throw new Error("useClearAccounts must be used within a ApiProvider");return l.a.useCallback((function(){e({status:r.Fetching}),e({status:r.Failure})}),[e])}function E(){var e=l.a.useContext(O);if(!e)throw new Error("useRefreshAccounts must be used within a ApiProvider");var t=l.a.useContext(x);if(!t)throw new Error("useRefreshAccounts must be used within a ApiProvider");var n=k(),c=Object(f.b)(),a=Object(i.a)(c,1)[0],s=null===n||void 0===n?void 0:n.paymentRequired,o=Object(b.b)(),u=null===n||void 0===n?void 0:n.gameCost;return l.a.useCallback((function(){if(void 0!==s&&void 0!==u)if(s){if(!a||"loading"===o||o<u)return e({status:r.Fetching}),void e({status:r.Failure});w(e,t,a)}else w(e,t,void 0)}),[t,e,a,s,o,u])}},208:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(4),c=n.n(r),a=n(6),s=n(209),i=n(36),o=n(19),u=function(){var e=parseInt(new URLSearchParams(window.location.search).get("split")||"");if(!isNaN(e))return e}();function l(e,t,n){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(c.a.mark((function e(t,n,r){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({status:o.a.Fetching}),a=n.current;case 2:if(a!==n.current){e.next=25;break}s=void 0,e.t0=r.route,e.next="accounts"===e.t0?7:"init"===e.t0?11:14;break;case 7:return e.next=9,f(a,r.paymentAccount);case 9:return s=e.sent,e.abrupt("break",14);case 11:return e.next=13,b(a);case 13:s=e.sent;case 14:if(a===n.current){e.next=16;break}return e.abrupt("break",25);case 16:if("retry"!==s){e.next=21;break}return e.next=19,Object(i.d)(2e3);case 19:e.next=23;break;case 21:return t(s),e.abrupt("break",25);case 23:e.next=2;break;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({split:u}),e.next=4,fetch(new Request(t+"/init",{method:"POST",headers:{"Content-Type":"application/json"},body:n}));case 4:return r=e.sent,e.next=7,r.json();case 7:if("clusterUrl"in(a=e.sent)&&"programId"in a){e.next=10;break}throw new Error("Received invalid response");case 10:return e.abrupt("return",{status:o.a.Initialized,config:Object(s.b)(a)});case 13:return e.prev=13,e.t0=e.catch(0),Object(i.c)(e.t0,"/init failed"),e.abrupt("return","retry");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(c.a.mark((function t(n,r){var a,l,d,b,j;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},u&&(a.split=u),r&&(a.paymentKey=e.from(r.secretKey).toString("base64")),t.prev=3,l=JSON.stringify(a),t.next=7,fetch(new Request(n+"/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:l}));case 7:if(400!==(d=t.sent).status){t.next=12;break}return t.abrupt("return",{status:o.a.Failure,accounts:void 0});case 12:if(500!==d.status){t.next=19;break}return t.next=15,d.text();case 15:throw b=t.sent,new Error(b);case 19:return t.next=21,d.json();case 21:if("programAccounts"in(j=t.sent)&&"feeAccounts"in j&&"accountCapacity"in j){t.next=24;break}throw new Error("Received invalid response");case 24:return t.abrupt("return",{status:o.a.Ready,accounts:Object(s.a)(j)});case 25:t.next=31;break;case 27:return t.prev=27,t.t0=t.catch(3),Object(i.c)(t.t0,"/accounts failed"),t.abrupt("return","retry");case 31:case"end":return t.stop()}}),t,null,[[3,27]])})))).apply(this,arguments)}}).call(this,n(22).Buffer)},209:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n(39);function c(e){return{cluster:function(e){switch(e){case"devnet":case"testnet":case"mainnet-beta":return e;default:return}}(e.cluster),rpcUrl:e.clusterUrl,programId:new r.d(e.programId),gameCost:e.gameCost+1,paymentRequired:e.paymentRequired}}function a(t){return{programAccounts:t.programAccounts.map((function(e){return new r.d(e)})),accountCapacity:t.accountCapacity,feeAccounts:t.feeAccounts.map((function(t){return new r.a(e.from(t,"base64"))}))}}}).call(this,n(22).Buffer)},230:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g}));var r=n(7),c=n(9),a=n(3),s=n.n(a),i=n(24),o=n(19),u=n(83),l=n(84),d=n(29),b=n(35),j=n(69),f=n(0),m=j.b?1500:15,h=s.a.createContext(void 0),v=s.a.createContext(void 0);function x(e){var t=e.children,n=s.a.useState(),a=Object(c.a)(n,2),d=a[0],j=a[1],x=s.a.useState("loading"),O=Object(c.a)(x,2),p=O[0],g=O[1],w=s.a.useRef(),N=Object(b.b)(),y=Object(i.g)(),k=Object(i.h)(),C=Object(l.b)(),S=Object(o.f)(),P=Object(o.c)(),E=Object(u.c)(),T=!!Object(i.i)("/results"),I=!!Object(i.i)("/game"),A=Object(o.g)();s.a.useEffect((function(){j(void 0)}),[I,N]),s.a.useEffect((function(){var e=!0===(null===S||void 0===S?void 0:S.paymentRequired)&&!A&&!P;g(C&&S&&E&&(e||P)?e?"payment":function(e){return"loading"===e||"payment"===e?T?"reset":"play":e}:"loading")}),[T,A,C,S,P,E]),s.a.useEffect((function(){void 0!==d?w.current||(w.current=setTimeout((function(){g("reset"),y.push(Object(r.a)(Object(r.a)({},k),{},{pathname:"/results"}))}),1e3*m)):w.current&&(clearTimeout(w.current),w.current=void 0)}),[d,y,k]);var R=s.a.useMemo((function(){return[d,j]}),[d]);return Object(f.jsx)(h.Provider,{value:p,children:Object(f.jsx)(v.Provider,{value:R,children:t})})}function O(){var e=s.a.useContext(h);if(!e)throw new Error("useGameState must be used within a GameStateProvider");return e}function p(){var e=s.a.useContext(v);if(!e)throw new Error("useCountdown must be used within a GameStateProvider");return e}function g(){var e,t=Object(o.h)(),n=null===(e=Object(o.f)())||void 0===e?void 0:e.paymentRequired,c=Object(o.d)(),a=Object(i.g)(),u=Object(i.h)(),l=Object(d.h)();return s.a.useCallback((function(){l({type:"reset"}),a.push(Object(r.a)(Object(r.a)({},u),{},{pathname:"/game"})),n?c():t()}),[t,n,c,a,u,l])}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return L})),n.d(t,"h",(function(){return W})),n.d(t,"k",(function(){return G})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return q})),n.d(t,"d",(function(){return D})),n.d(t,"g",(function(){return K})),n.d(t,"j",(function(){return z})),n.d(t,"f",(function(){return H}));var r=n(4),c=n.n(r),a=n(6),s=n(9),i=n(99),o=n(7),u=n(42),l=n(3),d=n(322),b=n(69),j=n(0),f=l.createContext(void 0);function m(e){var t=e.children,n=l.useState(0),r=Object(s.a)(n,2),c=r[0],a=r[1],i=K(),o=l.useRef(0);return o.current=i,l.useEffect((function(){var e=[],t=setInterval((function(){if(0===o.current)return e.splice(0),void a(0);for(e.push(o.current);e.length-1>10;)e.shift();var t=e.length-1;if(!(t<=0)){var n=e[0],r=(e[t]-n)/(.1*t);a(Math.floor(r))}}),100);return function(){clearInterval(t)}}),[]),Object(j.jsx)(f.Provider,{value:c,children:t})}var h=n(321),v=n.n(h),x=n(8),O=n(10);function p(){return new Worker(n.p+"static/js/create-transaction-worker-script.45dfeaf1.worker.js")}var g=function(){function e(){Object(x.a)(this,e),this.worker=void 0,this.callbacks={},this.worker=new p,this.worker.onmessage=this.handleMessages.bind(this)}return Object(O.a)(e,[{key:"handleMessages",value:function(e){var t=e.data;if(t.trackingId in this.callbacks){var n=this.callbacks[t.trackingId];if(delete this.callbacks[t.trackingId],"error"in t)return void n[1](t.error);n[0](t)}}},{key:"createTransaction",value:function(e){var t=this;return new Promise((function(n,r){t.callbacks[e.trackingId]=[n,r],t.worker.postMessage(e)}))}}]),e}(),w=n(19),N=n(84),y=n(83),k=n(36),C=n(35),S=n(68),P=new g,E=l.createContext(void 0);function T(e){var t=e.children,n=l.useRef((function(){})),r=Object(w.f)(),c=Object(w.c)(),a=l.useRef(0),s=Object(S.c)(),i=null===c||void 0===c?void 0:c.programAccounts[0].toBase58();l.useEffect((function(){a.current=0}),[i]);var o=Object(C.b)(),u=Object(N.b)(),d=W(),f=Object(y.c)();return l.useEffect((function(){n.current=function(){if(o&&u&&f&&r&&c&&s.current){var e=a.current;e<c.accountCapacity*c.programAccounts.length?(a.current++,function(e,t,n,r,c,a,s,i){var o=c.feeAccounts,u=c.programAccounts,l=Math.floor(a/o.length),d=a%o.length,j=u[d],f=o[d];P.createTransaction({trackingId:a,blockhash:t,programId:r.toBase58(),programDataAccount:j.toBase58(),bitId:l,feeAccountSecretKey:f.secretKey}).then((function(t){var r=t.signature,c=t.serializedTransaction;i.send(c);var o={targetSlot:n};o.timeoutId=window.setTimeout((function(){s({type:"timeout",trackingId:a})}),45e3);var u=v.a.encode(r),d={id:l,feeAccount:f.publicKey,programAccount:j,signature:u};(s({type:"new",details:d,trackingId:a,pendingTransaction:o}),b.b)&&(e.onTransaction(u,(function(e,t){"subscribedSignature"===e.type?s({type:"subscribed",timestamp:e.timestamp,trackingId:a,slot:t.slot}):"receivedSignature"===e.type&&(console.log(u,e,t),s({type:"received",timestamp:e.timestamp,trackingId:a,slot:t.slot}))}),{commitment:"max",enableReceivedNotification:!0}),Object(b.c)().forEach((function(t){e.onTransaction(u,(function(e,n){if("processedSignature"===e.type){var r=R(t);s({type:"track",commitmentName:r,trackingId:a,slot:n.slot,timestamp:e.timestamp})}}),{commitment:t})})));var m=new URLSearchParams(window.location.search).get("retry");null!==m&&"disabled"===m||(o.retryId=window.setInterval((function(){i.readyState===WebSocket.OPEN&&i.send(c)}),500))}),(function(e){console.error(e)}))}(o,u,s.current,r.programId,c,e,d,f)):Object(k.c)(new Error("Account capacity exceeded"),"failed to create transaction")}}}),[u,o,f,r,c,d,s]),Object(j.jsx)(E.Provider,{value:n,children:t})}var I=n(77),A=function(){var e=new URLSearchParams(window.location.search).get("commitment");switch(e){case"recent":return e;default:return"singleGossip"}}(),R=function(e){return"singleGossip"===e?"confirmed":"processed"};function F(e,t){switch(t.type){case"new":var n=t.details,r=t.pendingTransaction;return[].concat(Object(u.a)(e),[{details:n,status:"pending",received:[],pending:r,timing:{}}]);case"subscribed":var c=t.trackingId;if(c>=e.length)return e;var a=e[c];return e.map((function(e){return e.details.signature===a.details.signature&&"timeout"!==e.status?Object(o.a)(Object(o.a)({},e),{},{timing:Object(o.a)(Object(o.a)({},e.timing),{},{subscribed:t.timestamp})}):e}));case"received":var s=t.trackingId;if(s>=e.length)return e;var l=e[s];return e.map((function(e){return e.details.signature===l.details.signature&&"timeout"!==e.status?Object(o.a)(Object(o.a)({},e),{},{received:[].concat(Object(u.a)(e.received),[{slot:t.slot,timestamp:t.timestamp}])}):e}));case"landed":return e.map((function(e){if("success"===e.status){var n=t.signatures.findIndex((function(t){return t===e.details.signature}));if(n>=0)return Object(o.a)(Object(o.a)({},e),{},{slot:Object(o.a)(Object(o.a)({},e.slot),{},{landed:t.slots[n]})})}return e}));case"track":var d=t.trackingId;if(d>=e.length)return e;var b=e[d];return e.map((function(e){if(e.details.signature===b.details.signature){if("pending"===e.status)return{status:"success",details:e.details,received:e.received,slot:{target:e.pending.targetSlot},timing:Object(o.a)(Object(o.a)({},e.timing),{},Object(i.a)({},t.commitmentName,t.timestamp)),pending:e.pending};if("success"===e.status)return Object(o.a)(Object(o.a)({},e),{},{timing:Object(o.a)(Object(o.a)({},e.timing),{},Object(i.a)({},t.commitmentName,t.timestamp))})}return e}));case"timeout":var j=t.trackingId;if(j>=e.length)return e;var f=e[j];return"pending"!==f.status?e:(clearInterval(f.pending.retryId),e.map((function(e){return e.details.signature===f.details.signature?{status:"timeout",details:e.details}:e})));case"update":var m=t.activeIdPartition,h=m.ids,v=m.partition,x=m.partitionCount;return e.map((function(e,n){if(n%x!==v)return e;var r=Math.floor(n/x);if("pending"===e.status&&h.has(r)){"singleGossip"===t.commitment&&(clearInterval(e.pending.retryId),clearTimeout(e.pending.timeoutId));var c=R(t.commitment);return{status:"success",details:e.details,received:e.received,slot:{target:e.pending.targetSlot,landed:t.estimatedSlot},timing:Object(o.a)(Object(o.a)({},e.timing),{},Object(i.a)({},c,M(e.timing.subscribed,t.receivedAt))),pending:e.pending}}if("success"===e.status){if(h.has(r)){var a=R(t.commitment);return void 0!==e.timing[a]?e:(e.pending&&"singleGossip"===t.commitment&&(clearInterval(e.pending.retryId),clearTimeout(e.pending.timeoutId)),Object(o.a)(Object(o.a)({},e),{},{timing:Object(o.a)(Object(o.a)({},e.timing),{},Object(i.a)({},a,M(e.timing.subscribed,t.receivedAt)))}))}if("recent"===t.commitment&&e.pending&&!h.has(r))return void 0!==e.timing.confirmed?Object(o.a)(Object(o.a)({},e),{},{timing:Object(o.a)(Object(o.a)({},e.timing),{},{processed:void 0})}):{status:"pending",details:e.details,received:e.received,pending:Object(o.a)({},e.pending),timing:e.timing}}return e}));case"reset":return e.forEach((function(e){("pending"===e.status||"success"===e.status&&e.pending)&&(clearTimeout(e.pending.timeoutId),clearInterval(e.pending.retryId))})),[];case"root":return e.find((function(e){return!("success"!==e.status||!e.pending)&&e.slot.landed===t.root}))?e.map((function(e){return"success"===e.status&&e.pending&&e.slot.landed===t.root?(clearInterval(e.pending.retryId),clearTimeout(e.pending.timeoutId),Object(o.a)(Object(o.a)({},e),{},{pending:void 0})):e})):e}}var U=l.createContext(void 0),B=l.createContext(void 0);function L(e){var t=e.children,n=l.useReducer(F,[]),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(C.b)(),f=l.useRef(i);l.useEffect((function(){f.current=i}),[i]),l.useEffect((function(){if(o({type:"reset"}),void 0!==u){var e=u.onRootChange((function(e){o({type:"root",root:e})})),t=b.b?setInterval(Object(a.a)(c.a.mark((function e(){var t,n,r,a,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],f.current.forEach((function(e){"success"===e.status&&void 0===e.slot.landed&&t.push(e.details.signature)})),0!==t.length){e.next=4;break}return e.abrupt("return");case 4:return n=[],r=[],e.next=8,u.getSignatureStatuses(t);case 8:for(a=e.sent.value,s=0;s<a.length;s++)null!==(i=a[s])&&(n.push(i.slot),r.push(t[s]));if(0!==n.length){e.next=12;break}return e.abrupt("return");case 12:o({type:"landed",slots:n,signatures:r});case 13:case"end":return e.stop()}}),e)}))),2e3):void 0;return function(){u.removeRootChangeListener(e),void 0!==t&&clearInterval(t)}}}),[u]);var h=Object(d.a)(i,10),v=Object(s.a)(h,2),x=v[0],O=v[1];return l.useEffect((function(){O(i)}),[i,O]),Object(j.jsx)(U.Provider,{value:x,children:Object(j.jsx)(B.Provider,{value:o,children:Object(j.jsx)(I.a,{children:Object(j.jsx)(T,{children:Object(j.jsx)(b.a,{children:Object(j.jsx)(m,{children:t})})})})})})}function M(e,t){if(void 0!==e&&void 0!==t)return parseFloat(((t-e)/1e3).toFixed(3))}function W(){var e=l.useContext(B);if(!e)throw new Error("useDispatch must be used within a TransactionsProvider");return e}function G(){var e=l.useContext(U);if(!e)throw new Error("useTransactions must be used within a TransactionsProvider");return e}function _(){var e=l.useContext(U);if(!e)throw new Error("useConfirmedCount must be used within a TransactionsProvider");return e.filter((function(e){return"success"===e.status})).length}function q(){var e=l.useContext(U);if(!e)throw new Error("useDroppedCount must be used within a TransactionsProvider");return e.filter((function(e){return"timeout"===e.status})).length}function D(){var e=Object(S.b)(),t=l.useContext(U);if(!t)throw new Error("useAvgConfirmationTime must be used within a TransactionsProvider");var n=t.reduce((function(t,n){if("success"===n.status){var r=n.timing.subscribed;if(void 0!==r&&void 0!==n.slot.landed){var c=e.current.get(n.slot.landed),a=M(r,null===c||void 0===c?void 0:c.confirmed);a&&t.push(a)}}return t}),[]),r=n.length;return 0===r?0:n.reduce((function(e,t){return e+t}),0)/r}function K(){var e=l.useContext(U);if(!e)throw new Error("useCreatedCount must be used within a TransactionsProvider");return e.length}function z(){var e=l.useContext(f);if(void 0===e)throw new Error("useTps must be used within a TransactionsProvider");return e}function H(){var e=l.useContext(E);if(void 0===e)throw new Error("useCreateTxRef must be used within a TransactionsProvider");return e}},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return p}));var r=n(9),c=n(3),a=n.n(c),s=n(24),i=n(36),o=n(19),u=n(83),l=n(0),d=Object(i.b)()?"custom":"mainnet-beta",b=Object(i.b)()?["custom"]:["mainnet-beta","testnet","devnet","custom"],j="http://".concat(window.location.hostname,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080);function f(e){switch(e){case"mainnet-beta":return"Mainnet Beta";case"testnet":return"Testnet";case"devnet":return"Devnet";case"custom":return"Custom"}}var m=a.a.createContext(void 0),h=a.a.createContext(void 0);function v(e){var t=e.children,n=function(e){switch(e.get("cluster")){case"devnet":return"devnet";case"testnet":return"testnet";case"mainnet-beta":return"mainnet-beta";case"custom":return"custom";default:return d}}(new URLSearchParams(Object(s.h)().search)),c=a.a.useState(n),i=Object(r.a)(c,2),b=i[0],f=i[1],v=a.a.useState(j),x=Object(r.a)(v,2),O=x[0],p=x[1],g=a.a.useState(!1),w=Object(r.a)(g,2),N=w[0],y=w[1];a.a.useEffect((function(){f(n)}),[n]);var k=a.a.useMemo((function(){return[N,y]}),[N]);return Object(l.jsx)(h.Provider,{value:{server:b,setServer:f,customUrl:O,setCustomUrl:p},children:Object(l.jsx)(m.Provider,{value:k,children:Object(l.jsx)(o.b,{children:Object(l.jsx)(u.a,{children:t})})})})}function x(){var e=a.a.useContext(h);if(!e)throw new Error("useServer must be used within a ServerProvider");var t=e.server,n=function(e,t){switch(e){case"custom":return t;default:var n=Object(i.b)(),r=e;return"mainnet-beta"===e&&(r="mainnet"),"".concat(n?"http":"https","://break-solana-").concat(r,".herokuapp.com")}}(t,e.customUrl),r=n.replace("http","ws");return{server:t,httpUrl:n,webSocketUrl:r,name:f(t)}}function O(){var e=a.a.useContext(h);if(!e)throw new Error("useCustomUrl must be used within a ServerProvider");return[e.customUrl,e.setCustomUrl]}function p(){var e=a.a.useContext(m);if(!e)throw new Error("useClusterModal must be used within a ServerProvider");return e}},324:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(7),c=n(4),a=n.n(c),s=n(6),i=n(9),o=n(3),u=n(24),l=n(87),d=n.n(l),b=n(210),j=n.n(b),f=n(328),m=n.n(f),h=n(39),v=n(85),x=n(151),O=n(45),p=n(329),g=n(36),w=n(25),N=n(0),y=window.location.origin,k="http://localhost:3000"===y,C=k||"https://break.solana.com"===y||"https://staging.break.solana.com"===y,S="breaksolana-google",P=k?new j.a({network:"ropsten",proxyAddress:"0x4023d2a0D330bF11426B12C6144Cfb96B7fa6183"}):new j.a;function E(){var t=Object(O.b)(),n=Object(i.a)(t,2),c=n[0],l=n[1],b=Object(w.d)(),j=o.useState(),f=Object(i.a)(j,2),y=f[0],E=f[1],I=o.useState(),A=Object(i.a)(I,2),R=A[0],F=A[1],U=o.useState(),B=Object(i.a)(U,2),L=B[0],M=B[1],W=Object(u.g)(),G=Object(u.h)(),_=o.useState(""),q=Object(i.a)(_,2),D=q[0],K=q[1],z=o.useCallback(function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"code"in t||F(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),H=o.useCallback((function(){R&&(R.disconnect(),F(void 0))}),[R]),J=Object(p.useGoogleLogin)({clientId:k?"785716588020-p8kdid1dltqsafcl23g82fb9funikaj7.apps.googleusercontent.com":"785716588020-b5a4fheugq38c23do3p2l73iumfrklnr.apps.googleusercontent.com",onSuccess:z,onFailure:function(e){C&&(Object(g.c)(e,"Google login failed"),E(void 0),K("Failed to login"))},isSignedIn:C}),V=J.signIn,Q=J.loaded,X=o.useCallback((function(e){E(e),"fresh"===e&&(H(),V())}),[H,V]);o.useEffect((function(){if(C){var e=!1;return P.getNodeDetails().then((function(t){!e&&M(t)})).catch((function(e){Object(g.c)(e,"Fetching torus node details")})),function(){e=!0}}}),[]),o.useEffect((function(){if(L&&R&&y){var t=!1;return Object(s.a)(a.a.mark((function n(){var r,c,s,i,o,u,b,j,f,v;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new m.a({}),c=L.torusNodeEndpoints,s=L.torusNodePub,i=L.torusIndexes,n.prev=2,o=R.getBasicProfile().getEmail(),n.next=6,r.getPublicAddress(c,s,{verifier:S,verifierId:o},!1);case 6:if(u=R.getAuthResponse().id_token,"cached"!==y){n.next=11;break}return n.next=10,R.reloadAuthResponse();case 10:u=n.sent.id_token;case 11:return n.next=13,r.retrieveShares(c,i,S,{verifier_id:o},u);case 13:if(b=n.sent,j=b.privKey,!t){n.next=17;break}return n.abrupt("return");case 17:f=e.from(j.toString(),"hex"),v=d.a.sign.keyPair.fromSeed(f),l(new h.a(v.secretKey)),n.next=27;break;case 22:n.prev=22,n.t0=n.catch(2),Object(g.c)(n.t0,"failed to fetch torus key"),E(void 0),K("Failed to fetch Torus key");case 27:case"end":return n.stop()}}),n,null,[[2,22]])})))(),function(){t=!0}}}),[L,R,y,l]),o.useEffect((function(){("payment"!==b||c)&&W.push(Object(r.a)(Object(r.a)({},G),{},{pathname:"/game"}))}),[b,c,W,G]);var Y=!!R,Z=Q&&!y||D||!C,$=!Z;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"modal z-auto fade".concat(Z?" show":""),children:Object(N.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(N.jsx)("div",{className:"modal-content",children:Object(N.jsxs)("div",{className:"modal-card card mb-0",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsx)("div",{className:"flex-shrink-0 flex-basis-auto",children:"Select Wallet"}),Object(N.jsx)("div",{className:"text-truncate text-warning small ml-5",children:D})]}),Object(N.jsx)("div",{className:"card-body",children:Object(N.jsxs)("ul",{className:"list-group list-group-flush list my-n4",children:[R&&Object(N.jsx)("li",{className:"list-group-item",children:Object(N.jsxs)("div",{className:"row align-items-center",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("h4",{className:"mb-1",children:"Current wallet"}),Object(N.jsxs)("p",{className:"small mb-0 text-muted",children:["Account:"," ",Object(N.jsx)("span",{className:"text-primary",children:R.getBasicProfile().getEmail()})]})]}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("span",{className:"btn btn-primary",onClick:function(){return X("cached")},children:"Select"})})]})}),C&&Object(N.jsx)("li",{className:"list-group-item",children:Object(N.jsxs)("div",{className:"row align-items-center",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("h4",{className:"mb-1",children:"Recoverable wallet"}),Object(N.jsxs)("p",{className:"small mb-0 text-muted",children:["Powered by ",Object(N.jsx)("a",{href:"https://tor.us/",children:"Torus"})]})]}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("span",{className:"btn btn-white",onClick:function(){return X("fresh")},children:Object(N.jsx)("img",{height:"18",width:"18",src:"/google.svg",className:"mt-n1",alt:"Google"})})})]})}),Object(N.jsx)("li",{className:"list-group-item",children:Object(N.jsxs)("div",{className:"row align-items-center",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("h4",{className:"mb-1",children:"Local wallet"}),Object(N.jsx)("p",{className:"small mb-0 text-muted",children:"Saved to browser storage"})]}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("span",{className:"btn btn-white",onClick:function(){H(),l(g.a)},children:"Select"})})]})})]})})]})})})}),Object(N.jsx)("div",{className:"container min-vh-100 d-flex flex-column",children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(x.a,{show:$,wallet:Y}),Object(N.jsx)(T,{show:$})]})}function T(e){return e.show?Object(N.jsx)("div",{className:"modal-backdrop fade show"}):Object(N.jsx)("div",{className:"fade"})}}).call(this,n(22).Buffer)},347:function(e,t,n){},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(9),c=n(3),a=n.n(c),s=n(39),i=n(19),o=n(84),u=n(76),l=n(0),d=a.a.createContext(void 0),b=a.a.createContext(void 0);function j(e){var t,n=e.children,c=a.a.useState(),j=Object(r.a)(c,2),f=j[0],m=j[1],h=null===(t=Object(i.f)())||void 0===t?void 0:t.rpcUrl;a.a.useEffect((function(){m(h)}),[h,m]);var v=a.a.useMemo((function(){if(void 0===f)return{};try{var e=new URL(f).toString();return{connection:new s.b(e)}}catch(t){return console.error(t),{}}}),[f]);return Object(l.jsx)(d.Provider,{value:c,children:Object(l.jsx)(b.Provider,{value:v,children:Object(l.jsx)(o.a,{children:Object(l.jsx)(u.a,{children:n})})})})}function f(){var e=a.a.useContext(d);if(void 0===e)throw new Error("useRpcUrlState must be used within a RpcProvider");return e}function m(){var e=a.a.useContext(b);if(void 0===e)throw new Error("useConnection must be used within a RpcProvider");return e.connection}},355:function(e,t){},356:function(e,t){},36:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(39),c=n(44);function a(e){return new Promise((function(t){return setTimeout(t,e)}))}function s(e,t){console.error(t,e),"custom"!==new URLSearchParams(window.location.search).get("cluster")&&c.a(e,{tags:{context:t}})}function i(){return"localhost"===window.location.hostname}var o=function(){var t=window.localStorage.getItem("paymentKey");if(t)return new r.a(e.from(t,"base64"));var n=new r.a;return window.localStorage.setItem("paymentKey",e.from(n.secretKey).toString("base64")),n}()}).call(this,n(22).Buffer)},375:function(e,t){},376:function(e,t){},413:function(e,t){},421:function(e,t){},439:function(e,t){},441:function(e,t){},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(3),c=n(0),a=r.createContext(void 0);function s(e){var t=e.children,n=r.useState();return Object(c.jsx)(a.Provider,{value:n,children:t})}function i(){var e=r.useContext(a);if(void 0===e)throw new Error("usePayerState must be used within a WalletProvider");return e}},456:function(e,t){},457:function(e,t){},460:function(e,t){},470:function(e,t){},482:function(e,t){},484:function(e,t){},513:function(e,t){},515:function(e,t){},520:function(e,t){},522:function(e,t){},529:function(e,t){},541:function(e,t){},554:function(e,t){},567:function(e,t){},578:function(e,t){},68:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j}));var r=n(9),c=n(3),a=n.n(c),s=n(35),i=n(0),o=a.a.createContext(void 0),u=a.a.createContext(void 0),l=a.a.createContext(void 0);function d(){var e=a.a.useContext(o);if(!e)throw new Error("useTargetSlotRef must be used within a SlotProvider");return e}function b(){a.a.useContext(l);var e=a.a.useContext(u);if(!e)throw new Error("useSlotMetricsRef must be used within a SlotProvider");return e}function j(e){var t=e.children,n=Object(s.b)(),c=a.a.useRef(),d=a.a.useRef(new Map),b=a.a.useState(0),j=Object(r.a)(b,2),f=j[0],m=j[1];return a.a.useEffect((function(){if(void 0!==n){var e=!1,t=n.onSlotChange((function(e){var t=e.slot;c.current=t})),r=setInterval((function(){m((function(e){return e+1}))}),1e3),a=n.onSlotUpdate((function(r){e||(n.removeSlotChangeListener(t),e=!0);var a=r.type,s=r.slot,i=r.timestamp;if("firstShredReceived"===a)return c.current=Math.max(s,c.current||0),void d.current.set(s,{firstShred:i});var o=d.current.get(s);if(o)switch(a){case"allShredsReceived":o.fullSlot=i;break;case"startReplay":o.replayStart=i;break;case"frozen":o.frozen=i;var u=r.entry_stats;o.numEntries=u.numEntries,o.numTransactions=u.numTransactions,o.maxTpe=u.maxTxPerEntry;break;case"voted":o.voted=i;break;case"optimisticConfirmation":o.confirmed=i;break;case"root":o.rooted=i}}));return function(){clearInterval(r),e||n.removeSlotChangeListener(t),n.removeSlotUpdateListener(a)}}}),[n]),Object(i.jsx)(o.Provider,{value:c,children:Object(i.jsx)(u.Provider,{value:d,children:Object(i.jsx)(l.Provider,{value:f,children:t})})})}},685:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(313),s=n.n(a),i=n(50),o=n(694),u=n(335),l=(n(347),n(9)),d=n(24),b=n(8),j=n(10),f=n(14),m=n(15),h=n.p+"static/media/graphic.f8dd2e42.svg",v=n(146),x=n(147),O=n(0),p=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container home-page",children:[Object(O.jsx)("div",{className:"d-flex min-vh-100 align-items-center px-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 mt-4",children:[Object(O.jsx)("img",{src:v.a,alt:"break",className:"img-fluid mr-lg-4 mb-lg-0 mb-4"}),Object(O.jsx)("img",{src:x.a,alt:"solana",className:"img-fluid"})]}),Object(O.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(O.jsxs)("p",{className:"introduction my-5",children:["Solana is the world\u2019s most performant blockchain \u2014 currently, it can handle ",Object(O.jsx)("b",{children:"50,000"})," transactions per second with 400 millisecond block times."]}),Object(O.jsx)("p",{className:"introduction",children:"To see just how fast it is, you're invited to come and Break Solana. During the next fifteen seconds, send as many transactions as you can by mashing your keyboard."})]}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)(i.b,{className:"btn btn-pink px-6 py-3 mb-5 text-uppercase",to:"/game",children:"Play the game"})})]})}),Object(O.jsx)("img",{className:"graphic",src:h,alt:"abstract graphic"})]})}}]),n}(r.Component),g=n(7),w=n(85),N=n(4),y=n.n(N),k=n(6),C=n(323),S=n.n(C),P=n(39),E=n(19),T=n(76),I=n(45),A=n(35),R=n(84);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=Math.abs(e)/P.c;return"\u25ce"+new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(n)}function U(e){var t,n=e.account,r=Object(T.b)(),a=Object(A.b)(),s=Object(R.b)(),i=Object(I.b)(),o=Object(l.a)(i,2)[1],u=(null===(t=Object(E.f)())||void 0===t?void 0:t.gameCost)||0,d=u/P.c,b=n.publicKey.toBase58(),j="loading"!==r&&r>=u,f=function(e,t){var n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,r=/Android/i.test(navigator.userAgent);if(n||r){var c="https://link.trustwallet.com/send?coin=501&address=".concat(e);return n&&(c+="&amount="+t),c}}(b,d),m=c.a.useState(!1),h=Object(l.a)(m,2),v=h[0],x=h[1],p=c.a.useState(!f),g=Object(l.a)(p,2),w=g[0],N=g[1],C=c.a.useState(!1),U=Object(l.a)(C,2),L=U[0],M=U[1],W=c.a.useState(),G=Object(l.a)(W,2),_=G[0],q=G[1],D=c.a.useState(""),K=Object(l.a)(D,2),z=K[0],H=K[1],J=c.a.useMemo((function(){return a&&s&&_&&"number"===typeof r}),[a,s,_,r]),V=c.a.useCallback((function(){a&&s&&_&&"number"===typeof r&&Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(P.g)(a,new P.f({recentBlockhash:s}).add(P.e.transfer({fromPubkey:n.publicKey,toPubkey:_,lamports:r-5e3})),[n],{commitment:"singleGossip",preflightCommitment:"singleGossip"});case 3:H("Withdraw succeeded"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),H("Withdraw failed");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),[n,r,a,s,_]);return c.a.useEffect((function(){if(v){var e=setTimeout((function(){x(!1)}),1e3);return function(){return clearTimeout(e)}}}),[v]),Object(O.jsxs)("div",{className:"card mb-0",children:[Object(O.jsxs)("div",{className:"card-header",children:[Object(O.jsx)("h3",{className:"card-header-title font-weight-bold",children:"Wallet"}),"loading"!==r&&Object(O.jsx)("span",{className:"text-".concat(j?"primary":"warning"),children:j?"Press Play to Start":f?"Add Funds to Play":"Transfer SOL to Play"})]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"Address"}),Object(O.jsx)("div",{children:Object(O.jsxs)("span",{className:"btn btn-sm btn-white",onClick:function(){navigator.clipboard.writeText(b),x(!0)},children:[Object(O.jsx)("span",{className:"fe fe-clipboard mr-2"}),v?"Copied":"Copy"]})})]}),Object(O.jsx)("div",{className:"d-flex mb-4 pb-4 border-bottom",children:Object(O.jsx)("span",{className:"badge badge-dark overflow-hidden",children:Object(O.jsx)("h4",{className:"mb-0 text-truncate",children:b})})}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"QR Code"}),Object(O.jsx)("span",{className:"btn btn-sm btn-white ml-2",onClick:function(){return N((function(e){return!e}))},children:w?"Hide":"Show"})]}),w&&Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-4 pb-4 border-bottom",children:Object(O.jsx)(S.a,{value:"solana:".concat(b,"?amount=").concat(d),includeMargin:!0,bgColor:"#000",fgColor:"#FFF",renderAs:"svg",className:"qr-code"})}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"Live Balance"}),Object(O.jsx)("span",{className:"badge badge-dark",children:Object(O.jsx)("h4",{className:"mb-0",children:"loading"===r?Object(O.jsx)("span",{className:"spinner-grow spinner-grow-sm mr-2"}):F(r)})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"Withdraw Funds"}),Object(O.jsx)("span",{className:"btn btn-sm btn-white",onClick:function(){M((function(e){return!e})),H("")},children:L?"Hide":"Withdraw"})]}),L&&Object(O.jsxs)("div",{className:"mb-4 pb-4 border-bottom",children:[z&&Object(O.jsx)("p",{children:z}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("input",{type:"text",className:"form-control",style:{flex:1,maxWidth:"500px"},placeholder:"To Address",onInput:function(e){H("");try{q(new P.d(e.currentTarget.value))}catch(t){q(void 0)}}}),Object(O.jsx)("input",{className:"btn btn-sm btn-white ml-2",type:"button",value:"Withdraw",disabled:!J,onClick:function(){return V()}})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"Change Wallet"}),Object(O.jsxs)("span",{className:"btn btn-sm btn-white",onClick:function(){return o(void 0)},children:[Object(O.jsx)("span",{className:"fe fe-list mr-2"}),"List"]})]}),f&&Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-4 pt-4 border-top",children:[Object(O.jsx)("div",{className:"font-weight-bold",children:"Add Funds"}),Object(O.jsxs)("a",{className:"btn btn-sm btn-info",href:f,target:"_blank",rel:"noopener noreferrer",children:[Object(O.jsx)("span",{className:"fe fe-external-link mr-2"}),"Open Trust Wallet"]})]})]}),Object(O.jsx)(B,{})]})}function B(){var e,t=Object(T.b)(),n=(null===(e=Object(E.f)())||void 0===e?void 0:e.gameCost)||0,r=Object(E.h)(),c=t>=n;return Object(O.jsxs)("div",{className:"card-footer d-flex flex-column align-items-center",children:[Object(O.jsx)("input",{type:"button",value:"Play",disabled:!c,className:"btn btn-pink w-100 text-uppercase",onClick:r}),Object(O.jsxs)("span",{className:"text-muted small mt-2",children:["One play costs ",F(n)]})]})}n(230);var L=n(77);function M(e){var t=e.transaction,n=t.status,r=t.details,c=Object(L.b)(),a="";return a="success"===t.status?"primary":"timeout"===n?"danger":"dark",Object(O.jsx)("div",{onClick:function(){return c(r.signature)},className:"btn d-flex flex-column justify-content-center align-items-center square slideInRight btn-".concat(a)})}var W=n(29),G=n(25),_=n(68);function q(e,t){if(void 0!==e&&void 0!==t)return(Math.max(0,t-e)/1e3).toFixed(3)+"s"}function D(e){var t,n,r,c,a,s,i,o,u,l,d,b,j,f,m,h,v,x,p,g,w,N,y,k,C=e.transaction,S=C.details.signature,P=Object(L.b)(),E=Object(_.b)();"success"===C.status?(p=C.slot.target,g=C.slot.landed,w=C.timing,N=C.received):"timeout"===C.status||(p=C.pending.targetSlot,w=C.timing,N=C.received);var T,I,A=[];if(void 0!==g&&(k=null===(T=N)||void 0===T||null===(I=T.find((function(e){return e.slot===g})))||void 0===I?void 0:I.timestamp,y=E.current.get(g),p))for(var R=p;R<g;R++){var F;void 0===(null===(F=E.current.get(R))||void 0===F?void 0:F.confirmed)&&A.push(R.toString().substr(-3))}return Object(O.jsxs)("tr",{className:"debug-row text-monospace",onClick:function(){return P(S)},children:[Object(O.jsxs)("td",{children:[S.slice(0,7),"\u2026"]}),Object(O.jsx)("td",{children:p||"-"}),Object(O.jsx)("td",{children:g||"-"}),Object(O.jsx)("td",{children:(null===(t=y)||void 0===t?void 0:t.numTransactions)||"-"}),Object(O.jsx)("td",{children:(null===(n=y)||void 0===n?void 0:n.numEntries)||"-"}),Object(O.jsx)("td",{children:(null===(r=y)||void 0===r?void 0:r.maxTpe)||"-"}),Object(O.jsx)("td",{children:A.toString()||"-"}),Object(O.jsx)("td",{children:q(null===(c=w)||void 0===c?void 0:c.subscribed,null===(a=y)||void 0===a?void 0:a.firstShred)||"-"}),Object(O.jsx)("td",{children:q(null===(s=w)||void 0===s?void 0:s.subscribed,k)||"-"}),Object(O.jsx)("td",{children:q(null===(i=w)||void 0===i?void 0:i.subscribed,null===(o=y)||void 0===o?void 0:o.fullSlot)||"-"}),Object(O.jsx)("td",{children:q(null===(u=w)||void 0===u?void 0:u.subscribed,null===(l=y)||void 0===l?void 0:l.replayStart)||"-"}),Object(O.jsx)("td",{children:q(null===(d=w)||void 0===d?void 0:d.subscribed,null===(b=y)||void 0===b?void 0:b.frozen)||"-"}),Object(O.jsx)("td",{children:q(null===(j=w)||void 0===j?void 0:j.subscribed,null===(f=y)||void 0===f?void 0:f.voted)||"-"}),Object(O.jsx)("td",{children:q(null===(m=w)||void 0===m?void 0:m.subscribed,null===(h=y)||void 0===h?void 0:h.confirmed)||"-"}),Object(O.jsx)("td",{children:q(null===(v=w)||void 0===v?void 0:v.subscribed,null===(x=y)||void 0===x?void 0:x.rooted)||"-"})]})}var K=n(69);function z(e){var t=e.enabled,n=Object(W.f)(),a=Object(G.d)(),s=Object(G.c)(),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(G.e)(),b=c.a.useState(!1),j=Object(l.a)(b,2),f=j[0],m=j[1],h=Object(r.useCallback)((function(){t&&(void 0!==o?n.current():"play"===a&&(n.current(),u(performance.now())))}),[t,n,a,o,u]);return Object(r.useEffect)((function(){if(!f||t){if(f){var e,n=setTimeout((function(){e=setInterval((function(){h()}),30)}),300);return function(){clearTimeout(n),clearInterval(e)}}}else m(!1)}),[f,t,h]),Object(r.useEffect)((function(){if(new URLSearchParams(window.location.search).has("test")){h();var e=window.setInterval((function(){return h()}),1e3);return function(){return clearInterval(e)}}}),[h]),Object(r.useEffect)((function(){return document.addEventListener("keyup",h),function(){document.removeEventListener("keyup",h)}}),[h]),Object(O.jsxs)("div",{className:"card h-100 mb-0",children:[Object(O.jsxs)("div",{className:"card-header",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(V,{}),Object(O.jsx)("span",{className:"text-truncate",children:"Live Transaction Statuses"})]}),Object(O.jsx)("div",{className:"text-primary d-none d-md-block",children:t?"Press any key to send a transaction":"Game finished"})]}),K.b?Object(O.jsx)(H,{}):Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("div",{className:"tx-wrapper border-1 border-primary h-100 position-relative",children:[void 0===o&&t?Object(O.jsx)("div",{className:"d-flex h-100 justify-content-center align-items-center p-3",children:Object(O.jsxs)("h2",{className:"text-center",children:["Try to break Solana's network by sending as many transactions as you can in ",G.a," seconds!"]})}):null,Object(O.jsx)(J,{})]})}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsxs)("span",{className:"btn btn-pink w-100 text-uppercase text-truncate touch-action-none",onContextMenu:function(e){return e.preventDefault()},onPointerDown:function(){return m(!0)},onPointerUp:function(){return m(!1)},onPointerLeave:function(){return m(!1)},onPointerCancel:function(){return m(!1)},onClick:t?h:d,children:[Object(O.jsx)("span",{className:"fe fe-".concat(t?"zap":"repeat"," mr-2")}),t?"Send new transactions":"Play again"]})})]})}function H(){var e=Object(r.useRef)(null),t=Object(W.k)();return Object(r.useEffect)((function(){var t=e.current;t&&(t.scrollTop=t.scrollHeight)}),[t.length]),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)("div",{className:"content",children:Object(O.jsx)("div",{ref:e,className:"debug-wrapper",children:Object(O.jsxs)("table",{className:"table table-sm mb-0",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"text-muted sticky",children:"Transaction"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Target Slot"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Inclusion Slot"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Tx Count"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Entry Count"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Max Tx Per Entry"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Forked Slots"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"First Shred"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Tx Landed"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"All Shreds"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Replay Start"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Replay End"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Voted"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Confirmed"}),Object(O.jsx)("th",{className:"text-muted sticky",children:"Rooted"})]})}),Object(O.jsx)("tbody",{className:"list",children:t.map((function(e){return Object(O.jsx)(D,{transaction:e},e.details.signature)}))})]})})})})}function J(){var e=Object(r.useRef)(null),t=Object(W.k)();Object(r.useEffect)((function(){var t=e.current;t&&(t.scrollTop=t.scrollHeight)}),[t.length]);var n=t.map((function(e){return Object(O.jsx)(M,{transaction:e},e.details.signature)}));return Object(O.jsx)("div",{ref:e,className:"square-container",tabIndex:0,children:n})}function V(){var e=c.a.useState(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(O.jsxs)("div",{className:"popover-container c-pointer mr-3",onClick:function(){return r(!0)},onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},children:[Object(O.jsx)("span",{className:"fe fe-help-circle"}),Object(O.jsx)(Q,{show:n})]})}function Q(e){return e.show?Object(O.jsxs)("div",{className:"popover bs-popover-bottom right show",children:[Object(O.jsx)("div",{className:"arrow"}),Object(O.jsx)("div",{className:"popover-body",children:Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(O.jsx)("div",{className:"btn square legend slideInRight btn-dark mr-2"}),Object(O.jsx)("span",{children:"Pending transaction"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(O.jsx)("div",{className:"btn square legend slideInRight btn-primary mr-2"}),Object(O.jsx)("span",{children:"Confirmed transaction"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("div",{className:"btn square legend slideInRight btn-danger mr-2"}),Object(O.jsx)("span",{children:"Failed transaction"})]})]})})]}):null}function X(){var e=Object(L.c)(),t=Object(L.b)(),n=function(){return t(void 0)},r=!!e;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"modal fade".concat(r?" show":""),onClick:n,children:e?Object(O.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(O.jsx)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:Object(O.jsxs)("div",{className:"modal-card card mb-0",children:[Object(O.jsxs)("div",{className:"card-header",children:[Object(O.jsx)("h4",{className:"card-header-title",children:"Transaction Details"}),Object(O.jsx)("button",{type:"button",className:"close",onClick:n,children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsx)(Z,{transaction:e})})]})})}):null}),Object(O.jsx)(Y,{show:r})]})}function Y(e){return e.show?Object(O.jsx)("div",{className:"modal-backdrop fade show"}):Object(O.jsx)("div",{className:"fade"})}function Z(e){var t=e.transaction,n=Object(E.e)(),r=Object(_.b)(),c=t.details,a=c.signature,s=c.feeAccount,i=c.programAccount,o=function(e){return"https://explorer.solana.com/".concat(e,"?").concat(n)},u=s.toBase58(),l=i.toBase58();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[Object(O.jsx)("div",{className:"",children:"Signature"}),Object(O.jsx)("div",{children:Object(O.jsxs)("a",{href:o("tx/"+a),target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-white",children:[Object(O.jsx)("span",{className:"fe fe-external-link mr-2"}),"Explorer"]})})]}),Object(O.jsx)("div",{className:"d-flex mb-4",children:Object(O.jsx)("span",{className:"badge badge-dark overflow-hidden",children:Object(O.jsx)("h4",{className:"mb-0 text-truncate",children:a})})})]}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[Object(O.jsx)("div",{className:"",children:"Fee Account"}),Object(O.jsx)("div",{children:Object(O.jsxs)("a",{href:o("address/"+u),target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-white",children:[Object(O.jsx)("span",{className:"fe fe-external-link mr-2"}),"Explorer"]})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom",children:[Object(O.jsx)("div",{className:"",children:"Break Account"}),Object(O.jsx)("div",{children:Object(O.jsxs)("a",{href:o("address/"+l),target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-white",children:[Object(O.jsx)("span",{className:"fe fe-external-link mr-2"}),"Explorer"]})})]})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[Object(O.jsx)("div",{className:"",children:"Confirmation Time"}),function(){if("timeout"===t.status)return Object(O.jsx)("span",{className:"text-warning",children:"Timed out"});if("success"===t.status){var e=t.timing.subscribed;if(void 0!==e&&void 0!==t.slot.landed){var n=r.current.get(t.slot.landed),c=q(e,null===n||void 0===n?void 0:n.confirmed);if(c)return Object(O.jsxs)("span",{className:"text-success",children:[c," sec"]})}}return Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"spinner-grow spinner-grow-sm mr-2"}),"Processing"]})}()]}),"success"===t.status&&Object(O.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[Object(O.jsx)("div",{className:"",children:"Confirmed Block"}),t.slot.landed]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsx)("div",{className:"",children:"Finalization Status"}),"success"===t.status?t.pending?Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"spinner-grow spinner-grow-sm mr-2"}),"Finalizing"]}):Object(O.jsx)("span",{className:"text-success",children:"Finalized"}):"N/A"]})]})}var $=n(83);function ee(){var e=Object(G.d)(),t=Object(G.c)(),n=Object(l.a)(t,1)[0],r="payment"===e,c="loading"===e,a="play"===e||void 0!==n,s=Object(I.b)(),i=Object(l.a)(s,1)[0],o=Object(d.h)();return r?i?Object(O.jsx)(d.a,{to:Object(g.a)(Object(g.a)({},o),{},{pathname:"/wallet"})}):Object(O.jsx)(d.a,{to:Object(g.a)(Object(g.a)({},o),{},{pathname:"/setup"})}):Object(O.jsxs)("div",{className:"container min-vh-100 d-flex flex-column",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{}),a&&Object(O.jsx)(ne,{})]}),Object(O.jsx)("div",{className:"row flex-grow-1 mb-5",children:Object(O.jsx)("div",{className:"col",children:c&&void 0===n?Object(O.jsx)(te,{}):r&&i?Object(O.jsx)(U,{account:i}):Object(O.jsx)(z,{enabled:!0})})}),Object(O.jsx)(X,{})]})}function te(){return Object(O.jsxs)("div",{className:"card mb-0 h-100",children:[Object(O.jsx)("div",{className:"card-header"}),Object(O.jsx)("div",{className:"card-body"})]})}function ne(){var e=Object(W.g)(),t=Object(W.d)().toFixed(2),n=Object(W.j)(),r=Object($.b)();return Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(re,{label:"Transactions Sent",value:e,icon:"send"}),Object(O.jsx)(re,{label:"Avg. Confirmation Time",value:"".concat(t,"s"),icon:"clock"}),Object(O.jsx)(re,{label:"Players Online",value:r,icon:"user"}),Object(O.jsx)(re,{label:"Transactions per Second",value:n,icon:"zap"})]})}function re(e){var t=e.label,n=e.value,r=e.icon;return Object(O.jsx)("div",{className:"stat-card col-6 col-lg-3 d-flex flex-column",children:Object(O.jsx)("div",{className:"card flex-grow-1",children:Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("div",{className:"row align-items-center",children:[Object(O.jsxs)("div",{className:"col-12 col-md-9",children:[Object(O.jsx)("h6",{className:"text-uppercase text-truncate mb-2",children:t}),Object(O.jsx)("span",{className:"h2 mb-0 text-primary",children:n})]}),Object(O.jsx)("div",{className:"col-md-3 d-none d-md-block text-right",children:Object(O.jsx)("span",{className:"h2 fe fe-".concat(r," text-primary mb-0")})})]})})})})}var ce=n(324),ae=n(330);function se(){var e=Object(W.g)(),t=Object(d.h)();return 0===e?Object(O.jsx)(d.a,{to:Object(g.a)(Object(g.a)({},t),{},{pathname:"/game"})}):Object(O.jsxs)("div",{className:"container min-vh-100 d-flex flex-column",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{}),Object(O.jsx)(oe,{}),Object(O.jsx)(ie,{})]}),Object(O.jsx)("div",{className:"row flex-grow-1 mb-5",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)(z,{})})}),Object(O.jsx)(X,{})]})}function ie(){var e=Object(W.e)(),t={solana:100*e/(5e4*G.a),bitcoin:100*e/(4.6*G.a),ethereum:100*e/(15*G.a)};return Object(O.jsx)("div",{className:"row justify-content-center mb-5 results-summary px-4",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsxs)("h3",{className:"text-center",children:["With"," ",Object(O.jsx)("span",{className:"text-primary font-weight-bold",children:e})," ","transactions in ",G.a," seconds you took up"," ",Object(O.jsxs)("span",{className:"text-primary font-weight-bold",children:[t.solana.toFixed(3),"%"]})," ","of Solana\u2019s capacity."]}),Object(O.jsxs)("h3",{className:"text-center",children:["Processing the same amount of transactions would have taken up"," ",Object(O.jsxs)("span",{className:"text-primary font-weight-bold",children:[t.ethereum.toFixed(1),"%"]})," ","of Ethereum\u2019s capacity and"," ",Object(O.jsxs)("span",{className:"text-primary font-weight-bold",children:[t.bitcoin.toFixed(1),"%"]})," ","of Bitcoin\u2019s capacity."]})]})})}function oe(){var e=Object(W.g)(),t=Object(W.e)(),n=Object(W.i)(),r=Object(W.d)(),c=e-t-n;e>0||(c=1);var a={labels:["Confirmed","Dropped","Processing"],datasets:[{data:[t,n,c],borderColor:["#000","#000","#000"],backgroundColor:["#00ffad","#ea134d","#2A2A2A"]}]},s=t>0,i=100*t/(5e4*G.a),o=s?Math.max(.5,parseFloat(i.toFixed(2))):0,u={datasets:[{data:[o,100-o],borderColor:["#000","#000"],backgroundColor:["#00ffad","#2A2A2A"]}]},l=!!r,d={datasets:[{data:new Array(50).fill(1),borderColor:new Array(50).fill("#000"),backgroundColor:new Array(50).fill(l?"#00ffad":"#2A2A2A")}]};return Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"stats d-flex mb-5 justify-content-between w-100",children:[Object(O.jsx)(de,{data:d,title:"Average Confirmation",value:r?r.toFixed(2)+"s":"---"}),Object(O.jsx)(de,{data:a,title:"Transactions Processed",value:"".concat(t," of ").concat(e)}),Object(O.jsx)(de,{data:u,title:"Capacity Used",value:i.toFixed(3)+"%"})]})})}var ue={display:!1},le={showLines:!1,cutoutPercentage:90,maintainAspectRatio:!1};function de(e){var t=e.data,n=e.value,r=e.title;return Object(O.jsx)("div",{className:"px-4",children:Object(O.jsxs)("div",{className:"position-relative stat-circle",children:[Object(O.jsx)(ae.Doughnut,{data:t,legend:ue,options:le}),Object(O.jsxs)("div",{className:"donut-content",children:[Object(O.jsx)("h2",{className:"mb-3",children:n}),Object(O.jsx)("h6",{className:"text-muted text-center text-uppercase",children:r})]})]})})}function be(){var e=Object(I.b)(),t=Object(l.a)(e,1)[0],n=Object(G.d)(),r=Object(d.h)();return t?"payment"!==n?Object(O.jsx)(d.a,{to:Object(g.a)(Object(g.a)({},r),{},{pathname:"/game"})}):Object(O.jsxs)("div",{className:"container min-vh-100 d-flex flex-column",children:[Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{})}),Object(O.jsx)("div",{className:"row flex-grow-1 mb-5",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)(U,{account:t})})})]}):Object(O.jsx)(d.a,{to:Object(g.a)(Object(g.a)({},r),{},{pathname:"/setup"})})}var je=n(211),fe=n(32);function me(){var e,t,n=Object(A.c)(),r=Object(l.a)(n,2),a=r[0],s=r[1],i=c.a.useState(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],b=null===(e=Object(E.f)())||void 0===e?void 0:e.rpcUrl,j=b!==a,f=Object(je.a)((function(e){e.length>0?s(e):b&&s(b)}),500),m=j?a:"",h=u?"":"text-muted";return Object(O.jsx)("input",{type:"text",defaultValue:m,placeholder:"http://127.0.0.1:8899",className:"form-control form-control-prepended b-black ".concat(h," ").concat((t="border",j?"".concat(t,"-info"):"")),onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},onInput:function(e){return f(e.currentTarget.value)}})}function he(){var e=Object(fe.f)(),t=Object(l.a)(e,2),n=t[0],r=t[1],a=c.a.useState(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(je.a)((function(e){r(e)}),500),d=i?"":"text-muted";return Object(O.jsx)("input",{type:"text",defaultValue:n,className:"form-control form-control-prepended b-black ".concat(d),onFocus:function(){return o(!0)},onBlur:function(){return o(!1)},onInput:function(e){return u(e.currentTarget.value)}})}function ve(){var e=Object(fe.g)().server;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"btn-group-toggle d-flex flex-wrap mb-4",children:fe.b.map((function(t){var n=t===e?"active btn-dark border-info text-white":"btn-dark";return Object(O.jsx)(i.b,{className:"btn text-center col-12 mb-3 ".concat(n),to:function(e){var n=new URLSearchParams(e.search);return t!==fe.a?n.set("cluster",t):n.delete("cluster"),Object(g.a)(Object(g.a)({},e),{},{search:n.toString()})},children:Object(fe.d)(t)},t)}))}),"custom"===e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"text-center mb-4 mt-4",children:"Break Server URL"}),Object(O.jsx)(he,{})]})]})}var xe=function(){var e=Object(fe.e)(),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)},a=Object(fe.g)().server;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"modal fade fixed-right".concat(n?" show":""),onClick:c,children:Object(O.jsx)("div",{className:"modal-dialog modal-dialog-vertical",children:Object(O.jsx)("div",{className:"modal-content",children:Object(O.jsxs)("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("span",{className:"c-pointer",onClick:c,children:"\xd7"}),Object(O.jsx)("h2",{className:"text-center mb-4 mt-4",children:"Choose a Cluster"}),Object(O.jsx)(ve,{}),Object(O.jsxs)("h2",{className:"text-center mb-4 mt-5",children:["Override ",Object(fe.d)(a)," RPC"]}),Object(O.jsx)(me,{})]})})})})})},Oe=n(151);function pe(){var e,t,n=!!(null===(e=Object(d.i)("/"))||void 0===e?void 0:e.isExact),r=!!(null===(t=Object(d.i)("/setup"))||void 0===t?void 0:t.isExact),c=Object(G.d)(),a=Object(fe.e)(),s=Object(l.a)(a,1)[0],i=!n&&!r&&"loading"===c;return Object(O.jsxs)("div",{className:"main-content",children:[Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",exact:!0,component:p}),Object(O.jsx)(d.b,{path:"/game",exact:!0,component:ee}),Object(O.jsx)(d.b,{path:"/setup",exact:!0,component:ce.a}),Object(O.jsx)(d.b,{path:"/results",exact:!0,component:se}),Object(O.jsx)(d.b,{path:"/wallet",exact:!0,component:be}),Object(O.jsx)(d.a,{from:"*",to:"/",exact:!0})]}),Object(O.jsx)(Oe.a,{show:i}),Object(O.jsx)(xe,{}),Object(O.jsx)(ge,{show:i||s})]})}function ge(e){return e.show?Object(O.jsx)("div",{className:"modal-backdrop fade show"}):Object(O.jsx)("div",{className:"fade"})}o.a({dsn:"https://727cd3fff6f949449c1ce5030928e667@o434108.ingest.sentry.io/5411826",integrations:[new u.a.BrowserTracing],tracesSampleRate:1}),s.a.render(Object(O.jsx)(i.a,{children:Object(O.jsx)(I.a,{children:Object(O.jsx)(fe.c,{children:Object(O.jsx)(A.a,{children:Object(O.jsx)(_.a,{children:Object(O.jsx)(W.b,{children:Object(O.jsx)(G.b,{children:Object(O.jsx)(pe,{})})})})})})})}),document.getElementById("root"))},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),c=n(19),a=n(29),s=n(35);Math.pow(2,16);var i=n(0),o=new URLSearchParams(window.location.search).has("debug"),u=function(){if(o)return["singleGossip"];switch(a.a){case"recent":return[a.a,"singleGossip"];default:return["singleGossip"]}};function l(e){var t=e.children,n=Object(a.h)(),l=Object(s.b)(),d=Object(c.c)();return r.useEffect((function(){if(void 0!==l&&void 0!==d&&!o){var e=u(),t=d.programAccounts.length,r=d.programAccounts.map((function(r,c){return e.map((function(e){return l.onAccountChange(r,(function(r,a){var s=a.slot,i=new Set(function(e){var t=new Array;return e.forEach((function(e,n){for(var r=7;r>=0;r--)(e&1<<r)===1<<r&&t.push(8*n+(7-r))})),t}(r.data));n({type:"update",activeIdPartition:{ids:i,partition:c,partitionCount:t},commitment:e,estimatedSlot:s,receivedAt:performance.now()})}),e)}))}));return function(){r.forEach((function(e){e.forEach((function(e){l.removeAccountChangeListener(e)}))}))}}}),[n,l,d]),Object(i.jsx)(i.Fragment,{children:t})}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(4),c=n.n(r),a=n(6),s=n(9),i=n(3),o=n(19),u=n(45),l=n(36),d=n(35),b=n(0),j=i.createContext(void 0);function f(e){var t=e.children,n=i.useState("loading"),r=Object(s.a)(n,2),f=r[0],m=r[1],h=Object(u.b)(),v=Object(s.a)(h,1)[0],x=Object(o.f)(),O=Object(d.b)(),p=null===x||void 0===x?void 0:x.paymentRequired,g=i.useCallback((function(){void 0!==v&&void 0!==O&&!0===p?Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getBalance(v.publicKey,"singleGossip");case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(l.c)(e.t0,"Failed to refresh balance");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))():m("loading")}),[v,O,p]);return i.useEffect((function(){g();var e=function(){"visible"===document.visibilityState&&g()};return document.addEventListener("visibilitychange",e),function(){return document.removeEventListener("visibilitychange",e)}}),[g]),i.useEffect((function(){if(void 0!==v&&void 0!==O&&!0===p){var e=O.onAccountChange(v.publicKey,(function(e){return m(e.lamports)}),"singleGossip");return function(){O.removeAccountChangeListener(e)}}}),[v,O,p]),Object(b.jsx)(j.Provider,{value:f,children:t})}function m(){var e=i.useContext(j);if(void 0===e)throw new Error("useBalance must be used within a BalanceProvider");return e}},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(9),c=n(3),a=n(29),s=n(0),i=c.createContext(void 0);function o(e){var t=e.children,n=Object(a.k)(),o=c.useState(void 0),u=Object(r.a)(o,2),l=u[0],d=u[1],b=c.useState(void 0),j=Object(r.a)(b,2),f=j[0],m=j[1];c.useEffect((function(){m(n.find((function(e){return e.details.signature===l})))}),[n,l]);var h=c.useMemo((function(){return[f,d]}),[f]);return Object(s.jsx)(i.Provider,{value:h,children:t})}function u(){var e=c.useContext(i);if(!e)throw new Error("useSelectedTx must be used within a TransactionsProvider");return e[0]}function l(){var e=c.useContext(i);if(!e)throw new Error("useSelectTx must be used within a TransactionsProvider");return e[1]}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(4),c=n.n(r),a=n(6),s=n(9),i=n(3),o=n(32),u=n(0),l=i.createContext(void 0),d=i.createContext(void 0),b=4444,j=0;function f(e){var t=e.children,n=i.useState(void 0),r=Object(s.a)(n,2),c=r[0],a=r[1],b=i.useState(1),j=Object(s.a)(b,2),f=j[0],h=j[1],v=Object(o.g)().webSocketUrl;return i.useEffect((function(){m(v,a,h)}),[v]),Object(u.jsx)(l.Provider,{value:null===c||void 0===c?void 0:c.socket,children:Object(u.jsx)(d.Provider,{value:f,children:t})})}function m(e,t,n){var r,s=++j;try{r=new WebSocket(e)}catch(i){return}return r.onopen=function(){return t((function(e){return!e||e.id<=s?(e&&e.socket.readyState===WebSocket.OPEN&&e.socket.close(b),{socket:r,id:s}):(r.close(b),e)}))},r.onmessage=function(e){var t=JSON.parse(e.data);"activeUsers"in t&&n(t.activeUsers)},r.onclose=function(){var r=Object(a.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t((function(r){if(r&&r.id!==s)return r;a.code!==b&&(console.error("Socket closed, reconnecting..."),setTimeout((function(){m(e,t,n)}),5e3))}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r.onerror=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.close();case 1:case"end":return e.stop()}}),e)}))),r}function h(){return i.useContext(l)}function v(){var e=i.useContext(d);if(!e)throw new Error("useActiveUsers must be used within a SocketProvider");return e}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var r,c=n(4),a=n.n(c),s=n(6),i=n(9),o=n(3),u=n(36),l=n(35),d=n(0);function b(e,t){switch(t.type){case r.Stop:return{};case r.Update:return Object.assign({},e,{blockhash:t.blockhash})}}!function(e){e[e.Start=0]="Start",e[e.Stop=1]="Stop",e[e.Update=2]="Update"}(r||(r={}));var j=o.createContext(void 0),f=o.createContext(void 0);function m(e){var t=e.children,n=o.useReducer(b,{}),c=Object(i.a)(n,2),a=c[0],s=c[1],u=Object(l.b)(),m=o.useRef(u),h=o.useRef(!1);return o.useEffect((function(){if(void 0!==u){m.current=u,v(s,m,h);var e=window.setInterval((function(){return v(s,m,h)}),2e4);return function(){clearInterval(e),s({type:r.Stop})}}}),[u]),Object(d.jsx)(j.Provider,{value:a,children:Object(d.jsx)(f.Provider,{value:s,children:t})})}function h(){var e=o.useContext(j);if(!e)throw new Error("useBlockhash must be used within a BlockhashProvider");return e.blockhash}function v(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(a.a.mark((function e(t,n,c){var s,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=void 0,void 0!==(i=n.current)){e.next=4;break}return e.abrupt("return");case 4:if(!c.current){e.next=6;break}return e.abrupt("return");case 6:c.current=!0,o=!1;case 8:if(void 0!==s||i!==n.current){e.next=24;break}return e.prev=9,e.next=12,i.getRecentBlockhash("max");case 12:s=e.sent.blockhash,t({type:r.Update,blockhash:s}),e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(9),o||Object(u.c)(e.t0,"Failed to refresh blockhash"),o=!0,e.next=22,Object(u.d)(1e3);case 22:e.next=8;break;case 24:c.current=!1;case 25:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(9),c=n(3),a=n(146),s=n(147),i=n(25),o=n(32),u=n(0);var l=function(){var e=Object(o.e)(),t=Object(r.a)(e,2)[1],n=Object(o.g)().name;return Object(u.jsx)("span",{className:"btn lift d-block btn-info text-white",onClick:function(){return t(!0)},children:n})},d=n(76),b=n(19);function j(){var e,t=Object(i.d)(),n=Object(i.c)(),o=Object(r.a)(n,1)[0],j=c.useState(!1),f=Object(r.a)(j,2)[1],m=Object(i.e)(),h=Object(d.b)(),v=(null===(e=Object(b.f)())||void 0===e?void 0:e.gameCost)||0,x=Object(b.h)(),O=h>=v;c.useEffect((function(){if(void 0!==o){var e=setInterval((function(){f((function(e){return!e}))}),1e3);return function(){return clearTimeout(e)}}}),[o]);return Object(u.jsx)("div",{className:"header solana-header",children:Object(u.jsxs)("div",{className:"header-body border-dark-purple",children:[Object(u.jsxs)("div",{className:"row align-items-center justify-content-between",children:[Object(u.jsxs)("div",{className:"col-auto d-flex flex-column d-md-block align-items-center",children:[Object(u.jsx)("img",{src:a.a,alt:"break",className:"break mr-3"}),Object(u.jsx)("img",{src:s.a,alt:"solana",className:"solana"})]}),Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[function(){if("payment"===t&&O)return Object(u.jsx)("div",{className:"btn btn-pink lift",onClick:x,children:"Play"});if("loading"===t||"payment"===t)return null;if("reset"===t)return Object(u.jsx)("div",{className:"btn btn-pink lift",onClick:m,children:"Play Again"});var e=i.a;return void 0!==o&&(e=Math.max(0,i.a-Math.floor((performance.now()-o)/1e3))),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)("div",{className:"btn btn-pink btn-secondary",children:Object(u.jsx)("span",{className:"fe fe-clock"})}),Object(u.jsxs)("div",{className:"btn btn-pink btn-secondary gameState text-center",children:[e,"s"]})]})}(),Object(u.jsx)("div",{className:"d-md-inline-block d-none ml-3",children:Object(u.jsx)(l,{})}),Object(u.jsxs)("a",{className:"btn btn-white lift ml-3",href:"https://github.com/solana-labs/break",target:"_blank",rel:"noopener noreferrer",children:[Object(u.jsx)("span",{className:"fe fe-github mr-2"}),"Source"]})]})})]}),Object(u.jsx)("div",{className:"row align-items-center d-md-none mt-4",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(l,{})})})]})})}}},[[685,1,2]]]);
//# sourceMappingURL=main.2fd330d3.chunk.js.map