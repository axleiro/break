{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jstarry/Workspace/solana/break/client/src/providers/transactions/selected.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useTransactions } from \"./index\";\nexport const SelectedContext = /*#__PURE__*/React.createContext(undefined);\nexport function SelectedTxProvider({\n  children\n}) {\n  _s();\n\n  const transactions = useTransactions();\n  const [signature, selectSignature] = React.useState(undefined);\n  const [transaction, selectTransaction] = React.useState(undefined);\n  React.useEffect(() => {\n    selectTransaction(transactions.find(tx => tx.details.signature === signature));\n  }, [transactions, signature]);\n  const selectedState = React.useMemo(() => {\n    return [transaction, selectSignature];\n  }, [transaction]);\n  return /*#__PURE__*/_jsxDEV(SelectedContext.Provider, {\n    value: selectedState,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SelectedTxProvider, \"bs1dcJ89rhjM6VnJFmXIV/YV/Bo=\", false, function () {\n  return [useTransactions];\n});\n\n_c = SelectedTxProvider;\nexport function useSelectedTransaction() {\n  _s2();\n\n  const state = React.useContext(SelectedContext);\n\n  if (!state) {\n    throw new Error(`useSelectedTx must be used within a TransactionsProvider`);\n  }\n\n  return state[0];\n}\n\n_s2(useSelectedTransaction, \"kdLImxeHm3898p7tqgy8Fclg5s8=\");\n\nexport function useSelectTransaction() {\n  _s3();\n\n  const state = React.useContext(SelectedContext);\n\n  if (!state) {\n    throw new Error(`useSelectTx must be used within a TransactionsProvider`);\n  }\n\n  return state[1];\n}\n\n_s3(useSelectTransaction, \"kdLImxeHm3898p7tqgy8Fclg5s8=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectedTxProvider\");","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/providers/transactions/selected.tsx"],"names":["React","useTransactions","SelectedContext","createContext","undefined","SelectedTxProvider","children","transactions","signature","selectSignature","useState","transaction","selectTransaction","useEffect","find","tx","details","selectedState","useMemo","useSelectedTransaction","state","useContext","Error","useSelectTransaction"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,QAAkD,SAAlD;AAIA,OAAO,MAAMC,eAAe,gBAAGF,KAAK,CAACG,aAAN,CAC7BC,SAD6B,CAAxB;AAIP,OAAO,SAASC,kBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAAyD;AAAA;;AAC9D,QAAMC,YAAY,GAAGN,eAAe,EAApC;AACA,QAAM,CAACO,SAAD,EAAYC,eAAZ,IAA+BT,KAAK,CAACU,QAAN,CACnCN,SADmC,CAArC;AAGA,QAAM,CAACO,WAAD,EAAcC,iBAAd,IAAmCZ,KAAK,CAACU,QAAN,CAEvCN,SAFuC,CAAzC;AAIAJ,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AACpBD,IAAAA,iBAAiB,CACfL,YAAY,CAACO,IAAb,CAAmBC,EAAD,IAAQA,EAAE,CAACC,OAAH,CAAWR,SAAX,KAAyBA,SAAnD,CADe,CAAjB;AAGD,GAJD,EAIG,CAACD,YAAD,EAAeC,SAAf,CAJH;AAMA,QAAMS,aAA4B,GAAGjB,KAAK,CAACkB,OAAN,CAAc,MAAM;AACvD,WAAO,CAACP,WAAD,EAAcF,eAAd,CAAP;AACD,GAFoC,EAElC,CAACE,WAAD,CAFkC,CAArC;AAIA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEM,aAAjC;AAAA,cACGX;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAxBeD,kB;UACOJ,e;;;KADPI,kB;AA0BhB,OAAO,SAASc,sBAAT,GAAkC;AAAA;;AACvC,QAAMC,KAAK,GAAGpB,KAAK,CAACqB,UAAN,CAAiBnB,eAAjB,CAAd;;AACA,MAAI,CAACkB,KAAL,EAAY;AACV,UAAM,IAAIE,KAAJ,CAAW,0DAAX,CAAN;AACD;;AACD,SAAOF,KAAK,CAAC,CAAD,CAAZ;AACD;;IANeD,sB;;AAQhB,OAAO,SAASI,oBAAT,GAAgC;AAAA;;AACrC,QAAMH,KAAK,GAAGpB,KAAK,CAACqB,UAAN,CAAiBnB,eAAjB,CAAd;;AACA,MAAI,CAACkB,KAAL,EAAY;AACV,UAAM,IAAIE,KAAJ,CAAW,wDAAX,CAAN;AACD;;AACD,SAAOF,KAAK,CAAC,CAAD,CAAZ;AACD;;IANeG,oB","sourcesContent":["import * as React from \"react\";\nimport { useTransactions, TransactionState } from \"./index\";\n\ntype SetSelected = React.Dispatch<React.SetStateAction<string | undefined>>;\ntype SelectedState = [TransactionState | undefined, SetSelected];\nexport const SelectedContext = React.createContext<SelectedState | undefined>(\n  undefined\n);\ntype ProviderProps = { children: React.ReactNode };\nexport function SelectedTxProvider({ children }: ProviderProps) {\n  const transactions = useTransactions();\n  const [signature, selectSignature] = React.useState<string | undefined>(\n    undefined\n  );\n  const [transaction, selectTransaction] = React.useState<\n    TransactionState | undefined\n  >(undefined);\n\n  React.useEffect(() => {\n    selectTransaction(\n      transactions.find((tx) => tx.details.signature === signature)\n    );\n  }, [transactions, signature]);\n\n  const selectedState: SelectedState = React.useMemo(() => {\n    return [transaction, selectSignature];\n  }, [transaction]);\n\n  return (\n    <SelectedContext.Provider value={selectedState}>\n      {children}\n    </SelectedContext.Provider>\n  );\n}\n\nexport function useSelectedTransaction() {\n  const state = React.useContext(SelectedContext);\n  if (!state) {\n    throw new Error(`useSelectedTx must be used within a TransactionsProvider`);\n  }\n  return state[0];\n}\n\nexport function useSelectTransaction() {\n  const state = React.useContext(SelectedContext);\n  if (!state) {\n    throw new Error(`useSelectTx must be used within a TransactionsProvider`);\n  }\n  return state[1];\n}\n"]},"metadata":{},"sourceType":"module"}