{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.BugsnagPluginReact = f();\n  }\n})(function () {\n  var define, module, exports;\n  var _$src_1 = {};\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  _$src_1 = /*#__PURE__*/function () {\n    function BugsnagPluginReact() {\n      // Fetch React from the window object, if it exists\n      var globalReact = typeof window !== 'undefined' && window.React;\n      this.name = 'react';\n      this.lazy = arguments.length === 0 && !globalReact;\n\n      if (!this.lazy) {\n        this.React = (arguments.length <= 0 ? undefined : arguments[0]) || globalReact;\n        if (!this.React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined');\n      }\n    }\n\n    var _proto = BugsnagPluginReact.prototype;\n\n    _proto.load = function load(client) {\n      if (!this.lazy) {\n        var ErrorBoundary = createClass(this.React, client);\n\n        ErrorBoundary.createErrorBoundary = function () {\n          return ErrorBoundary;\n        };\n\n        return ErrorBoundary;\n      }\n\n      var BugsnagPluginReactLazyInitializer = function BugsnagPluginReactLazyInitializer() {\n        throw new Error(\"@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\\nPass React to the plugin constructor\\n\\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\\n\\nOr if React is not available until after Bugsnag has started,\\nconstruct the plugin with no arguments\\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\\nthen pass in React when available to construct your error boundary\\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`\");\n      };\n\n      BugsnagPluginReactLazyInitializer.createErrorBoundary = function (React) {\n        if (!React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined');\n        return createClass(React, client);\n      };\n\n      return BugsnagPluginReactLazyInitializer;\n    };\n\n    return BugsnagPluginReact;\n  }();\n\n  var formatComponentStack = function formatComponentStack(str) {\n    var lines = str.split(/\\s*\\n\\s*/g);\n    var ret = '';\n\n    for (var line = 0, len = lines.length; line < len; line++) {\n      if (lines[line].length) ret += \"\" + (ret.length ? '\\n' : '') + lines[line];\n    }\n\n    return ret;\n  };\n\n  var createClass = function createClass(React, client) {\n    return /*#__PURE__*/function (_React$Component) {\n      _inheritsLoose(ErrorBoundary, _React$Component);\n\n      function ErrorBoundary(props) {\n        var _this;\n\n        _this = _React$Component.call(this, props) || this;\n        _this.state = {\n          error: null,\n          info: null\n        };\n        _this.handleClearError = _this.handleClearError.bind(_assertThisInitialized(_this));\n        return _this;\n      }\n\n      var _proto2 = ErrorBoundary.prototype;\n\n      _proto2.handleClearError = function handleClearError() {\n        this.setState({\n          error: null,\n          info: null\n        });\n      };\n\n      _proto2.componentDidCatch = function componentDidCatch(error, info) {\n        var onError = this.props.onError;\n        var handledState = {\n          severity: 'error',\n          unhandled: true,\n          severityReason: {\n            type: 'unhandledException'\n          }\n        };\n        var event = client.Event.create(error, true, handledState, 1);\n        if (info && info.componentStack) info.componentStack = formatComponentStack(info.componentStack);\n        event.addMetadata('react', info);\n\n        client._notify(event, onError);\n\n        this.setState({\n          error: error,\n          info: info\n        });\n      };\n\n      _proto2.render = function render() {\n        var error = this.state.error;\n\n        if (error) {\n          var FallbackComponent = this.props.FallbackComponent;\n          if (FallbackComponent) return React.createElement(FallbackComponent, _extends({}, this.state, {\n            clearError: this.handleClearError\n          }));\n          return null;\n        }\n\n        return this.props.children;\n      };\n\n      return ErrorBoundary;\n    }(React.Component);\n  };\n\n  _$src_1.formatComponentStack = formatComponentStack;\n  _$src_1[\"default\"] = _$src_1;\n  return _$src_1;\n});","map":{"version":3,"sources":["../../node_modules/browser-pack-flat/_prelude","src/index.js","../../node_modules/browser-pack-flat/_postlude"],"names":[],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.BugsnagPluginReact = f()}})(function(){var define,module,exports;\n","module.exports = class BugsnagPluginReact {\n  constructor (...args) {\n    // Fetch React from the window object, if it exists\n    const globalReact = typeof window !== 'undefined' && window.React\n\n    this.name = 'react'\n    this.lazy = args.length === 0 && !globalReact\n\n    if (!this.lazy) {\n      this.React = args[0] || globalReact\n      if (!this.React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined')\n    }\n  }\n\n  load (client) {\n    if (!this.lazy) {\n      const ErrorBoundary = createClass(this.React, client)\n      ErrorBoundary.createErrorBoundary = () => ErrorBoundary\n      return ErrorBoundary\n    }\n\n    const BugsnagPluginReactLazyInitializer = function () {\n      throw new Error(`@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\nPass React to the plugin constructor\n\n  \\`Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })\\`\nand then call \\`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()\\`\n\nOr if React is not available until after Bugsnag has started,\nconstruct the plugin with no arguments\n  \\`Bugsnag.start({ plugins: [new BugsnagPluginReact()] })\\`,\nthen pass in React when available to construct your error boundary\n  \\`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)\\``)\n    }\n    BugsnagPluginReactLazyInitializer.createErrorBoundary = (React) => {\n      if (!React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined')\n      return createClass(React, client)\n    }\n    return BugsnagPluginReactLazyInitializer\n  }\n}\n\nconst formatComponentStack = str => {\n  const lines = str.split(/\\s*\\n\\s*/g)\n  let ret = ''\n  for (let line = 0, len = lines.length; line < len; line++) {\n    if (lines[line].length) ret += `${ret.length ? '\\n' : ''}${lines[line]}`\n  }\n  return ret\n}\n\nconst createClass = (React, client) => class ErrorBoundary extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      error: null,\n      info: null\n    }\n    this.handleClearError = this.handleClearError.bind(this)\n  }\n\n  handleClearError () {\n    this.setState({ error: null, info: null })\n  }\n\n  componentDidCatch (error, info) {\n    const { onError } = this.props\n    const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n    const event = client.Event.create(\n      error,\n      true,\n      handledState,\n      1\n    )\n    if (info && info.componentStack) info.componentStack = formatComponentStack(info.componentStack)\n    event.addMetadata('react', info)\n    client._notify(event, onError)\n    this.setState({ error, info })\n  }\n\n  render () {\n    const { error } = this.state\n    if (error) {\n      const { FallbackComponent } = this.props\n      if (FallbackComponent) return React.createElement(FallbackComponent, { ...this.state, clearError: this.handleClearError })\n      return null\n    }\n    return this.props.children\n  }\n}\n\nmodule.exports.formatComponentStack = formatComponentStack\nmodule.exports.default = module.exports\n","\nreturn _$src_1;\n\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}