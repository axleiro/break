{"ast":null,"code":"var _jsxFileName = \"/Users/jstarry/Workspace/solana/break/client/src/components/TxModal.tsx\";\nimport * as React from \"react\";\nimport { COMMITMENT_PARAM } from \"providers/transactions\";\nimport { useSelectTransaction, useSelectedTransaction } from \"providers/transactions/selected\";\nimport { useClusterParam } from \"providers/api\";\nexport function TransactionModal() {\n  const selectedTx = useSelectedTransaction();\n  const selectTx = useSelectTransaction();\n\n  const onClose = () => selectTx(undefined);\n\n  const show = !!selectedTx;\n\n  const renderContent = () => {\n    if (!selectedTx) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-dialog-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-card card mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }\n    }, \"Transaction Details\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      onClick: onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TransactionDetails, {\n      transaction: selectedTx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 15\n      }\n    })))));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `modal fade${show ? \" show\" : \"\"}`,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, renderContent()), /*#__PURE__*/React.createElement(Overlay, {\n    show: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Overlay({\n  show\n}) {\n  if (show) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-backdrop fade show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 20\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 10\n    }\n  });\n}\n\nexport function TransactionDetails({\n  transaction\n}) {\n  const clusterParam = useClusterParam();\n  const {\n    signature,\n    feeAccount,\n    programAccount\n  } = transaction.details;\n\n  const explorerLink = path => `https://explorer.solana.com/${path}?${clusterParam}`;\n\n  const feeAddress = feeAccount.toBase58();\n  const dataAddress = programAccount.toBase58();\n\n  function displaySignature() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-between mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, \"Signature\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: explorerLink(\"tx/\" + signature),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: \"btn btn-sm btn-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fe fe-external-link mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }), \"Explorer\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-dark overflow-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 text-truncate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, signature))));\n  }\n\n  function displayAccounts() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-between mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, \"Fee Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: explorerLink(\"address/\" + feeAddress),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: \"btn btn-sm btn-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fe fe-external-link mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }), \"Explorer\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, \"Break Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: explorerLink(\"address/\" + dataAddress),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: \"btn btn-sm btn-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fe fe-external-link mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }), \"Explorer\"))));\n  }\n\n  function displayFinalized() {\n    if (transaction.status === \"success\") {\n      if (transaction.pending) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"spinner-grow spinner-grow-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }\n        }), \"Pending\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"text-success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 16\n          }\n        }, \"Finalized\");\n      }\n    } else {\n      return \"N/A\";\n    }\n  }\n\n  function displayConfTime() {\n    if (transaction.status === \"timeout\") {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 14\n        }\n      }, \"Timed out\");\n    }\n\n    if (transaction.status === \"success\") {\n      const confTime = transaction.timing[COMMITMENT_PARAM];\n\n      if (confTime) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"text-success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 16\n          }\n        }, confTime, \" sec\");\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"spinner-grow spinner-grow-sm mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }), \"Processing\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, displaySignature(), displayAccounts(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, \"Confirmation Time\"), displayConfTime()), transaction.status === \"success\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Estimated Block\"), transaction.slot.estimated), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, \"Finalization Status\"), displayFinalized()));\n}","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/components/TxModal.tsx"],"names":["React","COMMITMENT_PARAM","useSelectTransaction","useSelectedTransaction","useClusterParam","TransactionModal","selectedTx","selectTx","onClose","undefined","show","renderContent","e","stopPropagation","Overlay","TransactionDetails","transaction","clusterParam","signature","feeAccount","programAccount","details","explorerLink","path","feeAddress","toBase58","dataAddress","displaySignature","displayAccounts","displayFinalized","status","pending","displayConfTime","confTime","timing","slot","estimated"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { TransactionState, COMMITMENT_PARAM } from \"providers/transactions\";\nimport {\n  useSelectTransaction,\n  useSelectedTransaction,\n} from \"providers/transactions/selected\";\nimport { useClusterParam } from \"providers/api\";\n\nexport function TransactionModal() {\n  const selectedTx = useSelectedTransaction();\n  const selectTx = useSelectTransaction();\n  const onClose = () => selectTx(undefined);\n  const show = !!selectedTx;\n\n  const renderContent = () => {\n    if (!selectedTx) return null;\n\n    return (\n      <div className=\"modal-dialog modal-dialog-centered\">\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n          <div className=\"modal-card card mb-0\">\n            <div className=\"card-header\">\n              <h4 className=\"card-header-title\">Transaction Details</h4>\n\n              <button type=\"button\" className=\"close\" onClick={onClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n\n            <div className=\"card-body\">\n              <TransactionDetails transaction={selectedTx} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className={`modal fade${show ? \" show\" : \"\"}`} onClick={onClose}>\n        {renderContent()}\n      </div>\n      <Overlay show={show} />\n    </>\n  );\n}\n\nfunction Overlay({ show }: { show: boolean }) {\n  if (show) return <div className=\"modal-backdrop fade show\"></div>;\n  return <div className=\"fade\"></div>;\n}\n\nexport function TransactionDetails({\n  transaction,\n}: {\n  transaction: TransactionState;\n}) {\n  const clusterParam = useClusterParam();\n  const { signature, feeAccount, programAccount } = transaction.details;\n  const explorerLink = (path: string) =>\n    `https://explorer.solana.com/${path}?${clusterParam}`;\n  const feeAddress = feeAccount.toBase58();\n  const dataAddress = programAccount.toBase58();\n\n  function displaySignature() {\n    return (\n      <>\n        <div className=\"d-flex align-items-center justify-content-between mb-4\">\n          <div className=\"\">Signature</div>\n          <div>\n            <a\n              href={explorerLink(\"tx/\" + signature)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n        <div className=\"d-flex mb-4\">\n          <span className=\"badge badge-dark overflow-hidden\">\n            <h4 className=\"mb-0 text-truncate\">{signature}</h4>\n          </span>\n        </div>\n      </>\n    );\n  }\n\n  function displayAccounts() {\n    return (\n      <>\n        <div className=\"d-flex align-items-center justify-content-between mb-4\">\n          <div className=\"\">Fee Account</div>\n          <div>\n            <a\n              href={explorerLink(\"address/\" + feeAddress)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n\n        <div className=\"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom\">\n          <div className=\"\">Break Account</div>\n          <div>\n            <a\n              href={explorerLink(\"address/\" + dataAddress)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function displayFinalized() {\n    if (transaction.status === \"success\") {\n      if (transaction.pending) {\n        return (\n          <div>\n            <span className=\"spinner-grow spinner-grow-sm mr-2\"></span>\n            Pending\n          </div>\n        );\n      } else {\n        return <span className=\"text-success\">Finalized</span>;\n      }\n    } else {\n      return \"N/A\";\n    }\n  }\n\n  function displayConfTime() {\n    if (transaction.status === \"timeout\") {\n      return <span className=\"text-warning\">Timed out</span>;\n    }\n    if (transaction.status === \"success\") {\n      const confTime = transaction.timing[COMMITMENT_PARAM];\n      if (confTime) {\n        return <span className=\"text-success\">{confTime} sec</span>;\n      }\n    }\n    return (\n      <div>\n        <span className=\"spinner-grow spinner-grow-sm mr-2\"></span>\n        Processing\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {displaySignature()}\n      {displayAccounts()}\n      <div className=\"d-flex justify-content-between mb-4\">\n        <div className=\"\">Confirmation Time</div>\n        {displayConfTime()}\n      </div>\n      {transaction.status === \"success\" && (\n        <div className=\"d-flex justify-content-between mb-4\">\n          <div className=\"\">Estimated Block</div>\n          {transaction.slot.estimated}\n        </div>\n      )}\n      <div className=\"d-flex justify-content-between\">\n        <div className=\"\">Finalization Status</div>\n        {displayFinalized()}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}