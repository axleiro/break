{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jstarry/Workspace/solana/break/client/src/pages/GamePage.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { Header } from \"components/Header\";\nimport { PaymentCard } from \"components/PaymentCard\";\nimport { TransactionContainer } from \"components/TxContainer\";\nimport { TransactionModal } from \"components/TxModal\";\nimport { useTps, useCreatedCount, useAvgConfirmationTime } from \"providers/transactions\";\nimport { usePayerState } from \"providers/wallet\";\nimport { useActiveUsers } from \"providers/server/socket\";\nimport { useGameState, useCountdown } from \"providers/game\";\nexport default function Game() {\n  _s();\n\n  const gameState = useGameState();\n  const [countdown] = useCountdown();\n  const showPayment = gameState === \"payment\";\n  const loading = gameState === \"loading\";\n  const showStats = gameState === \"play\" || countdown !== undefined;\n  const [payer] = usePayerState();\n  const location = useLocation();\n\n  if (showPayment) {\n    if (!payer) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: { ...location,\n          pathname: \"/setup\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: { ...location,\n          pathname: \"/wallet\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container min-vh-100 d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), showStats && /*#__PURE__*/_jsxDEV(Stats, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row flex-grow-1 mb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: loading && countdown === undefined ? /*#__PURE__*/_jsxDEV(EmptyCard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this) : showPayment && payer ? /*#__PURE__*/_jsxDEV(PaymentCard, {\n          account: payer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(TransactionContainer, {\n          enabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Game, \"S/80rkOWa/NIEANMFOPv2hNUwes=\", false, function () {\n  return [useGameState, useCountdown, usePayerState, useLocation];\n});\n\n_c = Game;\nexport function EmptyCard() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card mb-0 h-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_c2 = EmptyCard;\n\nfunction Stats() {\n  _s2();\n\n  const createdCount = useCreatedCount();\n  const avgConfTime = useAvgConfirmationTime().toFixed(2);\n  const tps = useTps();\n  const activeUsers = useActiveUsers();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(StatCard, {\n      label: \"Transactions Sent\",\n      value: createdCount,\n      icon: \"send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n      label: \"Avg. Confirmation Time\",\n      value: `${avgConfTime}s`,\n      icon: \"clock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n      label: \"Players Online\",\n      value: activeUsers,\n      icon: \"user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n      label: \"Transactions per Second\",\n      value: tps,\n      icon: \"zap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Stats, \"y0CtiP/v17scW6fcVM5DPg6kIEM=\", false, function () {\n  return [useCreatedCount, useAvgConfirmationTime, useTps, useActiveUsers];\n});\n\n_c3 = Stats;\n\nfunction StatCard({\n  label,\n  value,\n  icon\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stat-card col-6 col-lg-3 d-flex flex-column\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card flex-grow-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-uppercase text-truncate mb-2\",\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"h2 mb-0 text-primary\",\n              children: value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 d-none d-md-block text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `h2 fe fe-${icon} text-primary mb-0`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = StatCard;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Game\");\n$RefreshReg$(_c2, \"EmptyCard\");\n$RefreshReg$(_c3, \"Stats\");\n$RefreshReg$(_c4, \"StatCard\");","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/pages/GamePage.tsx"],"names":["React","Redirect","useLocation","Header","PaymentCard","TransactionContainer","TransactionModal","useTps","useCreatedCount","useAvgConfirmationTime","usePayerState","useActiveUsers","useGameState","useCountdown","Game","gameState","countdown","showPayment","loading","showStats","undefined","payer","location","pathname","EmptyCard","Stats","createdCount","avgConfTime","toFixed","tps","activeUsers","StatCard","label","value","icon"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\n\nimport { Header } from \"components/Header\";\nimport { PaymentCard } from \"components/PaymentCard\";\nimport { TransactionContainer } from \"components/TxContainer\";\nimport { TransactionModal } from \"components/TxModal\";\nimport {\n  useTps,\n  useCreatedCount,\n  useAvgConfirmationTime,\n} from \"providers/transactions\";\nimport { usePayerState } from \"providers/wallet\";\nimport { useActiveUsers } from \"providers/server/socket\";\nimport { useGameState, useCountdown } from \"providers/game\";\n\nexport default function Game() {\n  const gameState = useGameState();\n  const [countdown] = useCountdown();\n  const showPayment = gameState === \"payment\";\n  const loading = gameState === \"loading\";\n  const showStats = gameState === \"play\" || countdown !== undefined;\n  const [payer] = usePayerState();\n  const location = useLocation();\n\n  if (showPayment) {\n    if (!payer) {\n      return <Redirect to={{ ...location, pathname: \"/setup\" }} />;\n    } else {\n      return <Redirect to={{ ...location, pathname: \"/wallet\" }} />;\n    }\n  }\n\n  return (\n    <div className=\"container min-vh-100 d-flex flex-column\">\n      <div>\n        <Header />\n        {showStats && <Stats />}\n      </div>\n      <div className=\"row flex-grow-1 mb-5\">\n        <div className=\"col\">\n          {loading && countdown === undefined ? (\n            <EmptyCard />\n          ) : showPayment && payer ? (\n            <PaymentCard account={payer} />\n          ) : (\n            <TransactionContainer enabled />\n          )}\n        </div>\n      </div>\n      <TransactionModal />\n    </div>\n  );\n}\n\nexport function EmptyCard() {\n  return (\n    <div className=\"card mb-0 h-100\">\n      <div className=\"card-header\"></div>\n      <div className=\"card-body\"></div>\n    </div>\n  );\n}\n\nfunction Stats() {\n  const createdCount = useCreatedCount();\n  const avgConfTime = useAvgConfirmationTime().toFixed(2);\n  const tps = useTps();\n  const activeUsers = useActiveUsers();\n\n  return (\n    <div className=\"row\">\n      <StatCard label=\"Transactions Sent\" value={createdCount} icon=\"send\" />\n      <StatCard\n        label=\"Avg. Confirmation Time\"\n        value={`${avgConfTime}s`}\n        icon=\"clock\"\n      />\n      <StatCard label=\"Players Online\" value={activeUsers} icon=\"user\" />\n      <StatCard label=\"Transactions per Second\" value={tps} icon=\"zap\" />\n    </div>\n  );\n}\n\ntype StatProps = {\n  label: React.ReactNode;\n  value: React.ReactNode;\n  icon: string;\n};\nfunction StatCard({ label, value, icon }: StatProps) {\n  return (\n    <div className=\"stat-card col-6 col-lg-3 d-flex flex-column\">\n      <div className=\"card flex-grow-1\">\n        <div className=\"card-body\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-12 col-md-9\">\n              <h6 className=\"text-uppercase text-truncate mb-2\">{label}</h6>\n              <span className=\"h2 mb-0 text-primary\">{value}</span>\n            </div>\n            <div className=\"col-md-3 d-none d-md-block text-right\">\n              <span className={`h2 fe fe-${icon} text-primary mb-0`}></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}