{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import*as React from\"react\";import\"styles/animate.scss\";import{useSelectTransaction}from\"providers/transactions/selected\";function timeElapsed(sentAt){var receivedAt=arguments.length>1&&arguments[1]!==undefined?arguments[1]:performance.now();return parseFloat(((receivedAt-sentAt)/1000).toFixed(3));}export function TxTableRow(_ref){var _firstReceived,_firstReceivedAt,_timing,_timing$processed,_timing2,_timing2$confirmed;var transaction=_ref.transaction;var signature=transaction.details.signature;var selectTransaction=useSelectTransaction();var targetSlot;var landedSlot;var timing;var firstReceived;var firstReceivedAt;if(transaction.status===\"success\"){targetSlot=transaction.slot.target;landedSlot=transaction.slot.landed;timing=transaction.timing;if(transaction.received.length>0){firstReceived=transaction.received[0];firstReceivedAt=timeElapsed(timing.sentAt,firstReceived.receivedAt);}}else if(transaction.status===\"timeout\"){}else{targetSlot=transaction.pending.targetSlot;if(transaction.received.length>0){firstReceived=transaction.received[0];firstReceivedAt=timeElapsed(transaction.pending.sentAt,firstReceived.receivedAt);}}return/*#__PURE__*/_jsxs(\"tr\",{className:\"debug-row\",onClick:function onClick(){return selectTransaction(signature);},children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-monospace\",children:[signature.slice(0,10),\"...\"]}),/*#__PURE__*/_jsx(\"td\",{children:targetSlot||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:((_firstReceived=firstReceived)===null||_firstReceived===void 0?void 0:_firstReceived.slot)||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:landedSlot||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:((_firstReceivedAt=firstReceivedAt)===null||_firstReceivedAt===void 0?void 0:_firstReceivedAt.toFixed(3))||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:((_timing=timing)===null||_timing===void 0?void 0:(_timing$processed=_timing.processed)===null||_timing$processed===void 0?void 0:_timing$processed.toFixed(3))||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:((_timing2=timing)===null||_timing2===void 0?void 0:(_timing2$confirmed=_timing2.confirmed)===null||_timing2$confirmed===void 0?void 0:_timing2$confirmed.toFixed(3))||\"-\"})]});}","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/components/TxTableRow.tsx"],"names":["React","useSelectTransaction","timeElapsed","sentAt","receivedAt","performance","now","parseFloat","toFixed","TxTableRow","transaction","signature","details","selectTransaction","targetSlot","landedSlot","timing","firstReceived","firstReceivedAt","status","slot","target","landed","received","length","pending","slice","processed","confirmed"],"mappings":"wFAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CAEA,MAAO,qBAAP,CAEA,OAASC,oBAAT,KAAqC,iCAArC,CAMA,QAASC,CAAAA,WAAT,CACEC,MADF,CAGU,IADRC,CAAAA,UACQ,2DADaC,WAAW,CAACC,GAAZ,EACb,CACR,MAAOC,CAAAA,UAAU,CAAC,CAAC,CAACH,UAAU,CAAGD,MAAd,EAAwB,IAAzB,EAA+BK,OAA/B,CAAuC,CAAvC,CAAD,CAAjB,CACD,CAED,MAAO,SAASC,CAAAA,UAAT,MAA4C,8FAAtBC,CAAAA,WAAsB,MAAtBA,WAAsB,CACjD,GAAMC,CAAAA,SAAS,CAAGD,WAAW,CAACE,OAAZ,CAAoBD,SAAtC,CACA,GAAME,CAAAA,iBAAiB,CAAGZ,oBAAoB,EAA9C,CAEA,GAAIa,CAAAA,UAAJ,CACA,GAAIC,CAAAA,UAAJ,CACA,GAAIC,CAAAA,MAAJ,CACA,GAAIC,CAAAA,aAAJ,CACA,GAAIC,CAAAA,eAAJ,CACA,GAAIR,WAAW,CAACS,MAAZ,GAAuB,SAA3B,CAAsC,CACpCL,UAAU,CAAGJ,WAAW,CAACU,IAAZ,CAAiBC,MAA9B,CACAN,UAAU,CAAGL,WAAW,CAACU,IAAZ,CAAiBE,MAA9B,CACAN,MAAM,CAAGN,WAAW,CAACM,MAArB,CACA,GAAIN,WAAW,CAACa,QAAZ,CAAqBC,MAArB,CAA8B,CAAlC,CAAqC,CACnCP,aAAa,CAAGP,WAAW,CAACa,QAAZ,CAAqB,CAArB,CAAhB,CACAL,eAAe,CAAGhB,WAAW,CAACc,MAAM,CAACb,MAAR,CAAgBc,aAAa,CAACb,UAA9B,CAA7B,CACD,CACF,CARD,IAQO,IAAIM,WAAW,CAACS,MAAZ,GAAuB,SAA3B,CAAsC,CAC5C,CADM,IACA,CACLL,UAAU,CAAGJ,WAAW,CAACe,OAAZ,CAAoBX,UAAjC,CACA,GAAIJ,WAAW,CAACa,QAAZ,CAAqBC,MAArB,CAA8B,CAAlC,CAAqC,CACnCP,aAAa,CAAGP,WAAW,CAACa,QAAZ,CAAqB,CAArB,CAAhB,CACAL,eAAe,CAAGhB,WAAW,CAC3BQ,WAAW,CAACe,OAAZ,CAAoBtB,MADO,CAE3Bc,aAAa,CAACb,UAFa,CAA7B,CAID,CACF,CAED,mBACE,YAAI,SAAS,CAAC,WAAd,CAA0B,OAAO,CAAE,yBAAMS,CAAAA,iBAAiB,CAACF,SAAD,CAAvB,EAAnC,wBACE,YAAI,SAAS,CAAC,gBAAd,WAAgCA,SAAS,CAACe,KAAV,CAAgB,CAAhB,CAAmB,EAAnB,CAAhC,SADF,cAEE,oBAAKZ,UAAU,EAAI,GAAnB,EAFF,cAGE,oBAAK,iBAAAG,aAAa,QAAb,gDAAeG,IAAf,GAAuB,GAA5B,EAHF,cAIE,oBAAKL,UAAU,EAAI,GAAnB,EAJF,cAKE,oBAAK,mBAAAG,eAAe,QAAf,oDAAiBV,OAAjB,CAAyB,CAAzB,IAA+B,GAApC,EALF,cAME,oBAAK,UAAAQ,MAAM,QAAN,qDAAQW,SAAR,8DAAmBnB,OAAnB,CAA2B,CAA3B,IAAiC,GAAtC,EANF,cAOE,oBAAK,WAAAQ,MAAM,QAAN,wDAAQY,SAAR,gEAAmBpB,OAAnB,CAA2B,CAA3B,IAAiC,GAAtC,EAPF,GADF,CAWD","sourcesContent":["import * as React from \"react\";\n\nimport \"styles/animate.scss\";\nimport { TransactionState } from \"providers/transactions\";\nimport { useSelectTransaction } from \"providers/transactions/selected\";\n\ninterface Props {\n  transaction: TransactionState;\n}\n\nfunction timeElapsed(\n  sentAt: number,\n  receivedAt: number = performance.now()\n): number {\n  return parseFloat(((receivedAt - sentAt) / 1000).toFixed(3));\n}\n\nexport function TxTableRow({ transaction }: Props) {\n  const signature = transaction.details.signature;\n  const selectTransaction = useSelectTransaction();\n\n  let targetSlot;\n  let landedSlot;\n  let timing;\n  let firstReceived;\n  let firstReceivedAt;\n  if (transaction.status === \"success\") {\n    targetSlot = transaction.slot.target;\n    landedSlot = transaction.slot.landed;\n    timing = transaction.timing;\n    if (transaction.received.length > 0) {\n      firstReceived = transaction.received[0];\n      firstReceivedAt = timeElapsed(timing.sentAt, firstReceived.receivedAt);\n    }\n  } else if (transaction.status === \"timeout\") {\n  } else {\n    targetSlot = transaction.pending.targetSlot;\n    if (transaction.received.length > 0) {\n      firstReceived = transaction.received[0];\n      firstReceivedAt = timeElapsed(\n        transaction.pending.sentAt,\n        firstReceived.receivedAt\n      );\n    }\n  }\n\n  return (\n    <tr className=\"debug-row\" onClick={() => selectTransaction(signature)}>\n      <td className=\"text-monospace\">{signature.slice(0, 10)}...</td>\n      <td>{targetSlot || \"-\"}</td>\n      <td>{firstReceived?.slot || \"-\"}</td>\n      <td>{landedSlot || \"-\"}</td>\n      <td>{firstReceivedAt?.toFixed(3) || \"-\"}</td>\n      <td>{timing?.processed?.toFixed(3) || \"-\"}</td>\n      <td>{timing?.confirmed?.toFixed(3) || \"-\"}</td>\n    </tr>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}