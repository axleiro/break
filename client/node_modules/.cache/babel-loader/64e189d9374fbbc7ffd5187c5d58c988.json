{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jstarry/Workspace/solana/break/client/src/components/Header.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport breakSvg from \"images/break.svg\";\nimport solanaSvg from \"images/solana.svg\";\nimport { useGameState, COUNTDOWN_SECS, useCountdown } from \"providers/game\";\nimport ClusterStatusButton from \"./ClusterStatusButton\";\nimport { useBalance } from \"providers/rpc/balance\";\nexport function Header() {\n  _s();\n\n  var _useConfig;\n\n  const gameState = useGameState();\n  const [countdown] = useCountdown();\n  const [, setRefresh] = React.useState(false);\n  const balance = useBalance();\n  const gameCostLamports = ((_useConfig = useConfig()) === null || _useConfig === void 0 ? void 0 : _useConfig.gameCost) || 0;\n  const refreshAccounts = useRefreshAccounts();\n  const balanceSufficient = balance >= gameCostLamports;\n  React.useEffect(() => {\n    if (countdown !== undefined) {\n      const timerId = setInterval(() => {\n        setRefresh(r => !r);\n      }, 1000);\n      return () => clearTimeout(timerId);\n    }\n  }, [countdown]);\n\n  const cta = () => {\n    if (gameState === \"payment\" && balanceSufficient) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-pink lift\",\n        onClick: refreshAccounts,\n        children: \"Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (gameState === \"loading\" || gameState === \"payment\") {\n      return null;\n    }\n\n    if (gameState === \"reset\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-pink lift\",\n        onClick: resetGame,\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this);\n    }\n\n    let secondsRemaining = COUNTDOWN_SECS;\n\n    if (countdown !== undefined) {\n      secondsRemaining = Math.max(0, COUNTDOWN_SECS - Math.floor((performance.now() - countdown) / 1000));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-pink btn-secondary\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"fe fe-clock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-pink btn-secondary gameState text-center\",\n        children: [secondsRemaining, \"s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header solana-header\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-body border-dark-purple\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-center justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto d-flex flex-column d-md-block align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: breakSvg,\n            alt: \"break\",\n            className: \"break mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: solanaSvg,\n            alt: \"solana\",\n            className: \"solana\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-row align-items-center\",\n            children: [cta(), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-md-inline-block d-none ml-3\",\n              children: /*#__PURE__*/_jsxDEV(ClusterStatusButton, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-white lift ml-3\",\n              href: \"https://github.com/solana-labs/break\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fe fe-github mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), \"Source\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-center d-md-none mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(ClusterStatusButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"i6NO5ycbuuFyRpoHQm3R6iQiv5U=\", true, function () {\n  return [useGameState, useCountdown, useBalance];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/components/Header.tsx"],"names":["React","useGameState","COUNTDOWN_SECS","useCountdown","ClusterStatusButton","useBalance","Header","gameState","countdown","setRefresh","useState","balance","gameCostLamports","useConfig","gameCost","refreshAccounts","useRefreshAccounts","balanceSufficient","useEffect","undefined","timerId","setInterval","r","clearTimeout","cta","resetGame","secondsRemaining","Math","max","floor","performance","now","breakSvg","solanaSvg"],"mappings":"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","sourcesContent":["import * as React from \"react\";\n\nimport breakSvg from \"images/break.svg\";\nimport solanaSvg from \"images/solana.svg\";\nimport {\n  useGameState,\n  COUNTDOWN_SECS,\n  useCountdown,\n} from \"providers/game\";\nimport ClusterStatusButton from \"./ClusterStatusButton\";\nimport { useBalance } from \"providers/rpc/balance\";\n\nexport function Header() {\n  const gameState = useGameState();\n  const [countdown] = useCountdown();\n  const [, setRefresh] = React.useState<boolean>(false);\n  const balance = useBalance();\n  const gameCostLamports = useConfig()?.gameCost || 0;\n  const refreshAccounts = useRefreshAccounts();\n  const balanceSufficient = balance >= gameCostLamports;\n\n  React.useEffect(() => {\n    if (countdown !== undefined) {\n      const timerId = setInterval(() => {\n        setRefresh((r) => !r);\n      }, 1000);\n      return () => clearTimeout(timerId);\n    }\n  }, [countdown]);\n\n  const cta = () => {\n    if (gameState === \"payment\" && balanceSufficient) {\n      return (\n        <div className=\"btn btn-pink lift\" onClick={refreshAccounts}>\n          Play\n        </div>\n      );\n    }\n\n    if (gameState === \"loading\" || gameState === \"payment\") {\n      return null;\n    }\n\n    if (gameState === \"reset\") {\n      return (\n        <div className=\"btn btn-pink lift\" onClick={resetGame}>\n          Play Again\n        </div>\n      );\n    }\n\n    let secondsRemaining = COUNTDOWN_SECS;\n    if (countdown !== undefined) {\n      secondsRemaining = Math.max(\n        0,\n        COUNTDOWN_SECS - Math.floor((performance.now() - countdown) / 1000)\n      );\n    }\n\n    return (\n      <div className=\"btn-group\">\n        <div className=\"btn btn-pink btn-secondary\">\n          <span className=\"fe fe-clock\" />\n        </div>\n        <div className=\"btn btn-pink btn-secondary gameState text-center\">\n          {secondsRemaining}s\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"header solana-header\">\n      <div className=\"header-body border-dark-purple\">\n        <div className=\"row align-items-center justify-content-between\">\n          <div className=\"col-auto d-flex flex-column d-md-block align-items-center\">\n            <img src={breakSvg} alt=\"break\" className=\"break mr-3\" />\n            <img src={solanaSvg} alt=\"solana\" className=\"solana\" />\n          </div>\n          <div className=\"col-auto\">\n            <div className=\"d-flex flex-row align-items-center\">\n              {cta()}\n              <div className=\"d-md-inline-block d-none ml-3\">\n                <ClusterStatusButton />\n              </div>\n              <a\n                className=\"btn btn-white lift ml-3\"\n                href=\"https://github.com/solana-labs/break\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span className=\"fe fe-github mr-2\"></span>\n                Source\n              </a>\n            </div>\n          </div>\n        </div>\n        <div className=\"row align-items-center d-md-none mt-4\">\n          <div className=\"col-12\">\n            <ClusterStatusButton />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}