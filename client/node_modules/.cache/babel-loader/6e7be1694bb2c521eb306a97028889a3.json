{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.Bugsnag = f();\n  }\n})(function () {\n  var define, module, exports;\n  var _$breadcrumbTypes_8 = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual']; // Array#reduce\n\n  var _$reduce_17 = function _$reduce_17(arr, fn, accum) {\n    var val = accum;\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      val = fn(val, arr[i], i, arr);\n    }\n\n    return val;\n  };\n  /* removed: var _$reduce_17 = require('./reduce'); */\n\n\n  ; // Array#filter\n\n  var _$filter_12 = function _$filter_12(arr, fn) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return !fn(item, i, arr) ? accum : accum.concat(item);\n    }, []);\n  };\n  /* removed: var _$reduce_17 = require('./reduce'); */\n\n\n  ; // Array#includes\n\n  var _$includes_13 = function _$includes_13(arr, x) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return accum === true || item === x;\n    }, false);\n  }; // Array#isArray\n\n\n  var _$isArray_14 = function _$isArray_14(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n  /* eslint-disable-next-line no-prototype-builtins */\n\n\n  var _hasDontEnumBug = !{\n    toString: null\n  }.propertyIsEnumerable('toString');\n\n  var _dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor']; // Object#keys\n\n  var _$keys_15 = function _$keys_15(obj) {\n    // stripped down version of\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n    var result = [];\n    var prop;\n\n    for (prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop);\n    }\n\n    if (!_hasDontEnumBug) return result;\n\n    for (var i = 0, len = _dontEnums.length; i < len; i++) {\n      if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i]);\n    }\n\n    return result;\n  };\n\n  var _$intRange_24 = function _$intRange_24(min, max) {\n    if (min === void 0) {\n      min = 1;\n    }\n\n    if (max === void 0) {\n      max = Infinity;\n    }\n\n    return function (value) {\n      return typeof value === 'number' && parseInt('' + value, 10) === value && value >= min && value <= max;\n    };\n  };\n  /* removed: var _$filter_12 = require('../es-utils/filter'); */\n\n\n  ;\n  /* removed: var _$isArray_14 = require('../es-utils/is-array'); */\n\n  ;\n\n  var _$listOfFunctions_25 = function _$listOfFunctions_25(value) {\n    return typeof value === 'function' || _$isArray_14(value) && _$filter_12(value, function (f) {\n      return typeof f === 'function';\n    }).length === value.length;\n  };\n\n  var _$stringWithLength_26 = function _$stringWithLength_26(value) {\n    return typeof value === 'string' && !!value.length;\n  };\n\n  var _$config_5 = {};\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n\n  ;\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n\n  ;\n  /* removed: var _$keys_15 = require('./lib/es-utils/keys'); */\n\n  ;\n  /* removed: var _$isArray_14 = require('./lib/es-utils/is-array'); */\n\n  ;\n  /* removed: var _$includes_13 = require('./lib/es-utils/includes'); */\n\n  ;\n  /* removed: var _$intRange_24 = require('./lib/validators/int-range'); */\n\n  ;\n  /* removed: var _$stringWithLength_26 = require('./lib/validators/string-with-length'); */\n\n  ;\n  /* removed: var _$listOfFunctions_25 = require('./lib/validators/list-of-functions'); */\n\n  ;\n  /* removed: var _$breadcrumbTypes_8 = require('./lib/breadcrumb-types'); */\n\n  ;\n\n  var defaultErrorTypes = function defaultErrorTypes() {\n    return {\n      unhandledExceptions: true,\n      unhandledRejections: true\n    };\n  };\n\n  _$config_5.schema = {\n    apiKey: {\n      defaultValue: function defaultValue() {\n        return null;\n      },\n      message: 'is required',\n      validate: _$stringWithLength_26\n    },\n    appVersion: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || _$stringWithLength_26(value);\n      }\n    },\n    appType: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || _$stringWithLength_26(value);\n      }\n    },\n    autoDetectErrors: {\n      defaultValue: function defaultValue() {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function validate(value) {\n        return value === true || value === false;\n      }\n    },\n    enabledErrorTypes: {\n      defaultValue: function defaultValue() {\n        return defaultErrorTypes();\n      },\n      message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n      allowPartialObject: true,\n      validate: function validate(value) {\n        // ensure we have an object\n        if (typeof value !== 'object' || !value) return false;\n\n        var providedKeys = _$keys_15(value);\n\n        var defaultKeys = _$keys_15(defaultErrorTypes()); // ensure it only has a subset of the allowed keys\n\n\n        if (_$filter_12(providedKeys, function (k) {\n          return _$includes_13(defaultKeys, k);\n        }).length < providedKeys.length) return false; // ensure all of the values are boolean\n\n        if (_$filter_12(_$keys_15(value), function (k) {\n          return typeof value[k] !== 'boolean';\n        }).length > 0) return false;\n        return true;\n      }\n    },\n    onError: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    onSession: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    onBreadcrumb: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    endpoints: {\n      defaultValue: function defaultValue() {\n        return {\n          notify: 'https://notify.bugsnag.com',\n          sessions: 'https://sessions.bugsnag.com'\n        };\n      },\n      message: 'should be an object containing endpoint URLs { notify, sessions }',\n      validate: function validate(val) {\n        return (// first, ensure it's an object\n          val && typeof val === 'object' && // notify and sessions must always be set\n          _$stringWithLength_26(val.notify) && _$stringWithLength_26(val.sessions) && // ensure no keys other than notify/session are set on endpoints object\n          _$filter_12(_$keys_15(val), function (k) {\n            return !_$includes_13(['notify', 'sessions'], k);\n          }).length === 0\n        );\n      }\n    },\n    autoTrackSessions: {\n      defaultValue: function defaultValue(val) {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function validate(val) {\n        return val === true || val === false;\n      }\n    },\n    enabledReleaseStages: {\n      defaultValue: function defaultValue() {\n        return null;\n      },\n      message: 'should be an array of strings',\n      validate: function validate(value) {\n        return value === null || _$isArray_14(value) && _$filter_12(value, function (f) {\n          return typeof f === 'string';\n        }).length === value.length;\n      }\n    },\n    releaseStage: {\n      defaultValue: function defaultValue() {\n        return 'production';\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return typeof value === 'string' && value.length;\n      }\n    },\n    maxBreadcrumbs: {\n      defaultValue: function defaultValue() {\n        return 25;\n      },\n      message: 'should be a number ≤100',\n      validate: function validate(value) {\n        return _$intRange_24(0, 100)(value);\n      }\n    },\n    enabledBreadcrumbTypes: {\n      defaultValue: function defaultValue() {\n        return _$breadcrumbTypes_8;\n      },\n      message: \"should be null or a list of available breadcrumb types (\" + _$breadcrumbTypes_8.join(',') + \")\",\n      validate: function validate(value) {\n        return value === null || _$isArray_14(value) && _$reduce_17(value, function (accum, maybeType) {\n          if (accum === false) return accum;\n          return _$includes_13(_$breadcrumbTypes_8, maybeType);\n        }, true);\n      }\n    },\n    context: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || typeof value === 'string';\n      }\n    },\n    user: {\n      defaultValue: function defaultValue() {\n        return {};\n      },\n      message: 'should be an object with { id, email, name } properties',\n      validate: function validate(value) {\n        return value === null || value && _$reduce_17(_$keys_15(value), function (accum, key) {\n          return accum && _$includes_13(['id', 'email', 'name'], key);\n        }, true);\n      }\n    },\n    metadata: {\n      defaultValue: function defaultValue() {\n        return {};\n      },\n      message: 'should be an object',\n      validate: function validate(value) {\n        return typeof value === 'object' && value !== null;\n      }\n    },\n    logger: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be null or an object with methods { debug, info, warn, error }',\n      validate: function validate(value) {\n        return !value || value && _$reduce_17(['debug', 'info', 'warn', 'error'], function (accum, method) {\n          return accum && typeof value[method] === 'function';\n        }, true);\n      }\n    },\n    redactedKeys: {\n      defaultValue: function defaultValue() {\n        return ['password'];\n      },\n      message: 'should be an array of strings|regexes',\n      validate: function validate(value) {\n        return _$isArray_14(value) && value.length === _$filter_12(value, function (s) {\n          return typeof s === 'string' || s && typeof s.test === 'function';\n        }).length;\n      }\n    },\n    plugins: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be an array of plugin objects',\n      validate: function validate(value) {\n        return _$isArray_14(value) && value.length === _$filter_12(value, function (p) {\n          return p && typeof p === 'object' && typeof p.load === 'function';\n        }).length;\n      }\n    }\n  }; // extends helper from babel\n  // https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\n\n  var _$assign_11 = function _$assign_11(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  /* removed: var _$reduce_17 = require('./reduce'); */\n\n\n  ; // Array#map\n\n  var _$map_16 = function _$map_16(arr, fn) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return accum.concat(fn(item, i, arr));\n    }, []);\n  };\n\n  var schema = _$config_5.schema;\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n\n  ;\n  var _$config_1 = {\n    releaseStage: _$assign_11({}, schema.releaseStage, {\n      defaultValue: function defaultValue() {\n        if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development';\n        return 'production';\n      }\n    }),\n    logger: _$assign_11({}, schema.logger, {\n      defaultValue: function defaultValue() {\n        return (// set logger based on browser capability\n          typeof console !== 'undefined' && typeof console.debug === 'function' ? getPrefixedConsole() : undefined\n        );\n      }\n    })\n  };\n\n  var getPrefixedConsole = function getPrefixedConsole() {\n    var logger = {};\n    var consoleLog = console.log;\n\n    _$map_16(['debug', 'info', 'warn', 'error'], function (method) {\n      var consoleMethod = console[method];\n      logger[method] = typeof consoleMethod === 'function' ? consoleMethod.bind(console, '[bugsnag]') : consoleLog.bind(console, '[bugsnag]');\n    });\n\n    return logger;\n  };\n\n  var Breadcrumb = /*#__PURE__*/function () {\n    function Breadcrumb(message, metadata, type, timestamp) {\n      if (timestamp === void 0) {\n        timestamp = new Date();\n      }\n\n      this.type = type;\n      this.message = message;\n      this.metadata = metadata;\n      this.timestamp = timestamp;\n    }\n\n    var _proto = Breadcrumb.prototype;\n\n    _proto.toJSON = function toJSON() {\n      return {\n        type: this.type,\n        name: this.message,\n        timestamp: this.timestamp,\n        metaData: this.metadata\n      };\n    };\n\n    return Breadcrumb;\n  }();\n\n  var _$Breadcrumb_3 = Breadcrumb;\n  var _$stackframe_34 = {};\n\n  (function (root, factory) {\n    'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n\n    if (typeof define === 'function' && define.amd) {\n      define('stackframe', [], factory);\n    } else if (typeof _$stackframe_34 === 'object') {\n      _$stackframe_34 = factory();\n    } else {\n      root.StackFrame = factory();\n    }\n  })(this, function () {\n    'use strict';\n\n    function _isNumber(n) {\n      return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n      return function () {\n        return this[p];\n      };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n      if (obj instanceof Object) {\n        for (var i = 0; i < props.length; i++) {\n          if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n            this['set' + _capitalize(props[i])](obj[props[i]]);\n          }\n        }\n      }\n    }\n\n    StackFrame.prototype = {\n      getArgs: function getArgs() {\n        return this.args;\n      },\n      setArgs: function setArgs(v) {\n        if (Object.prototype.toString.call(v) !== '[object Array]') {\n          throw new TypeError('Args must be an Array');\n        }\n\n        this.args = v;\n      },\n      getEvalOrigin: function getEvalOrigin() {\n        return this.evalOrigin;\n      },\n      setEvalOrigin: function setEvalOrigin(v) {\n        if (v instanceof StackFrame) {\n          this.evalOrigin = v;\n        } else if (v instanceof Object) {\n          this.evalOrigin = new StackFrame(v);\n        } else {\n          throw new TypeError('Eval Origin must be an Object or StackFrame');\n        }\n      },\n      toString: function toString() {\n        var functionName = this.getFunctionName() || '{anonymous}';\n        var args = '(' + (this.getArgs() || []).join(',') + ')';\n        var fileName = this.getFileName() ? '@' + this.getFileName() : '';\n        var lineNumber = _isNumber(this.getLineNumber()) ? ':' + this.getLineNumber() : '';\n        var columnNumber = _isNumber(this.getColumnNumber()) ? ':' + this.getColumnNumber() : '';\n        return functionName + args + fileName + lineNumber + columnNumber;\n      }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n      StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n\n      StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n        return function (v) {\n          this[p] = Boolean(v);\n        };\n      }(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n      StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n\n      StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n        return function (v) {\n          if (!_isNumber(v)) {\n            throw new TypeError(p + ' must be a Number');\n          }\n\n          this[p] = Number(v);\n        };\n      }(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n      StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n\n      StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n        return function (v) {\n          this[p] = String(v);\n        };\n      }(stringProps[k]);\n    }\n\n    return StackFrame;\n  });\n\n  var _$errorStackParser_31 = {};\n\n  (function (root, factory) {\n    'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n\n    if (typeof define === 'function' && define.amd) {\n      define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof _$errorStackParser_31 === 'object') {\n      _$errorStackParser_31 = factory(_$stackframe_34);\n    } else {\n      root.ErrorStackParser = factory(root.StackFrame);\n    }\n  })(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n    return {\n      /**\n       * Given an Error object, extract the most information from it.\n       *\n       * @param {Error} error object\n       * @return {Array} of StackFrames\n       */\n      parse: function ErrorStackParser$$parse(error) {\n        if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n          return this.parseOpera(error);\n        } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n          return this.parseV8OrIE(error);\n        } else if (error.stack) {\n          return this.parseFFOrSafari(error);\n        } else {\n          throw new Error('Cannot parse given Error object');\n        }\n      },\n      // Separate line and column numbers from a string of the form: (URI:Line:Column)\n      extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n        // Fail-fast but return locations like \"(native)\"\n        if (urlLike.indexOf(':') === -1) {\n          return [urlLike];\n        }\n\n        var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n        var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n        return [parts[1], parts[2] || undefined, parts[3] || undefined];\n      },\n      parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(CHROME_IE_STACK_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          if (line.indexOf('(eval ') > -1) {\n            // Throw away eval information until we implement stacktrace.js/stackframe#8\n            line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n          }\n\n          var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '('); // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n          // case it has spaces in it, as the string is split on \\s+ later on\n\n          var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/); // remove the parenthesized location from the line, if it was matched\n\n          sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n          var tokens = sanitizedLine.split(/\\s+/).slice(1); // if a location was matched, pass it to extractLocation() otherwise pop the last token\n\n          var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n          var functionName = tokens.join(' ') || undefined;\n          var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n          return new StackFrame({\n            functionName: functionName,\n            fileName: fileName,\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      },\n      parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          if (line.indexOf(' > eval') > -1) {\n            line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n          }\n\n          if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n            // Safari eval frames only have function names and nothing else\n            return new StackFrame({\n              functionName: line\n            });\n          } else {\n            var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n            var matches = line.match(functionNameRegex);\n            var functionName = matches && matches[1] ? matches[1] : undefined;\n            var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n            return new StackFrame({\n              functionName: functionName,\n              fileName: locationParts[0],\n              lineNumber: locationParts[1],\n              columnNumber: locationParts[2],\n              source: line\n            });\n          }\n        }, this);\n      },\n      parseOpera: function ErrorStackParser$$parseOpera(e) {\n        if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n          return this.parseOpera9(e);\n        } else if (!e.stack) {\n          return this.parseOpera10(e);\n        } else {\n          return this.parseOpera11(e);\n        }\n      },\n      parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n        var lines = e.message.split('\\n');\n        var result = [];\n\n        for (var i = 2, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n\n          if (match) {\n            result.push(new StackFrame({\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n\n        return result;\n      },\n      parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n        var lines = e.stacktrace.split('\\n');\n        var result = [];\n\n        for (var i = 0, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n\n          if (match) {\n            result.push(new StackFrame({\n              functionName: match[3] || undefined,\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n\n        return result;\n      },\n      // Opera 10.65+ Error.stack very similar to FF/Safari\n      parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n        }, this);\n        return filtered.map(function (line) {\n          var tokens = line.split('@');\n          var locationParts = this.extractLocation(tokens.pop());\n          var functionCall = tokens.shift() || '';\n          var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^\\)]*\\)/g, '') || undefined;\n          var argsRaw;\n\n          if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n            argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n          }\n\n          var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n          return new StackFrame({\n            functionName: functionName,\n            args: args,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      }\n    };\n  });\n\n  var _$errorStackParser_10 = _$errorStackParser_31; // Given `err` which may be an error, does it have a stack property which is a string?\n\n  var _$hasStack_18 = function _$hasStack_18(err) {\n    return !!err && (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) && typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' && err.stack !== err.name + \": \" + err.message;\n  };\n  /**\n   * Expose `isError`.\n   */\n\n\n  var _$isError_32 = isError;\n  /**\n   * Test whether `value` is error object.\n   *\n   * @param {*} value\n   * @returns {boolean}\n   */\n\n  function isError(value) {\n    switch (Object.prototype.toString.call(value)) {\n      case '[object Error]':\n        return true;\n\n      case '[object Exception]':\n        return true;\n\n      case '[object DOMException]':\n        return true;\n\n      default:\n        return value instanceof Error;\n    }\n  }\n\n  var _$iserror_19 = _$isError_32;\n\n  var _$jsRuntime_20 = \"yes\" ? 'browserjs' : typeof navigator !== 'undefined' && navigator.product === 'ReactNative' ? typeof Expo !== 'undefined' ? 'expojs' : 'reactnativejs' : 'nodejs';\n  /* removed: var _$assign_11 = require('./es-utils/assign'); */\n\n\n  ;\n\n  var add = function add(state, section, keyOrObj, maybeVal) {\n    var _updates;\n\n    if (!section) return;\n    var updates; // addMetadata(\"section\", null) -> clears section\n\n    if (keyOrObj === null) return clear(state, section); // normalise the two supported input types into object form\n\n    if (typeof keyOrObj === 'object') updates = keyOrObj;\n    if (typeof keyOrObj === 'string') updates = (_updates = {}, _updates[keyOrObj] = maybeVal, _updates); // exit if we don't have an updates object at this point\n\n    if (!updates) return; // ensure a section with this name exists\n\n    if (!state[section]) state[section] = {}; // merge the updates with the existing section\n\n    state[section] = _$assign_11({}, state[section], updates);\n  };\n\n  var get = function get(state, section, key) {\n    if (typeof section !== 'string') return undefined;\n\n    if (!key) {\n      return state[section];\n    }\n\n    if (state[section]) {\n      return state[section][key];\n    }\n\n    return undefined;\n  };\n\n  var clear = function clear(state, section, key) {\n    if (typeof section !== 'string') return; // clear an entire section\n\n    if (!key) {\n      delete state[section];\n      return;\n    } // clear a single value from a section\n\n\n    if (state[section]) {\n      delete state[section][key];\n    }\n  };\n\n  var _$metadataDelegate_22 = {\n    add: add,\n    get: get,\n    clear: clear\n  };\n  var _$stackGenerator_33 = {};\n\n  (function (root, factory) {\n    'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n\n    if (typeof define === 'function' && define.amd) {\n      define('stack-generator', ['stackframe'], factory);\n    } else if (typeof _$stackGenerator_33 === 'object') {\n      _$stackGenerator_33 = factory(_$stackframe_34);\n    } else {\n      root.StackGenerator = factory(root.StackFrame);\n    }\n  })(this, function (StackFrame) {\n    return {\n      backtrace: function StackGenerator$$backtrace(opts) {\n        var stack = [];\n        var maxStackSize = 10;\n\n        if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n          maxStackSize = opts.maxStackSize;\n        }\n\n        var curr = arguments.callee;\n\n        while (curr && stack.length < maxStackSize && curr['arguments']) {\n          // Allow V8 optimizations\n          var args = new Array(curr['arguments'].length);\n\n          for (var i = 0; i < args.length; ++i) {\n            args[i] = curr['arguments'][i];\n          }\n\n          if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n            stack.push(new StackFrame({\n              functionName: RegExp.$1 || undefined,\n              args: args\n            }));\n          } else {\n            stack.push(new StackFrame({\n              args: args\n            }));\n          }\n\n          try {\n            curr = curr.caller;\n          } catch (e) {\n            break;\n          }\n        }\n\n        return stack;\n      }\n    };\n  });\n  /* removed: var _$errorStackParser_10 = require('./lib/error-stack-parser'); */\n\n\n  ;\n  /* removed: var _$stackGenerator_33 = require('stack-generator'); */\n\n  ;\n  /* removed: var _$hasStack_18 = require('./lib/has-stack'); */\n\n  ;\n  /* removed: var _$map_16 = require('./lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n\n  ;\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n\n  ;\n  /* removed: var _$assign_11 = require('./lib/es-utils/assign'); */\n\n  ;\n  /* removed: var _$jsRuntime_20 = require('./lib/js-runtime'); */\n\n  ;\n  /* removed: var _$metadataDelegate_22 = require('./lib/metadata-delegate'); */\n\n  ;\n  /* removed: var _$iserror_19 = require('./lib/iserror'); */\n\n  ;\n\n  var Event = /*#__PURE__*/function () {\n    function Event(errorClass, errorMessage, stacktrace, handledState, originalError) {\n      if (stacktrace === void 0) {\n        stacktrace = [];\n      }\n\n      if (handledState === void 0) {\n        handledState = defaultHandledState();\n      }\n\n      this.apiKey = undefined;\n      this.context = undefined;\n      this.groupingHash = undefined;\n      this.originalError = originalError;\n      this._handledState = handledState;\n      this.severity = this._handledState.severity;\n      this.unhandled = this._handledState.unhandled;\n      this.app = {};\n      this.device = {};\n      this.request = {};\n      this.breadcrumbs = [];\n      this.threads = [];\n      this._metadata = {};\n      this._user = {};\n      this._session = undefined;\n      this.errors = [{\n        errorClass: ensureString(errorClass),\n        errorMessage: ensureString(errorMessage),\n        type: _$jsRuntime_20,\n        stacktrace: _$reduce_17(stacktrace, function (accum, frame) {\n          var f = formatStackframe(frame); // don't include a stackframe if none of its properties are defined\n\n          try {\n            if (JSON.stringify(f) === '{}') return accum;\n            return accum.concat(f);\n          } catch (e) {\n            return accum;\n          }\n        }, [])\n      }]; // Flags.\n      // Note these are not initialised unless they are used\n      // to save unnecessary bytes in the browser bundle\n\n      /* this.attemptImmediateDelivery, default: true */\n    }\n\n    var _proto = Event.prototype;\n\n    _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n      return _$metadataDelegate_22.add(this._metadata, section, keyOrObj, maybeVal);\n    };\n\n    _proto.getMetadata = function getMetadata(section, key) {\n      return _$metadataDelegate_22.get(this._metadata, section, key);\n    };\n\n    _proto.clearMetadata = function clearMetadata(section, key) {\n      return _$metadataDelegate_22.clear(this._metadata, section, key);\n    };\n\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n\n    _proto.toJSON = function toJSON() {\n      return {\n        payloadVersion: '4',\n        exceptions: _$map_16(this.errors, function (er) {\n          return _$assign_11({}, er, {\n            message: er.errorMessage\n          });\n        }),\n        severity: this.severity,\n        unhandled: this._handledState.unhandled,\n        severityReason: this._handledState.severityReason,\n        app: this.app,\n        device: this.device,\n        request: this.request,\n        breadcrumbs: this.breadcrumbs,\n        context: this.context,\n        groupingHash: this.groupingHash,\n        metaData: this._metadata,\n        user: this._user,\n        session: this._session\n      };\n    };\n\n    return Event;\n  }(); // takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n  // and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\n\n\n  var formatStackframe = function formatStackframe(frame) {\n    var f = {\n      file: frame.fileName,\n      method: normaliseFunctionName(frame.functionName),\n      lineNumber: frame.lineNumber,\n      columnNumber: frame.columnNumber,\n      code: undefined,\n      inProject: undefined\n    }; // Some instances result in no file:\n    // - calling notify() from chrome's terminal results in no file/method.\n    // - non-error exception thrown from global code in FF\n    // This adds one.\n\n    if (f.lineNumber > -1 && !f.file && !f.method) {\n      f.file = 'global code';\n    }\n\n    return f;\n  };\n\n  var normaliseFunctionName = function normaliseFunctionName(name) {\n    return /^global code$/i.test(name) ? 'global code' : name;\n  };\n\n  var defaultHandledState = function defaultHandledState() {\n    return {\n      unhandled: false,\n      severity: 'warning',\n      severityReason: {\n        type: 'handledException'\n      }\n    };\n  };\n\n  var ensureString = function ensureString(str) {\n    return typeof str === 'string' ? str : '';\n  }; // Helpers\n\n\n  Event.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n    if (_$hasStack_18(error)) return _$errorStackParser_10.parse(error).slice(errorFramesToSkip); // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n\n    try {\n      return _$filter_12(_$stackGenerator_33.backtrace(), function (frame) {\n        return (frame.functionName || '').indexOf('StackGenerator$$') === -1;\n      }).slice(1 + backtraceFramesToSkip);\n    } catch (e) {\n      return [];\n    }\n  };\n\n  Event.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip, logger) {\n    if (errorFramesToSkip === void 0) {\n      errorFramesToSkip = 0;\n    }\n\n    var _normaliseError = normaliseError(maybeError, tolerateNonErrors, component, logger),\n        error = _normaliseError[0],\n        internalFrames = _normaliseError[1];\n\n    var event;\n\n    try {\n      var stacktrace = Event.getStacktrace(error, // if an error was created/throw in the normaliseError() function, we need to\n      // tell the getStacktrace() function to skip the number of frames we know will\n      // be from our own functions. This is added to the number of frames deep we\n      // were told about\n      internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0, // if there's no stacktrace, the callstack may be walked to generated one.\n      // this is how many frames should be removed because they come from our library\n      1 + errorFramesToSkip);\n      event = new Event(error.name, error.message, stacktrace, handledState, maybeError);\n    } catch (e) {\n      event = new Event(error.name, error.message, [], handledState, maybeError);\n    }\n\n    if (error.name === 'InvalidError') {\n      event.addMetadata(\"\" + component, 'non-error parameter', makeSerialisable(maybeError));\n    }\n\n    return event;\n  };\n\n  var makeSerialisable = function makeSerialisable(err) {\n    if (err === null) return 'null';\n    if (err === undefined) return 'undefined';\n    return err;\n  };\n\n  var normaliseError = function normaliseError(maybeError, tolerateNonErrors, component, logger) {\n    var error;\n    var internalFrames = 0;\n\n    var createAndLogInputError = function createAndLogInputError(reason) {\n      if (logger) logger.warn(component + \" received a non-error: \\\"\" + reason + \"\\\"\");\n      var err = new Error(component + \" received a non-error. See \\\"\" + component + \"\\\" tab for more detail.\");\n      err.name = 'InvalidError';\n      return err;\n    }; // In some cases:\n    //\n    //  - the promise rejection handler (both in the browser and node)\n    //  - the node uncaughtException handler\n    //\n    // We are really limited in what we can do to get a stacktrace. So we use the\n    // tolerateNonErrors option to ensure that the resulting error communicates as\n    // such.\n\n\n    if (!tolerateNonErrors) {\n      if (_$iserror_19(maybeError)) {\n        error = maybeError;\n      } else {\n        error = createAndLogInputError(typeof maybeError);\n        internalFrames += 2;\n      }\n    } else {\n      switch (typeof maybeError) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          error = new Error(String(maybeError));\n          internalFrames += 1;\n          break;\n\n        case 'function':\n          error = createAndLogInputError('function');\n          internalFrames += 2;\n          break;\n\n        case 'object':\n          if (maybeError !== null && _$iserror_19(maybeError)) {\n            error = maybeError;\n          } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n            error = new Error(maybeError.message || maybeError.errorMessage);\n            error.name = maybeError.name || maybeError.errorClass;\n            internalFrames += 1;\n          } else {\n            error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object');\n            internalFrames += 2;\n          }\n\n          break;\n\n        default:\n          error = createAndLogInputError('nothing');\n          internalFrames += 2;\n      }\n    }\n\n    if (!_$hasStack_18(error)) {\n      // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n      try {\n        throw error;\n      } catch (e) {\n        if (_$hasStack_18(e)) {\n          error = e; // if the error only got a stacktrace after we threw it here, we know it\n          // will only have one extra internal frame from this function, regardless\n          // of whether it went through createAndLogInputError() or not\n\n          internalFrames = 1;\n        }\n      }\n    }\n\n    return [error, internalFrames];\n  };\n\n  var hasNecessaryFields = function hasNecessaryFields(error) {\n    return (typeof error.name === 'string' || typeof error.errorClass === 'string') && (typeof error.message === 'string' || typeof error.errorMessage === 'string');\n  };\n\n  var _$Event_6 = Event; // This is a heavily modified/simplified version of\n  //   https://github.com/othiym23/async-some\n  // with the logic flipped so that it is akin to the\n  // synchronous \"every\" method instead of \"some\".\n  // run the asynchronous test function (fn) over each item in the array (arr)\n  // in series until:\n  //   - fn(item, cb) => calls cb(null, false)\n  //   - or the end of the array is reached\n  // the callback (cb) will be passed (null, false) if any of the items in arr\n  // caused fn to call back with false, otherwise it will be passed (null, true)\n\n  var _$asyncEvery_7 = function _$asyncEvery_7(arr, fn, cb) {\n    var index = 0;\n\n    var next = function next() {\n      if (index >= arr.length) return cb(null, true);\n      fn(arr[index], function (err, result) {\n        if (err) return cb(err);\n        if (result === false) return cb(null, false);\n        index++;\n        next();\n      });\n    };\n\n    next();\n  };\n  /* removed: var _$asyncEvery_7 = require('./async-every'); */\n\n\n  ;\n\n  var _$callbackRunner_9 = function _$callbackRunner_9(callbacks, event, onCallbackError, cb) {\n    // This function is how we support different kinds of callback:\n    //  - synchronous - return value\n    //  - node-style async with callback - cb(err, value)\n    //  - promise/thenable - resolve(value)\n    // It normalises each of these into the lowest common denominator – a node-style callback\n    var runMaybeAsyncCallback = function runMaybeAsyncCallback(fn, cb) {\n      if (typeof fn !== 'function') return cb(null);\n\n      try {\n        // if function appears sync…\n        if (fn.length !== 2) {\n          var ret = fn(event); // check if it returned a \"thenable\" (promise)\n\n          if (ret && typeof ret.then === 'function') {\n            return ret.then( // resolve\n            function (val) {\n              return setTimeout(function () {\n                return cb(null, val);\n              });\n            }, // reject\n            function (err) {\n              setTimeout(function () {\n                onCallbackError(err);\n                return cb(null, true);\n              });\n            });\n          }\n\n          return cb(null, ret);\n        } // if function is async…\n\n\n        fn(event, function (err, result) {\n          if (err) {\n            onCallbackError(err);\n            return cb(null);\n          }\n\n          cb(null, result);\n        });\n      } catch (e) {\n        onCallbackError(e);\n        cb(null);\n      }\n    };\n\n    _$asyncEvery_7(callbacks, runMaybeAsyncCallback, cb);\n  };\n\n  var _$syncCallbackRunner_23 = function _$syncCallbackRunner_23(callbacks, callbackArg, callbackType, logger) {\n    var ignore = false;\n    var cbs = callbacks.slice();\n\n    while (!ignore) {\n      if (!cbs.length) break;\n\n      try {\n        ignore = cbs.pop()(callbackArg) === false;\n      } catch (e) {\n        logger.error(\"Error occurred in \" + callbackType + \" callback, continuing anyway\\u2026\");\n        logger.error(e);\n      }\n    }\n\n    return ignore;\n  };\n\n  var _$pad_29 = function pad(num, size) {\n    var s = '000000000' + num;\n    return s.substr(s.length - size);\n  };\n  /* removed: var _$pad_29 = require('./pad.js'); */\n\n\n  ;\n  var env = typeof window === 'object' ? window : self;\n  var globalCount = 0;\n\n  for (var prop in env) {\n    if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n  }\n\n  var mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\n\n  var clientId = _$pad_29((mimeTypesLength + navigator.userAgent.length).toString(36) + globalCount.toString(36), 4);\n\n  var _$fingerprint_28 = function fingerprint() {\n    return clientId;\n  };\n  /**\n   * cuid.js\n   * Collision-resistant UID generator for browsers and node.\n   * Sequential for fast db lookups and recency sorting.\n   * Safe for element IDs and server-side lookups.\n   *\n   * Extracted from CLCTR\n   *\n   * Copyright (c) Eric Elliott 2012\n   * MIT License\n   */\n\n  /* removed: var _$fingerprint_28 = require('./lib/fingerprint.js'); */\n\n\n  ;\n  /* removed: var _$pad_29 = require('./lib/pad.js'); */\n\n  ;\n  var c = 0,\n      blockSize = 4,\n      base = 36,\n      discreteValues = Math.pow(base, blockSize);\n\n  function randomBlock() {\n    return _$pad_29((Math.random() * discreteValues << 0).toString(base), blockSize);\n  }\n\n  function safeCounter() {\n    c = c < discreteValues ? c : 0;\n    c++; // this is not subliminal\n\n    return c - 1;\n  }\n\n  function cuid() {\n    // Starting with a lowercase letter makes\n    // it HTML element ID friendly.\n    var letter = 'c',\n        // hard-coded allows for sequential access\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = new Date().getTime().toString(base),\n        // Prevent same-machine collisions.\n    counter = _$pad_29(safeCounter().toString(base), blockSize),\n        // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = _$fingerprint_28(),\n        // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n    return letter + timestamp + counter + print + random;\n  }\n\n  cuid.fingerprint = _$fingerprint_28;\n  var _$cuid_27 = cuid;\n  /* removed: var _$cuid_27 = require('@bugsnag/cuid'); */\n\n  ;\n\n  var Session = /*#__PURE__*/function () {\n    function Session() {\n      this.id = _$cuid_27();\n      this.startedAt = new Date();\n      this._handled = 0;\n      this._unhandled = 0;\n      this._user = {};\n      this.app = {};\n      this.device = {};\n    }\n\n    var _proto = Session.prototype;\n\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n\n    _proto.toJSON = function toJSON() {\n      return {\n        id: this.id,\n        startedAt: this.startedAt,\n        events: {\n          handled: this._handled,\n          unhandled: this._unhandled\n        }\n      };\n    };\n\n    _proto._track = function _track(event) {\n      this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1;\n    };\n\n    return Session;\n  }();\n\n  var _$Session_35 = Session;\n  /* removed: var _$config_5 = require('./config'); */\n\n  ;\n  /* removed: var _$Event_6 = require('./event'); */\n\n  ;\n  /* removed: var _$Breadcrumb_3 = require('./breadcrumb'); */\n\n  ;\n  /* removed: var _$Session_35 = require('./session'); */\n\n  ;\n  /* removed: var _$map_16 = require('./lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$includes_13 = require('./lib/es-utils/includes'); */\n\n  ;\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n\n  ;\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n\n  ;\n  /* removed: var _$keys_15 = require('./lib/es-utils/keys'); */\n\n  ;\n  /* removed: var _$assign_11 = require('./lib/es-utils/assign'); */\n\n  ;\n  /* removed: var _$callbackRunner_9 = require('./lib/callback-runner'); */\n\n  ;\n  /* removed: var _$metadataDelegate_22 = require('./lib/metadata-delegate'); */\n\n  ;\n  /* removed: var _$syncCallbackRunner_23 = require('./lib/sync-callback-runner'); */\n\n  ;\n  /* removed: var _$breadcrumbTypes_8 = require('./lib/breadcrumb-types'); */\n\n  ;\n\n  var noop = function noop() {};\n\n  var Client = /*#__PURE__*/function () {\n    function Client(configuration, schema, internalPlugins, notifier) {\n      var _this = this;\n\n      if (schema === void 0) {\n        schema = _$config_5.schema;\n      }\n\n      if (internalPlugins === void 0) {\n        internalPlugins = [];\n      } // notifier id\n\n\n      this._notifier = notifier; // intialise opts and config\n\n      this._config = {};\n      this._schema = schema; // i/o\n\n      this._delivery = {\n        sendSession: noop,\n        sendEvent: noop\n      };\n      this._logger = {\n        debug: noop,\n        info: noop,\n        warn: noop,\n        error: noop\n      }; // plugins\n\n      this._plugins = {}; // state\n\n      this._breadcrumbs = [];\n      this._session = null;\n      this._metadata = {};\n      this._context = undefined;\n      this._user = {}; // callbacks:\n      //  e: onError\n      //  s: onSession\n      //  sp: onSessionPayload\n      //  b: onBreadcrumb\n      // (note these names are minified by hand because object\n      // properties are not safe to minify automatically)\n\n      this._cbs = {\n        e: [],\n        s: [],\n        sp: [],\n        b: []\n      }; // expose internal constructors\n\n      this.Client = Client;\n      this.Event = _$Event_6;\n      this.Breadcrumb = _$Breadcrumb_3;\n      this.Session = _$Session_35;\n      this._config = this._configure(configuration, internalPlugins);\n\n      _$map_16(internalPlugins.concat(this._config.plugins), function (pl) {\n        if (pl) _this._loadPlugin(pl);\n      }); // when notify() is called we need to know how many frames are from our own source\n      // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n      // bound to have the client as its `this` value – see below.\n\n\n      this._depth = 1;\n      var self = this;\n      var notify = this.notify;\n\n      this.notify = function () {\n        return notify.apply(self, arguments);\n      };\n    }\n\n    var _proto = Client.prototype;\n\n    _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n      return _$metadataDelegate_22.add(this._metadata, section, keyOrObj, maybeVal);\n    };\n\n    _proto.getMetadata = function getMetadata(section, key) {\n      return _$metadataDelegate_22.get(this._metadata, section, key);\n    };\n\n    _proto.clearMetadata = function clearMetadata(section, key) {\n      return _$metadataDelegate_22.clear(this._metadata, section, key);\n    };\n\n    _proto.getContext = function getContext() {\n      return this._context;\n    };\n\n    _proto.setContext = function setContext(c) {\n      this._context = c;\n    };\n\n    _proto._configure = function _configure(opts, internalPlugins) {\n      var schema = _$reduce_17(internalPlugins, function (schema, plugin) {\n        if (plugin && plugin.configSchema) return _$assign_11({}, schema, plugin.configSchema);\n        return schema;\n      }, this._schema); // accumulate configuration and error messages\n\n\n      var _reduce = _$reduce_17(_$keys_15(schema), function (accum, key) {\n        var defaultValue = schema[key].defaultValue(opts[key]);\n\n        if (opts[key] !== undefined) {\n          var valid = schema[key].validate(opts[key]);\n\n          if (!valid) {\n            accum.errors[key] = schema[key].message;\n            accum.config[key] = defaultValue;\n          } else {\n            if (schema[key].allowPartialObject) {\n              accum.config[key] = _$assign_11(defaultValue, opts[key]);\n            } else {\n              accum.config[key] = opts[key];\n            }\n          }\n        } else {\n          accum.config[key] = defaultValue;\n        }\n\n        return accum;\n      }, {\n        errors: {},\n        config: {}\n      }),\n          errors = _reduce.errors,\n          config = _reduce.config;\n\n      if (schema.apiKey) {\n        // missing api key is the only fatal error\n        if (!config.apiKey) throw new Error('No Bugsnag API Key set'); // warn about an apikey that is not of the expected format\n\n        if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters';\n      } // update and elevate some options\n\n\n      this._metadata = _$assign_11({}, config.metadata);\n      this._user = _$assign_11({}, config.user);\n      this._context = config.context;\n      if (config.logger) this._logger = config.logger; // add callbacks\n\n      if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError);\n      if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb);\n      if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession); // finally warn about any invalid config where we fell back to the default\n\n      if (_$keys_15(errors).length) {\n        this._logger.warn(generateConfigErrorMessage(errors, opts));\n      }\n\n      return config;\n    };\n\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n\n    _proto._loadPlugin = function _loadPlugin(plugin) {\n      var result = plugin.load(this); // JS objects are not the safest way to store arbitrarily keyed values,\n      // so bookend the key with some characters that prevent tampering with\n      // stuff like __proto__ etc. (only store the result if the plugin had a\n      // name)\n\n      if (plugin.name) this._plugins[\"~\" + plugin.name + \"~\"] = result;\n      return this;\n    };\n\n    _proto.getPlugin = function getPlugin(name) {\n      return this._plugins[\"~\" + name + \"~\"];\n    };\n\n    _proto._setDelivery = function _setDelivery(d) {\n      this._delivery = d(this);\n    };\n\n    _proto.startSession = function startSession() {\n      var session = new _$Session_35();\n      session.app.releaseStage = this._config.releaseStage;\n      session.app.version = this._config.appVersion;\n      session.app.type = this._config.appType;\n      session._user = _$assign_11({}, this._user); // run onSession callbacks\n\n      var ignore = _$syncCallbackRunner_23(this._cbs.s, session, 'onSession', this._logger);\n\n      if (ignore) {\n        this._logger.debug('Session not started due to onSession callback');\n\n        return this;\n      }\n\n      return this._sessionDelegate.startSession(this, session);\n    };\n\n    _proto.addOnError = function addOnError(fn, front) {\n      if (front === void 0) {\n        front = false;\n      }\n\n      this._cbs.e[front ? 'unshift' : 'push'](fn);\n    };\n\n    _proto.removeOnError = function removeOnError(fn) {\n      this._cbs.e = _$filter_12(this._cbs.e, function (f) {\n        return f !== fn;\n      });\n    };\n\n    _proto._addOnSessionPayload = function _addOnSessionPayload(fn) {\n      this._cbs.sp.push(fn);\n    };\n\n    _proto.addOnSession = function addOnSession(fn) {\n      this._cbs.s.push(fn);\n    };\n\n    _proto.removeOnSession = function removeOnSession(fn) {\n      this._cbs.s = _$filter_12(this._cbs.s, function (f) {\n        return f !== fn;\n      });\n    };\n\n    _proto.addOnBreadcrumb = function addOnBreadcrumb(fn, front) {\n      if (front === void 0) {\n        front = false;\n      }\n\n      this._cbs.b[front ? 'unshift' : 'push'](fn);\n    };\n\n    _proto.removeOnBreadcrumb = function removeOnBreadcrumb(fn) {\n      this._cbs.b = _$filter_12(this._cbs.b, function (f) {\n        return f !== fn;\n      });\n    };\n\n    _proto.pauseSession = function pauseSession() {\n      return this._sessionDelegate.pauseSession(this);\n    };\n\n    _proto.resumeSession = function resumeSession() {\n      return this._sessionDelegate.resumeSession(this);\n    };\n\n    _proto.leaveBreadcrumb = function leaveBreadcrumb(message, metadata, type) {\n      // coerce bad values so that the defaults get set\n      message = typeof message === 'string' ? message : '';\n      type = typeof type === 'string' && _$includes_13(_$breadcrumbTypes_8, type) ? type : 'manual';\n      metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}; // if no message, discard\n\n      if (!message) return;\n      var crumb = new _$Breadcrumb_3(message, metadata, type); // run onBreadcrumb callbacks\n\n      var ignore = _$syncCallbackRunner_23(this._cbs.b, crumb, 'onBreadcrumb', this._logger);\n\n      if (ignore) {\n        this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback');\n\n        return;\n      } // push the valid crumb onto the queue and maintain the length\n\n\n      this._breadcrumbs.push(crumb);\n\n      if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n        this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs);\n      }\n    };\n\n    _proto.notify = function notify(maybeError, onError, cb) {\n      if (cb === void 0) {\n        cb = noop;\n      }\n\n      var event = _$Event_6.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger);\n\n      this._notify(event, onError, cb);\n    };\n\n    _proto._notify = function _notify(event, onError, cb) {\n      var _this2 = this;\n\n      if (cb === void 0) {\n        cb = noop;\n      }\n\n      event.app = _$assign_11({}, event.app, {\n        releaseStage: this._config.releaseStage,\n        version: this._config.appVersion,\n        type: this._config.appType\n      });\n      event.context = event.context || this._context;\n      event._metadata = _$assign_11({}, event._metadata, this._metadata);\n      event._user = _$assign_11({}, event._user, this._user);\n      event.breadcrumbs = this._breadcrumbs.slice();\n\n      if (this._session) {\n        this._session._track(event);\n\n        event._session = this._session;\n      } // exit early if events should not be sent on the current releaseStage\n\n\n      if (this._config.enabledReleaseStages !== null && !_$includes_13(this._config.enabledReleaseStages, this._config.releaseStage)) {\n        this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration');\n\n        return cb(null, event);\n      }\n\n      var originalSeverity = event.severity;\n\n      var onCallbackError = function onCallbackError(err) {\n        // errors in callbacks are tolerated but we want to log them out\n        _this2._logger.error('Error occurred in onError callback, continuing anyway…');\n\n        _this2._logger.error(err);\n      };\n\n      var callbacks = [].concat(this._cbs.e).concat(onError);\n\n      _$callbackRunner_9(callbacks, event, onCallbackError, function (err, shouldSend) {\n        if (err) onCallbackError(err);\n\n        if (!shouldSend) {\n          _this2._logger.debug('Event not sent due to onError callback');\n\n          return cb(null, event);\n        }\n\n        if (_$includes_13(_this2._config.enabledBreadcrumbTypes, 'error')) {\n          // only leave a crumb for the error if actually got sent\n          Client.prototype.leaveBreadcrumb.call(_this2, event.errors[0].errorClass, {\n            errorClass: event.errors[0].errorClass,\n            errorMessage: event.errors[0].errorMessage,\n            severity: event.severity\n          }, 'error');\n        }\n\n        if (originalSeverity !== event.severity) {\n          event._handledState.severityReason = {\n            type: 'userCallbackSetSeverity'\n          };\n        }\n\n        _this2._delivery.sendEvent({\n          apiKey: event.apiKey || _this2._config.apiKey,\n          notifier: _this2._notifier,\n          events: [event]\n        }, function (err) {\n          return cb(err, event);\n        });\n      });\n    };\n\n    return Client;\n  }();\n\n  var generateConfigErrorMessage = function generateConfigErrorMessage(errors, rawInput) {\n    var er = new Error(\"Invalid configuration\\n\" + _$map_16(_$keys_15(errors), function (key) {\n      return \"  - \" + key + \" \" + errors[key] + \", got \" + stringify(rawInput[key]);\n    }).join('\\n\\n'));\n    return er;\n  };\n\n  var stringify = function stringify(val) {\n    switch (typeof val) {\n      case 'string':\n      case 'number':\n      case 'object':\n        return JSON.stringify(val);\n\n      default:\n        return String(val);\n    }\n  };\n\n  var _$Client_4 = Client;\n\n  var _$safeJsonStringify_30 = function _$safeJsonStringify_30(data, replacer, space, opts) {\n    var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : [];\n    var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : [];\n    return JSON.stringify(prepareObjForSerialization(data, redactedKeys, redactedPaths), replacer, space);\n  };\n\n  var MAX_DEPTH = 20;\n  var MAX_EDGES = 25000;\n  var MIN_PRESERVED_DEPTH = 8;\n  var REPLACEMENT_NODE = '...';\n\n  function __isError_30(o) {\n    return o instanceof Error || /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o));\n  }\n\n  function throwsMessage(err) {\n    return '[Throws: ' + (err ? err.message : '?') + ']';\n  }\n\n  function find(haystack, needle) {\n    for (var i = 0, len = haystack.length; i < len; i++) {\n      if (haystack[i] === needle) return true;\n    }\n\n    return false;\n  } // returns true if the string `path` starts with any of the provided `paths`\n\n\n  function isDescendent(paths, path) {\n    for (var i = 0, len = paths.length; i < len; i++) {\n      if (path.indexOf(paths[i]) === 0) return true;\n    }\n\n    return false;\n  }\n\n  function shouldRedact(patterns, key) {\n    for (var i = 0, len = patterns.length; i < len; i++) {\n      if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true;\n      if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true;\n    }\n\n    return false;\n  }\n\n  function __isArray_30(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n\n  function safelyGetProp(obj, prop) {\n    try {\n      return obj[prop];\n    } catch (err) {\n      return throwsMessage(err);\n    }\n  }\n\n  function prepareObjForSerialization(obj, redactedKeys, redactedPaths) {\n    var seen = []; // store references to objects we have seen before\n\n    var edges = 0;\n\n    function visit(obj, path) {\n      function edgesExceeded() {\n        return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES;\n      }\n\n      edges++;\n      if (path.length > MAX_DEPTH) return REPLACEMENT_NODE;\n      if (edgesExceeded()) return REPLACEMENT_NODE;\n      if (obj === null || typeof obj !== 'object') return obj;\n      if (find(seen, obj)) return '[Circular]';\n      seen.push(obj);\n\n      if (typeof obj.toJSON === 'function') {\n        try {\n          // we're not going to count this as an edge because it\n          // replaces the value of the currently visited object\n          edges--;\n          var fResult = visit(obj.toJSON(), path);\n          seen.pop();\n          return fResult;\n        } catch (err) {\n          return throwsMessage(err);\n        }\n      }\n\n      var er = __isError_30(obj);\n\n      if (er) {\n        edges--;\n        var eResult = visit({\n          name: obj.name,\n          message: obj.message\n        }, path);\n        seen.pop();\n        return eResult;\n      }\n\n      if (__isArray_30(obj)) {\n        var aResult = [];\n\n        for (var i = 0, len = obj.length; i < len; i++) {\n          if (edgesExceeded()) {\n            aResult.push(REPLACEMENT_NODE);\n            break;\n          }\n\n          aResult.push(visit(obj[i], path.concat('[]')));\n        }\n\n        seen.pop();\n        return aResult;\n      }\n\n      var result = {};\n\n      try {\n        for (var prop in obj) {\n          if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue;\n\n          if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n            result[prop] = '[REDACTED]';\n            continue;\n          }\n\n          if (edgesExceeded()) {\n            result[prop] = REPLACEMENT_NODE;\n            break;\n          }\n\n          result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop));\n        }\n      } catch (e) {}\n\n      seen.pop();\n      return result;\n    }\n\n    return visit(obj, []);\n  }\n\n  var _$jsonPayload_21 = {};\n  /* removed: var _$safeJsonStringify_30 = require('@bugsnag/safe-json-stringify'); */\n\n  ;\n  var EVENT_REDACTION_PATHS = ['events.[].metaData', 'events.[].breadcrumbs.[].metaData', 'events.[].request'];\n\n  _$jsonPayload_21.event = function (event, redactedKeys) {\n    var payload = _$safeJsonStringify_30(event, null, null, {\n      redactedPaths: EVENT_REDACTION_PATHS,\n      redactedKeys: redactedKeys\n    });\n\n    if (payload.length > 10e5) {\n      event.events[0]._metadata = {\n        notifier: \"WARNING!\\nSerialized payload was \" + payload.length / 10e5 + \"MB (limit = 1MB)\\nmetadata was removed\"\n      };\n      payload = _$safeJsonStringify_30(event, null, null, {\n        redactedPaths: EVENT_REDACTION_PATHS,\n        redactedKeys: redactedKeys\n      });\n      if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit');\n    }\n\n    return payload;\n  };\n\n  _$jsonPayload_21.session = function (event, redactedKeys) {\n    var payload = _$safeJsonStringify_30(event, null, null);\n\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit');\n    return payload;\n  };\n\n  var _$delivery_36 = {};\n  /* removed: var _$jsonPayload_21 = require('@bugsnag/core/lib/json-payload'); */\n\n  ;\n\n  _$delivery_36 = function _$delivery_36(client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      sendEvent: function sendEvent(event, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n\n        var url = getApiUrl(client._config, 'notify', '4', win);\n        var req = new win.XDomainRequest();\n\n        req.onload = function () {\n          cb(null);\n        };\n\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(_$jsonPayload_21.event(event, client._config.redactedKeys));\n          } catch (e) {\n            client._logger.error(e);\n\n            cb(e);\n          }\n        }, 0);\n      },\n      sendSession: function sendSession(session, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n\n        var url = getApiUrl(client._config, 'sessions', '1', win);\n        var req = new win.XDomainRequest();\n\n        req.onload = function () {\n          cb(null);\n        };\n\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(_$jsonPayload_21.session(session, client._config.redactedKeys));\n          } catch (e) {\n            client._logger.error(e);\n\n            cb(e);\n          }\n        }, 0);\n      }\n    };\n  };\n\n  var getApiUrl = function getApiUrl(config, endpoint, version, win) {\n    // IE8 doesn't support Date.prototype.toISOstring(), but it does convert a date\n    // to an ISO string when you use JSON stringify. Simply parsing the result of\n    // JSON.stringify is smaller than using a toISOstring() polyfill.\n    var isoDate = JSON.parse(JSON.stringify(new Date()));\n    var url = matchPageProtocol(config.endpoints[endpoint], win.location.protocol);\n    return url + \"?apiKey=\" + encodeURIComponent(config.apiKey) + \"&payloadVersion=\" + version + \"&sentAt=\" + encodeURIComponent(isoDate);\n  };\n\n  var matchPageProtocol = _$delivery_36._matchPageProtocol = function (endpoint, pageProtocol) {\n    return pageProtocol === 'http:' ? endpoint.replace(/^https:/, 'http:') : endpoint;\n  };\n  /* removed: var _$jsonPayload_21 = require('@bugsnag/core/lib/json-payload'); */\n\n\n  ;\n\n  var _$delivery_37 = function _$delivery_37(client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      sendEvent: function sendEvent(event, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n\n        try {\n          var url = client._config.endpoints.notify;\n          var req = new win.XMLHttpRequest();\n\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) cb(null);\n          };\n\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', event.apiKey || client._config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '4');\n          req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n          req.send(_$jsonPayload_21.event(event, client._config.redactedKeys));\n        } catch (e) {\n          client._logger.error(e);\n        }\n      },\n      sendSession: function sendSession(session, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n\n        try {\n          var url = client._config.endpoints.sessions;\n          var req = new win.XMLHttpRequest();\n\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) cb(null);\n          };\n\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', client._config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '1');\n          req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n          req.send(_$jsonPayload_21.session(session, client._config.redactedKeys));\n        } catch (e) {\n          client._logger.error(e);\n        }\n      }\n    };\n  };\n\n  var appStart = new Date();\n  var _$app_38 = {\n    load: function load(client) {\n      client.addOnError(function (event) {\n        var now = new Date();\n        event.app.duration = now - appStart;\n      }, true);\n    }\n  };\n  /*\n   * Sets the default context to be the current URL\n   */\n\n  var _$context_39 = function _$context_39(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      load: function load(client) {\n        client.addOnError(function (event) {\n          if (event.context !== undefined) return;\n          event.context = win.location.pathname;\n        }, true);\n      }\n    };\n  };\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n\n\n  ;\n  /*\n   * Automatically detects browser device details\n   */\n\n  var _$device_40 = function _$device_40(nav, screen) {\n    if (nav === void 0) {\n      nav = navigator;\n    }\n\n    if (screen === void 0) {\n      screen = window.screen;\n    }\n\n    return {\n      load: function load(client) {\n        var device = {\n          locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n          userAgent: nav.userAgent\n        };\n\n        if (screen && screen.orientation && screen.orientation.type) {\n          device.orientation = screen.orientation.type;\n        } else {\n          device.orientation = document.documentElement.clientWidth > document.documentElement.clientHeight ? 'landscape' : 'portrait';\n        }\n\n        client.addOnSession(function (session) {\n          session.device = _$assign_11({}, session.device, device);\n        }); // add time just as the event is sent\n\n        client.addOnError(function (event) {\n          event.device = _$assign_11({}, event.device, device, {\n            time: new Date()\n          });\n        }, true);\n      }\n    };\n  };\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n\n\n  ;\n  /*\n   * Sets the event request: { url } to be the current href\n   */\n\n  var _$request_41 = function _$request_41(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      load: function load(client) {\n        client.addOnError(function (event) {\n          if (event.request && event.request.url) return;\n          event.request = _$assign_11({}, event.request, {\n            url: win.location.href\n          });\n        }, true);\n      }\n    };\n  };\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n\n\n  ;\n  var _$session_42 = {\n    load: function load(client) {\n      client._sessionDelegate = sessionDelegate;\n    }\n  };\n  var sessionDelegate = {\n    startSession: function startSession(client, session) {\n      var sessionClient = client;\n      sessionClient._session = session;\n      sessionClient._pausedSession = null; // exit early if the current releaseStage is not enabled\n\n      if (sessionClient._config.enabledReleaseStages !== null && !_$includes_13(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n        sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration');\n\n        return sessionClient;\n      }\n\n      sessionClient._delivery.sendSession({\n        notifier: sessionClient._notifier,\n        device: session.device,\n        app: session.app,\n        sessions: [{\n          id: session.id,\n          startedAt: session.startedAt,\n          user: session._user\n        }]\n      });\n\n      return sessionClient;\n    },\n    resumeSession: function resumeSession(client) {\n      if (client._pausedSession) {\n        client._session = client._pausedSession;\n        client._pausedSession = null;\n        return client;\n      } else {\n        return client.startSession();\n      }\n    },\n    pauseSession: function pauseSession(client) {\n      client._pausedSession = client._session;\n      client._session = null;\n    }\n  };\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n\n  ;\n  /*\n   * Prevent collection of user IPs\n   */\n\n  var _$clientIp_43 = {\n    load: function load(client) {\n      if (client._config.collectUserIp) return;\n      client.addOnError(function (event) {\n        // If user.id is explicitly undefined, it will be missing from the payload. It needs\n        // removing so that the following line replaces it\n        if (event._user && typeof event._user.id === 'undefined') delete event._user.id;\n        event._user = _$assign_11({\n          id: '[REDACTED]'\n        }, event._user);\n        event.request = _$assign_11({\n          clientIp: '[REDACTED]'\n        }, event.request);\n      });\n    },\n    configSchema: {\n      collectUserIp: {\n        defaultValue: function defaultValue() {\n          return true;\n        },\n        message: 'should be true|false',\n        validate: function validate(value) {\n          return value === true || value === false;\n        }\n      }\n    }\n  };\n  var _$consoleBreadcrumbs_44 = {};\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n\n  ;\n  /* removed: var _$filter_12 = require('@bugsnag/core/lib/es-utils/filter'); */\n\n  ;\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n\n  ;\n  /*\n   * Leaves breadcrumbs when console log methods are called\n   */\n\n  _$consoleBreadcrumbs_44.load = function (client) {\n    var isDev = /^dev(elopment)?$/.test(client._config.releaseStage);\n    if (!client._config.enabledBreadcrumbTypes || !_$includes_13(client._config.enabledBreadcrumbTypes, 'log') || isDev) return;\n\n    _$map_16(CONSOLE_LOG_METHODS, function (method) {\n      var original = console[method];\n\n      console[method] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        client.leaveBreadcrumb('Console output', _$reduce_17(args, function (accum, arg, i) {\n          // do the best/simplest stringification of each argument\n          var stringified = '[Unknown value]'; // this may fail if the input is:\n          // - an object whose [[Prototype]] is null (no toString)\n          // - an object with a broken toString or @@toPrimitive implementation\n\n          try {\n            stringified = String(arg);\n          } catch (e) {} // if it stringifies to [object Object] attempt to JSON stringify\n\n\n          if (stringified === '[object Object]') {\n            // catch stringify errors and fallback to [object Object]\n            try {\n              stringified = JSON.stringify(arg);\n            } catch (e) {}\n          }\n\n          accum[\"[\" + i + \"]\"] = stringified;\n          return accum;\n        }, {\n          severity: method.indexOf('group') === 0 ? 'log' : method\n        }), 'log');\n        original.apply(console, args);\n      };\n\n      console[method]._restore = function () {\n        console[method] = original;\n      };\n    });\n  };\n\n  if (\"production\" !== 'production') {\n    _$consoleBreadcrumbs_44.destroy = function () {\n      return CONSOLE_LOG_METHODS.forEach(function (method) {\n        if (typeof console[method]._restore === 'function') console[method]._restore();\n      });\n    };\n  }\n\n  var CONSOLE_LOG_METHODS = _$filter_12(['log', 'debug', 'info', 'warn', 'error'], function (method) {\n    return typeof console !== 'undefined' && typeof console[method] === 'function';\n  });\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n\n  ;\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n\n  ;\n  /* removed: var _$filter_12 = require('@bugsnag/core/lib/es-utils/filter'); */\n\n  ;\n  var MAX_LINE_LENGTH = 200;\n  var MAX_SCRIPT_LENGTH = 500000;\n\n  var _$inlineScriptContent_45 = function _$inlineScriptContent_45(doc, win) {\n    if (doc === void 0) {\n      doc = document;\n    }\n\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      load: function load(client) {\n        if (!client._config.trackInlineScripts) return;\n        var originalLocation = win.location.href;\n        var html = '';\n        var DOMContentLoaded = false;\n\n        var getHtml = function getHtml() {\n          return doc.documentElement.outerHTML;\n        }; // get whatever HTML exists at this point in time\n\n\n        html = getHtml();\n        var prev = doc.onreadystatechange; // then update it when the DOM content has loaded\n\n        doc.onreadystatechange = function () {\n          // IE8 compatible alternative to document#DOMContentLoaded\n          if (doc.readyState === 'interactive') {\n            html = getHtml();\n            DOMContentLoaded = true;\n          }\n\n          try {\n            prev.apply(this, arguments);\n          } catch (e) {}\n        };\n\n        var _lastScript = null;\n\n        var updateLastScript = function updateLastScript(script) {\n          _lastScript = script;\n        };\n\n        var getCurrentScript = function getCurrentScript() {\n          var script = doc.currentScript || _lastScript;\n\n          if (!script && !DOMContentLoaded) {\n            var scripts = doc.scripts || doc.getElementsByTagName('script');\n            script = scripts[scripts.length - 1];\n          }\n\n          return script;\n        };\n\n        var addSurroundingCode = function addSurroundingCode(lineNumber) {\n          // get whatever html has rendered at this point\n          if (!DOMContentLoaded || !html) html = getHtml(); // simulate the raw html\n\n          var htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'));\n          var zeroBasedLine = lineNumber - 1;\n          var start = Math.max(zeroBasedLine - 3, 0);\n          var end = Math.min(zeroBasedLine + 3, htmlLines.length);\n          return _$reduce_17(htmlLines.slice(start, end), function (accum, line, i) {\n            accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH);\n            return accum;\n          }, {});\n        };\n\n        client.addOnError(function (event) {\n          // remove any of our own frames that may be part the stack this\n          // happens before the inline script check as it happens for all errors\n          event.errors[0].stacktrace = _$filter_12(event.errors[0].stacktrace, function (f) {\n            return !/__trace__$/.test(f.method);\n          });\n          var frame = event.errors[0].stacktrace[0]; // if frame.file exists and is not the original location of the page, this can't be an inline script\n\n          if (frame && frame.file && frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return; // grab the last script known to have run\n\n          var currentScript = getCurrentScript();\n\n          if (currentScript) {\n            var content = currentScript.innerHTML;\n            event.addMetadata('script', 'content', content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH));\n          } // only attempt to grab some surrounding code if we have a line number\n\n\n          if (!frame || !frame.lineNumber) return;\n          frame.code = addSurroundingCode(frame.lineNumber);\n        }, true); // Proxy all the timer functions whose callback is their 0th argument.\n        // Keep a reference to the original setTimeout because we need it later\n\n        var _map = _$map_16(['setTimeout', 'setInterval', 'setImmediate', 'requestAnimationFrame'], function (fn) {\n          return __proxy(win, fn, function (original) {\n            return __traceOriginalScript(original, function (args) {\n              return {\n                get: function get() {\n                  return args[0];\n                },\n                replace: function replace(fn) {\n                  args[0] = fn;\n                }\n              };\n            });\n          });\n        }),\n            _setTimeout = _map[0]; // Proxy all the host objects whose prototypes have an addEventListener function\n\n\n        _$map_16(['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'], function (o) {\n          if (!win[o] || !win[o].prototype || !Object.prototype.hasOwnProperty.call(win[o].prototype, 'addEventListener')) return;\n\n          __proxy(win[o].prototype, 'addEventListener', function (original) {\n            return __traceOriginalScript(original, eventTargetCallbackAccessor);\n          });\n\n          __proxy(win[o].prototype, 'removeEventListener', function (original) {\n            return __traceOriginalScript(original, eventTargetCallbackAccessor, true);\n          });\n        });\n\n        function __traceOriginalScript(fn, callbackAccessor, alsoCallOriginal) {\n          if (alsoCallOriginal === void 0) {\n            alsoCallOriginal = false;\n          }\n\n          return function () {\n            // this is required for removeEventListener to remove anything added with\n            // addEventListener before the functions started being wrapped by Bugsnag\n            var args = [].slice.call(arguments);\n\n            try {\n              var cba = callbackAccessor(args);\n              var cb = cba.get();\n              if (alsoCallOriginal) fn.apply(this, args);\n              if (typeof cb !== 'function') return fn.apply(this, args);\n\n              if (cb.__trace__) {\n                cba.replace(cb.__trace__);\n              } else {\n                var script = getCurrentScript(); // this function mustn't be annonymous due to a bug in the stack\n                // generation logic, meaning it gets tripped up\n                // see: https://github.com/stacktracejs/stack-generator/issues/6\n\n                cb.__trace__ = function __trace__() {\n                  // set the script that called this function\n                  updateLastScript(script); // immediately unset the currentScript synchronously below, however\n                  // if this cb throws an error the line after will not get run so schedule\n                  // an almost-immediate aysnc update too\n\n                  _setTimeout(function () {\n                    updateLastScript(null);\n                  }, 0);\n\n                  var ret = cb.apply(this, arguments);\n                  updateLastScript(null);\n                  return ret;\n                };\n\n                cb.__trace__.__trace__ = cb.__trace__;\n                cba.replace(cb.__trace__);\n              }\n            } catch (e) {} // swallow these errors on Selenium:\n            // Permission denied to access property '__trace__'\n            // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n            // IE8 doesn't let you call .apply() on setTimeout/setInterval\n\n\n            if (fn.apply) return fn.apply(this, args);\n\n            switch (args.length) {\n              case 1:\n                return fn(args[0]);\n\n              case 2:\n                return fn(args[0], args[1]);\n\n              default:\n                return fn();\n            }\n          };\n        }\n      },\n      configSchema: {\n        trackInlineScripts: {\n          validate: function validate(value) {\n            return value === true || value === false;\n          },\n          defaultValue: function defaultValue() {\n            return true;\n          },\n          message: 'should be true|false'\n        }\n      }\n    };\n  };\n\n  function __proxy(host, name, replacer) {\n    var original = host[name];\n    if (!original) return original;\n    var replacement = replacer(original);\n    host[name] = replacement;\n    return original;\n  }\n\n  function eventTargetCallbackAccessor(args) {\n    var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function';\n    return {\n      get: function get() {\n        return isEventHandlerObj ? args[1].handleEvent : args[1];\n      },\n      replace: function replace(fn) {\n        if (isEventHandlerObj) {\n          args[1].handleEvent = fn;\n        } else {\n          args[1] = fn;\n        }\n      }\n    };\n  }\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n\n\n  ;\n  /*\n   * Leaves breadcrumbs when the user interacts with the DOM\n   */\n\n  var _$interactionBreadcrumbs_46 = function _$interactionBreadcrumbs_46(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      load: function load(client) {\n        if (!('addEventListener' in win)) return;\n        if (!client._config.enabledBreadcrumbTypes || !_$includes_13(client._config.enabledBreadcrumbTypes, 'user')) return;\n        win.addEventListener('click', function (event) {\n          var targetText, targetSelector;\n\n          try {\n            targetText = getNodeText(event.target);\n            targetSelector = getNodeSelector(event.target, win);\n          } catch (e) {\n            targetText = '[hidden]';\n            targetSelector = '[hidden]';\n\n            client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z');\n          }\n\n          client.leaveBreadcrumb('UI click', {\n            targetText: targetText,\n            targetSelector: targetSelector\n          }, 'user');\n        }, true);\n      }\n    };\n  }; // extract text content from a element\n\n\n  var getNodeText = function getNodeText(el) {\n    var text = el.textContent || el.innerText || '';\n    if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value;\n    text = text.replace(/^\\s+|\\s+$/g, ''); // trim whitespace\n\n    return truncate(text, 140);\n  }; // Create a label from tagname, id and css class of the element\n\n\n  function getNodeSelector(el, win) {\n    var parts = [el.tagName];\n    if (el.id) parts.push('#' + el.id);\n    if (el.className && el.className.length) parts.push(\".\" + el.className.split(' ').join('.')); // Can't get much more advanced with the current browser\n\n    if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('');\n\n    try {\n      if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('');\n    } catch (e) {\n      // Sometimes the query selector can be invalid just return it as-is\n      return parts.join('');\n    } // try to get a more specific selector if this one matches more than one element\n\n\n    if (el.parentNode.childNodes.length > 1) {\n      var index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1;\n      parts.push(\":nth-child(\" + index + \")\");\n    }\n\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join(''); // try prepending the parent node selector\n\n    if (el.parentNode) return getNodeSelector(el.parentNode, win) + \" > \" + parts.join('');\n    return parts.join('');\n  }\n\n  function truncate(value, length) {\n    var ommision = '(...)';\n    if (value && value.length <= length) return value;\n    return value.slice(0, length - ommision.length) + ommision;\n  }\n\n  var _$navigationBreadcrumbs_47 = {};\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n\n  ;\n  /*\n  * Leaves breadcrumbs when navigation methods are called or events are emitted\n  */\n\n  _$navigationBreadcrumbs_47 = function _$navigationBreadcrumbs_47(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    var plugin = {\n      load: function load(client) {\n        if (!('addEventListener' in win)) return;\n        if (!client._config.enabledBreadcrumbTypes || !_$includes_13(client._config.enabledBreadcrumbTypes, 'navigation')) return; // returns a function that will drop a breadcrumb with a given name\n\n        var drop = function drop(name) {\n          return function () {\n            return client.leaveBreadcrumb(name, {}, 'navigation');\n          };\n        }; // simple drops – just names, no meta\n\n\n        win.addEventListener('pagehide', drop('Page hidden'), true);\n        win.addEventListener('pageshow', drop('Page shown'), true);\n        win.addEventListener('load', drop('Page loaded'), true);\n        win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true); // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n\n        win.addEventListener('load', function () {\n          return win.addEventListener('popstate', drop('Navigated back'), true);\n        }); // hashchange has some metadata that we care about\n\n        win.addEventListener('hashchange', function (event) {\n          var metadata = event.oldURL ? {\n            from: relativeLocation(event.oldURL, win),\n            to: relativeLocation(event.newURL, win),\n            state: getCurrentState(win)\n          } : {\n            to: relativeLocation(win.location.href, win)\n          };\n          client.leaveBreadcrumb('Hash changed', metadata, 'navigation');\n        }, true); // the only way to know about replaceState/pushState is to wrap them… >_<\n\n        if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win);\n        if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win);\n        client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation');\n      }\n    };\n\n    if (\"production\" !== 'production') {\n      plugin.destroy = function (win) {\n        if (win === void 0) {\n          win = window;\n        }\n\n        win.history.replaceState._restore();\n\n        win.history.pushState._restore();\n      };\n    }\n\n    return plugin;\n  };\n\n  if (\"production\" !== 'production') {\n    _$navigationBreadcrumbs_47.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n\n      win.history.replaceState._restore();\n\n      win.history.pushState._restore();\n    };\n  } // takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n  // just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\n\n\n  var relativeLocation = function relativeLocation(url, win) {\n    var a = win.document.createElement('A');\n    a.href = url;\n    return \"\" + a.pathname + a.search + a.hash;\n  };\n\n  var stateChangeToMetadata = function stateChangeToMetadata(win, state, title, url) {\n    var currentPath = relativeLocation(win.location.href, win);\n    return {\n      title: title,\n      state: state,\n      prevState: getCurrentState(win),\n      to: url || currentPath,\n      from: currentPath\n    };\n  };\n\n  var wrapHistoryFn = function wrapHistoryFn(client, target, fn, win) {\n    var orig = target[fn];\n\n    target[fn] = function (state, title, url) {\n      client.leaveBreadcrumb(\"History \" + fn, stateChangeToMetadata(win, state, title, url), 'navigation'); // if throttle plugin is in use, reset the event sent count\n\n      if (typeof client.resetEventCount === 'function') client.resetEventCount(); // if the client is operating in auto session-mode, a new route should trigger a new session\n\n      if (client._config.autoTrackSessions) client.startSession(); // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n      // to '/undefined'. therefore we only pass the url if it's not undefined.\n\n      orig.apply(target, [state, title].concat(url !== undefined ? url : []));\n    };\n\n    if (\"production\" !== 'production') {\n      target[fn]._restore = function () {\n        target[fn] = orig;\n      };\n    }\n  };\n\n  var getCurrentState = function getCurrentState(win) {\n    try {\n      return win.history.state;\n    } catch (e) {}\n  };\n\n  var BREADCRUMB_TYPE = 'request'; // keys to safely store metadata on the request object\n\n  var REQUEST_SETUP_KEY = 'BS~~S';\n  var REQUEST_URL_KEY = 'BS~~U';\n  var REQUEST_METHOD_KEY = 'BS~~M';\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n\n  ;\n  /*\n   * Leaves breadcrumbs when network requests occur\n   */\n\n  var _$networkBreadcrumbs_48 = function _$networkBreadcrumbs_48(_ignoredUrls, win) {\n    if (_ignoredUrls === void 0) {\n      _ignoredUrls = [];\n    }\n\n    if (win === void 0) {\n      win = window;\n    }\n\n    var restoreFunctions = [];\n    var plugin = {\n      load: function load(client) {\n        if (!client._config.enabledBreadcrumbTypes || !_$includes_13(client._config.enabledBreadcrumbTypes, 'request')) return;\n        var ignoredUrls = [client._config.endpoints.notify, client._config.endpoints.sessions].concat(_ignoredUrls);\n        monkeyPatchXMLHttpRequest();\n        monkeyPatchFetch(); // XMLHttpRequest monkey patch\n\n        function monkeyPatchXMLHttpRequest() {\n          if (!('addEventListener' in win.XMLHttpRequest.prototype)) return;\n          var nativeOpen = win.XMLHttpRequest.prototype.open; // override native open()\n\n          win.XMLHttpRequest.prototype.open = function open(method, url) {\n            // store url and HTTP method for later\n            this[REQUEST_URL_KEY] = url;\n            this[REQUEST_METHOD_KEY] = method; // if we have already setup listeners, it means open() was called twice, we need to remove\n            // the listeners and recreate them\n\n            if (this[REQUEST_SETUP_KEY]) {\n              this.removeEventListener('load', handleXHRLoad);\n              this.removeEventListener('error', handleXHRError);\n            } // attach load event listener\n\n\n            this.addEventListener('load', handleXHRLoad); // attach error event listener\n\n            this.addEventListener('error', handleXHRError);\n            this[REQUEST_SETUP_KEY] = true;\n            nativeOpen.apply(this, arguments);\n          };\n\n          if (\"production\" !== 'production') {\n            restoreFunctions.push(function () {\n              win.XMLHttpRequest.prototype.open = nativeOpen;\n            });\n          }\n        }\n\n        function handleXHRLoad() {\n          if (_$includes_13(ignoredUrls, this[REQUEST_URL_KEY])) {\n            // don't leave a network breadcrumb from bugsnag notify calls\n            return;\n          }\n\n          var metadata = {\n            status: this.status,\n            request: this[REQUEST_METHOD_KEY] + \" \" + this[REQUEST_URL_KEY]\n          };\n\n          if (this.status >= 400) {\n            // contacted server but got an error response\n            client.leaveBreadcrumb('XMLHttpRequest failed', metadata, BREADCRUMB_TYPE);\n          } else {\n            client.leaveBreadcrumb('XMLHttpRequest succeeded', metadata, BREADCRUMB_TYPE);\n          }\n        }\n\n        function handleXHRError() {\n          if (_$includes_13(ignoredUrls, this[REQUEST_URL_KEY])) {\n            // don't leave a network breadcrumb from bugsnag notify calls\n            return;\n          } // failed to contact server\n\n\n          client.leaveBreadcrumb('XMLHttpRequest error', {\n            request: this[REQUEST_METHOD_KEY] + \" \" + this[REQUEST_URL_KEY]\n          }, BREADCRUMB_TYPE);\n        } // window.fetch monkey patch\n\n\n        function monkeyPatchFetch() {\n          // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n          // fetch() results in duplicate breadcrumbs for the same request because the\n          // implementation uses XMLHttpRequest which is also patched)\n          if (!('fetch' in win) || win.fetch.polyfill) return;\n          var oldFetch = win.fetch;\n\n          win.fetch = function fetch() {\n            var _arguments = arguments;\n            var urlOrRequest = arguments[0];\n            var options = arguments[1];\n            var method;\n            var url = null;\n\n            if (urlOrRequest && typeof urlOrRequest === 'object') {\n              url = urlOrRequest.url;\n\n              if (options && 'method' in options) {\n                method = options.method;\n              } else if (urlOrRequest && 'method' in urlOrRequest) {\n                method = urlOrRequest.method;\n              }\n            } else {\n              url = urlOrRequest;\n\n              if (options && 'method' in options) {\n                method = options.method;\n              }\n            }\n\n            if (method === undefined) {\n              method = 'GET';\n            }\n\n            return new Promise(function (resolve, reject) {\n              // pass through to native fetch\n              oldFetch.apply(void 0, _arguments).then(function (response) {\n                handleFetchSuccess(response, method, url);\n                resolve(response);\n              })[\"catch\"](function (error) {\n                handleFetchError(method, url);\n                reject(error);\n              });\n            });\n          };\n\n          if (\"production\" !== 'production') {\n            restoreFunctions.push(function () {\n              win.fetch = oldFetch;\n            });\n          }\n        }\n\n        var handleFetchSuccess = function handleFetchSuccess(response, method, url) {\n          var metadata = {\n            status: response.status,\n            request: method + \" \" + url\n          };\n\n          if (response.status >= 400) {\n            // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n            client.leaveBreadcrumb('fetch() failed', metadata, BREADCRUMB_TYPE);\n          } else {\n            client.leaveBreadcrumb('fetch() succeeded', metadata, BREADCRUMB_TYPE);\n          }\n        };\n\n        var handleFetchError = function handleFetchError(method, url) {\n          client.leaveBreadcrumb('fetch() error', {\n            request: method + \" \" + url\n          }, BREADCRUMB_TYPE);\n        };\n      }\n    };\n\n    if (\"production\" !== 'production') {\n      plugin.destroy = function () {\n        restoreFunctions.forEach(function (fn) {\n          return fn();\n        });\n        restoreFunctions = [];\n      };\n    }\n\n    return plugin;\n  };\n  /* removed: var _$intRange_24 = require('@bugsnag/core/lib/validators/int-range'); */\n\n\n  ;\n  /*\n   * Throttles and dedupes events\n   */\n\n  var _$throttle_49 = {\n    load: function load(client) {\n      // track sent events for each init of the plugin\n      var n = 0; // add onError hook\n\n      client.addOnError(function (event) {\n        // have max events been sent already?\n        if (n >= client._config.maxEvents) return false;\n        n++;\n      });\n\n      client.resetEventCount = function () {\n        n = 0;\n      };\n    },\n    configSchema: {\n      maxEvents: {\n        defaultValue: function defaultValue() {\n          return 10;\n        },\n        message: 'should be a positive integer ≤100',\n        validate: function validate(val) {\n          return _$intRange_24(1, 100)(val);\n        }\n      }\n    }\n  };\n  var _$stripQueryString_50 = {};\n  /*\n   * Remove query strings (and fragments) from stacktraces\n   */\n\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n\n  ;\n  _$stripQueryString_50 = {\n    load: function load(client) {\n      client.addOnError(function (event) {\n        var allFrames = _$reduce_17(event.errors, function (accum, er) {\n          return accum.concat(er.stacktrace);\n        }, []);\n\n        _$map_16(allFrames, function (frame) {\n          frame.file = strip(frame.file);\n        });\n      });\n    }\n  };\n\n  var strip = _$stripQueryString_50._strip = function (str) {\n    return typeof str === 'string' ? str.replace(/\\?.*$/, '').replace(/#.*$/, '') : str;\n  };\n  /*\n   * Automatically notifies Bugsnag when window.onerror is called\n   */\n\n\n  var _$onerror_51 = function _$onerror_51(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    return {\n      load: function load(client) {\n        if (!client._config.autoDetectErrors) return;\n        if (!client._config.enabledErrorTypes.unhandledExceptions) return;\n\n        function onerror(messageOrEvent, url, lineNo, charNo, error) {\n          // Ignore errors with no info due to CORS settings\n          if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n            client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z');\n          } else {\n            // any error sent to window.onerror is unhandled and has severity=error\n            var handledState = {\n              severity: 'error',\n              unhandled: true,\n              severityReason: {\n                type: 'unhandledException'\n              }\n            };\n            var event; // window.onerror can be called in a number of ways. This big if-else is how we\n            // figure out which arguments were supplied, and what kind of values it received.\n\n            if (error) {\n              // if the last parameter (error) was supplied, this is a modern browser's\n              // way of saying \"this value was thrown and not caught\"\n              event = client.Event.create(error, true, handledState, 'window onerror', 1);\n              decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n            } else if ( // This complex case detects \"error\" events that are typically synthesised\n            // by jquery's trigger method (although can be created in other ways). In\n            // order to detect this:\n            // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n            // - the second argument (url) must either not exist or be something other than a string (if it\n            //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n            //    function)\n            // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n            typeof messageOrEvent === 'object' && messageOrEvent !== null && (!url || typeof url !== 'string') && !lineNo && !charNo && !error) {\n              // The jQuery event may have a \"type\" property, if so use it as part of the error message\n              var name = messageOrEvent.type ? \"Event: \" + messageOrEvent.type : 'Error'; // attempt to find a message from one of the conventional properties, but\n              // default to empty string (the event will fill it with a placeholder)\n\n              var message = messageOrEvent.message || messageOrEvent.detail || '';\n              event = client.Event.create({\n                name: name,\n                message: message\n              }, true, handledState, 'window onerror', 1); // provide the original thing onerror received – not our error-like object we passed to _notify\n\n              event.originalError = messageOrEvent; // include the raw input as metadata – it might contain more info than we extracted\n\n              event.addMetadata('window onerror', {\n                event: messageOrEvent,\n                extraParameters: url\n              });\n            } else {\n              // Lastly, if there was no \"error\" parameter this event was probably from an old\n              // browser that doesn't support that. Instead we need to generate a stacktrace.\n              event = client.Event.create(messageOrEvent, true, handledState, 'window onerror', 1);\n              decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n            }\n\n            client._notify(event);\n          }\n\n          if (typeof prevOnError === 'function') prevOnError.apply(this, arguments);\n        }\n\n        var prevOnError = win.onerror;\n        win.onerror = onerror;\n      }\n    };\n  }; // Sometimes the stacktrace has less information than was passed to window.onerror.\n  // This function will augment the first stackframe with any useful info that was\n  // received as arguments to the onerror callback.\n\n\n  var decorateStack = function decorateStack(stack, url, lineNo, charNo) {\n    if (!stack[0]) stack.push({});\n    var culprit = stack[0];\n    if (!culprit.file && typeof url === 'string') culprit.file = url;\n    if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo;\n\n    if (!culprit.columnNumber) {\n      if (isActualNumber(charNo)) {\n        culprit.columnNumber = charNo;\n      } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n        culprit.columnNumber = window.event.errorCharacter;\n      }\n    }\n  };\n\n  var isActualNumber = function isActualNumber(n) {\n    return typeof n === 'number' && String.call(n) !== 'NaN';\n  };\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n\n  ;\n  /* removed: var _$iserror_19 = require('@bugsnag/core/lib/iserror'); */\n\n  ;\n\n  var _listener;\n  /*\n   * Automatically notifies Bugsnag when window.onunhandledrejection is called\n   */\n\n\n  var _$unhandledRejection_52 = function _$unhandledRejection_52(win) {\n    if (win === void 0) {\n      win = window;\n    }\n\n    var plugin = {\n      load: function load(client) {\n        if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return;\n\n        var listener = function listener(evt) {\n          var error = evt.reason;\n          var isBluebird = false; // accessing properties on evt.detail can throw errors (see #394)\n\n          try {\n            if (evt.detail && evt.detail.reason) {\n              error = evt.detail.reason;\n              isBluebird = true;\n            }\n          } catch (e) {}\n\n          var event = client.Event.create(error, false, {\n            severity: 'error',\n            unhandled: true,\n            severityReason: {\n              type: 'unhandledPromiseRejection'\n            }\n          }, 'unhandledrejection handler', 1, client._logger);\n\n          if (isBluebird) {\n            _$map_16(event.errors[0].stacktrace, fixBluebirdStacktrace(error));\n          }\n\n          client._notify(event, function (event) {\n            if (_$iserror_19(event.originalError) && !event.originalError.stack) {\n              var _event$addMetadata;\n\n              event.addMetadata('unhandledRejection handler', (_event$addMetadata = {}, _event$addMetadata[Object.prototype.toString.call(event.originalError)] = {\n                name: event.originalError.name,\n                message: event.originalError.message,\n                code: event.originalError.code\n              }, _event$addMetadata));\n            }\n          });\n        };\n\n        if ('addEventListener' in win) {\n          win.addEventListener('unhandledrejection', listener);\n        } else {\n          win.onunhandledrejection = function (reason, promise) {\n            listener({\n              detail: {\n                reason: reason,\n                promise: promise\n              }\n            });\n          };\n        }\n\n        _listener = listener;\n      }\n    };\n\n    if (\"production\" !== 'production') {\n      plugin.destroy = function (win) {\n        if (win === void 0) {\n          win = window;\n        }\n\n        if (_listener) {\n          if ('addEventListener' in win) {\n            win.removeEventListener('unhandledrejection', _listener);\n          } else {\n            win.onunhandledrejection = null;\n          }\n        }\n\n        _listener = null;\n      };\n    }\n\n    return plugin;\n  }; // The stack parser on bluebird stacks in FF get a suprious first frame:\n  //\n  // Error: derp\n  //   b@http://localhost:5000/bluebird.html:22:24\n  //   a@http://localhost:5000/bluebird.html:18:9\n  //   @http://localhost:5000/bluebird.html:14:9\n  //\n  // results in\n  //   […]\n  //     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, … }\n  //     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, … }\n  //     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, … }\n  //     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, … }\n  //\n  // so the following reduce/accumulator function removes such frames\n  //\n  // Bluebird pads method names with spaces so trim that too…\n  // https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\n\n\n  var fixBluebirdStacktrace = function fixBluebirdStacktrace(error) {\n    return function (frame) {\n      if (frame.file === error.toString()) return;\n\n      if (frame.method) {\n        frame.method = frame.method.replace(/^\\s+/, '');\n      }\n    };\n  };\n\n  var _$notifier_2 = {};\n  var name = 'Bugsnag JavaScript';\n  var version = '7.3.0';\n  var url = 'https://github.com/bugsnag/bugsnag-js';\n  /* removed: var _$Client_4 = require('@bugsnag/core/client'); */\n\n  ;\n  /* removed: var _$Event_6 = require('@bugsnag/core/event'); */\n\n  ;\n  /* removed: var _$Session_35 = require('@bugsnag/core/session'); */\n\n  ;\n  /* removed: var _$Breadcrumb_3 = require('@bugsnag/core/breadcrumb'); */\n\n  ;\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n\n  ;\n  /* removed: var _$keys_15 = require('@bugsnag/core/lib/es-utils/keys'); */\n\n  ;\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n\n  ; // extend the base config schema with some browser-specific options\n\n  var __schema_2 = _$assign_11({}, _$config_5.schema, _$config_1);\n  /* removed: var _$onerror_51 = require('@bugsnag/plugin-window-onerror'); */\n\n\n  ;\n  /* removed: var _$unhandledRejection_52 = require('@bugsnag/plugin-window-unhandled-rejection'); */\n\n  ;\n  /* removed: var _$app_38 = require('@bugsnag/plugin-app-duration'); */\n\n  ;\n  /* removed: var _$device_40 = require('@bugsnag/plugin-browser-device'); */\n\n  ;\n  /* removed: var _$context_39 = require('@bugsnag/plugin-browser-context'); */\n\n  ;\n  /* removed: var _$request_41 = require('@bugsnag/plugin-browser-request'); */\n\n  ;\n  /* removed: var _$throttle_49 = require('@bugsnag/plugin-simple-throttle'); */\n\n  ;\n  /* removed: var _$consoleBreadcrumbs_44 = require('@bugsnag/plugin-console-breadcrumbs'); */\n\n  ;\n  /* removed: var _$networkBreadcrumbs_48 = require('@bugsnag/plugin-network-breadcrumbs'); */\n\n  ;\n  /* removed: var _$navigationBreadcrumbs_47 = require('@bugsnag/plugin-navigation-breadcrumbs'); */\n\n  ;\n  /* removed: var _$interactionBreadcrumbs_46 = require('@bugsnag/plugin-interaction-breadcrumbs'); */\n\n  ;\n  /* removed: var _$inlineScriptContent_45 = require('@bugsnag/plugin-inline-script-content'); */\n\n  ;\n  /* removed: var _$session_42 = require('@bugsnag/plugin-browser-session'); */\n\n  ;\n  /* removed: var _$clientIp_43 = require('@bugsnag/plugin-client-ip'); */\n\n  ;\n  /* removed: var _$stripQueryString_50 = require('@bugsnag/plugin-strip-query-string'); */\n\n  ; // delivery mechanisms\n\n  /* removed: var _$delivery_36 = require('@bugsnag/delivery-x-domain-request'); */\n\n  ;\n  /* removed: var _$delivery_37 = require('@bugsnag/delivery-xml-http-request'); */\n\n  ;\n  var Bugsnag = {\n    _client: null,\n    createClient: function createClient(opts) {\n      // handle very simple use case where user supplies just the api key as a string\n      if (typeof opts === 'string') opts = {\n        apiKey: opts\n      };\n      if (!opts) opts = {};\n      var internalPlugins = [// add browser-specific plugins\n      _$app_38, _$device_40(), _$context_39(), _$request_41(), _$throttle_49, _$session_42, _$clientIp_43, _$stripQueryString_50, _$onerror_51(), _$unhandledRejection_52(), _$navigationBreadcrumbs_47(), _$interactionBreadcrumbs_46(), _$networkBreadcrumbs_48(), _$consoleBreadcrumbs_44, // this one added last to avoid wrapping functionality before bugsnag uses it\n      _$inlineScriptContent_45()]; // configure a client with user supplied options\n\n      var bugsnag = new _$Client_4(opts, __schema_2, internalPlugins, {\n        name: name,\n        version: version,\n        url: url\n      }); // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n\n      bugsnag._setDelivery(window.XDomainRequest ? _$delivery_36 : _$delivery_37);\n\n      bugsnag._logger.debug('Loaded!');\n\n      return bugsnag._config.autoTrackSessions ? bugsnag.startSession() : bugsnag;\n    },\n    start: function start(opts) {\n      if (Bugsnag._client) {\n        Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.');\n\n        return Bugsnag._client;\n      }\n\n      Bugsnag._client = Bugsnag.createClient(opts);\n      return Bugsnag._client;\n    }\n  };\n\n  _$map_16(['resetEventCount'].concat(_$keys_15(_$Client_4.prototype)), function (m) {\n    if (/^_/.test(m)) return;\n\n    Bugsnag[m] = function () {\n      if (!Bugsnag._client) return console.log(\"Bugsnag.\" + m + \"() was called before Bugsnag.start()\");\n      Bugsnag._client._depth += 1;\n\n      var ret = Bugsnag._client[m].apply(Bugsnag._client, arguments);\n\n      Bugsnag._client._depth -= 1;\n      return ret;\n    };\n  });\n\n  _$notifier_2 = Bugsnag;\n  _$notifier_2.Client = _$Client_4;\n  _$notifier_2.Event = _$Event_6;\n  _$notifier_2.Session = _$Session_35;\n  _$notifier_2.Breadcrumb = _$Breadcrumb_3; // Export a \"default\" property for compatibility with ESM imports\n\n  _$notifier_2[\"default\"] = Bugsnag;\n  return _$notifier_2;\n});","map":{"version":3,"sources":["../../node_modules/browser-pack-flat/_prelude","../core/lib/breadcrumb-types.js","../core/lib/es-utils/reduce.js","../core/lib/es-utils/filter.js","../core/lib/es-utils/includes.js","../core/lib/es-utils/is-array.js","../core/lib/es-utils/keys.js","../core/lib/validators/int-range.js","../core/lib/validators/list-of-functions.js","../core/lib/validators/string-with-length.js","../core/config.js","../core/lib/es-utils/assign.js","../core/lib/es-utils/map.js","src/config.js","../core/breadcrumb.js","../core/node_modules/stackframe/stackframe.js","../core/node_modules/error-stack-parser/error-stack-parser.js","../core/lib/error-stack-parser.js","../core/lib/has-stack.js","../core/node_modules/iserror/index.js","../core/lib/iserror.js","../core/lib/js-runtime.js","../core/lib/metadata-delegate.js","../core/node_modules/stack-generator/stack-generator.js","../core/event.js","../core/lib/async-every.js","../core/lib/callback-runner.js","../core/lib/sync-callback-runner.js","../core/node_modules/@bugsnag/cuid/lib/pad.js","../core/node_modules/@bugsnag/cuid/lib/fingerprint.browser.js","../core/node_modules/@bugsnag/cuid/index.js","../core/session.js","../core/client.js","../core/node_modules/@bugsnag/safe-json-stringify/index.js","../core/lib/json-payload.js","../delivery-x-domain-request/delivery.js","../delivery-xml-http-request/delivery.js","../plugin-app-duration/app.js","../plugin-browser-context/context.js","../plugin-browser-device/device.js","../plugin-browser-request/request.js","../plugin-browser-session/session.js","../plugin-client-ip/client-ip.js","../plugin-console-breadcrumbs/console-breadcrumbs.js","../plugin-inline-script-content/inline-script-content.js","../plugin-interaction-breadcrumbs/interaction-breadcrumbs.js","../plugin-navigation-breadcrumbs/navigation-breadcrumbs.js","../plugin-network-breadcrumbs/network-breadcrumbs.js","../plugin-simple-throttle/throttle.js","../plugin-strip-query-string/strip-query-string.js","../plugin-window-onerror/onerror.js","../plugin-window-unhandled-rejection/unhandled-rejection.js","src/notifier.js","../../node_modules/browser-pack-flat/_postlude"],"names":[],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Bugsnag = f()}})(function(){var define,module,exports;\n","module.exports = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual']\n","// Array#reduce\nmodule.exports = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n","const reduce = require('./reduce')\n\n// Array#filter\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n","const reduce = require('./reduce')\n// Array#includes\nmodule.exports = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n","// Array#isArray\nmodule.exports = obj => Object.prototype.toString.call(obj) === '[object Array]'\n","/* eslint-disable-next-line no-prototype-builtins */\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nmodule.exports = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n","module.exports = (min = 1, max = Infinity) => value =>\n  typeof value === 'number' &&\n  parseInt('' + value, 10) === value &&\n  value >= min && value <= max\n","const filter = require('../es-utils/filter')\nconst isArray = require('../es-utils/is-array')\n\nmodule.exports = value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n","module.exports = value => typeof value === 'string' && !!value.length\n","const filter = require('./lib/es-utils/filter')\nconst reduce = require('./lib/es-utils/reduce')\nconst keys = require('./lib/es-utils/keys')\nconst isArray = require('./lib/es-utils/is-array')\nconst includes = require('./lib/es-utils/includes')\nconst intRange = require('./lib/validators/int-range')\nconst stringWithLength = require('./lib/validators/string-with-length')\nconst listOfFunctions = require('./lib/validators/list-of-functions')\n\nconst BREADCRUMB_TYPES = require('./lib/breadcrumb-types')\nconst defaultErrorTypes = () => ({ unhandledExceptions: true, unhandledRejections: true })\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: 'is required',\n    validate: stringWithLength\n  },\n  appVersion: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  appType: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  autoDetectErrors: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: value => value === true || value === false\n  },\n  enabledErrorTypes: {\n    defaultValue: () => defaultErrorTypes(),\n    message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n    allowPartialObject: true,\n    validate: value => {\n      // ensure we have an object\n      if (typeof value !== 'object' || !value) return false\n      const providedKeys = keys(value)\n      const defaultKeys = keys(defaultErrorTypes())\n      // ensure it only has a subset of the allowed keys\n      if (filter(providedKeys, k => includes(defaultKeys, k)).length < providedKeys.length) return false\n      // ensure all of the values are boolean\n      if (filter(keys(value), k => typeof value[k] !== 'boolean').length > 0) return false\n      return true\n    }\n  },\n  onError: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onSession: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onBreadcrumb: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  endpoints: {\n    defaultValue: () => ({\n      notify: 'https://notify.bugsnag.com',\n      sessions: 'https://sessions.bugsnag.com'\n    }),\n    message: 'should be an object containing endpoint URLs { notify, sessions }',\n    validate: val =>\n      // first, ensure it's an object\n      (val && typeof val === 'object') &&\n      (\n        // notify and sessions must always be set\n        stringWithLength(val.notify) && stringWithLength(val.sessions)\n      ) &&\n      // ensure no keys other than notify/session are set on endpoints object\n      filter(keys(val), k => !includes(['notify', 'sessions'], k)).length === 0\n  },\n  autoTrackSessions: {\n    defaultValue: val => true,\n    message: 'should be true|false',\n    validate: val => val === true || val === false\n  },\n  enabledReleaseStages: {\n    defaultValue: () => null,\n    message: 'should be an array of strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: 'should be a string',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 25,\n    message: 'should be a number ≤100',\n    validate: value => intRange(0, 100)(value)\n  },\n  enabledBreadcrumbTypes: {\n    defaultValue: () => BREADCRUMB_TYPES,\n    message: `should be null or a list of available breadcrumb types (${BREADCRUMB_TYPES.join(',')})`,\n    validate: value => value === null || (isArray(value) && reduce(value, (accum, maybeType) => {\n      if (accum === false) return accum\n      return includes(BREADCRUMB_TYPES, maybeType)\n    }, true))\n  },\n  context: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || typeof value === 'string'\n  },\n  user: {\n    defaultValue: () => ({}),\n    message: 'should be an object with { id, email, name } properties',\n    validate: value =>\n      (value === null) ||\n      (value && reduce(\n        keys(value),\n        (accum, key) => accum && includes(['id', 'email', 'name'], key),\n        true\n      ))\n  },\n  metadata: {\n    defaultValue: () => ({}),\n    message: 'should be an object',\n    validate: (value) => typeof value === 'object' && value !== null\n  },\n  logger: {\n    defaultValue: () => undefined,\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: value =>\n      (!value) ||\n      (value && reduce(\n        ['debug', 'info', 'warn', 'error'],\n        (accum, method) => accum && typeof value[method] === 'function',\n        true\n      ))\n  },\n  redactedKeys: {\n    defaultValue: () => ['password'],\n    message: 'should be an array of strings|regexes',\n    validate: value =>\n      isArray(value) && value.length === filter(value, s =>\n        (typeof s === 'string' || (s && typeof s.test === 'function'))\n      ).length\n  },\n  plugins: {\n    defaultValue: () => ([]),\n    message: 'should be an array of plugin objects',\n    validate: value =>\n      isArray(value) && value.length === filter(value, p =>\n        (p && typeof p === 'object' && typeof p.load === 'function')\n      ).length\n  }\n}\n","// extends helper from babel\n// https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\nmodule.exports = function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i]\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  }\n  return target\n}\n","const reduce = require('./reduce')\n\n// Array#map\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n","const { schema } = require('@bugsnag/core/config')\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst assign = require('@bugsnag/core/lib/es-utils/assign')\n\nmodule.exports = {\n  releaseStage: assign({}, schema.releaseStage, {\n    defaultValue: () => {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development'\n      return 'production'\n    }\n  }),\n  logger: assign({}, schema.logger, {\n    defaultValue: () =>\n      // set logger based on browser capability\n      (typeof console !== 'undefined' && typeof console.debug === 'function')\n        ? getPrefixedConsole()\n        : undefined\n  })\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console.log\n  map(['debug', 'info', 'warn', 'error'], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n","class Breadcrumb {\n  constructor (message, metadata, type, timestamp = new Date()) {\n    this.type = type\n    this.message = message\n    this.metadata = metadata\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.message,\n      timestamp: this.timestamp,\n      metaData: this.metadata\n    }\n  }\n}\n\nmodule.exports = Breadcrumb\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","module.exports = require('error-stack-parser')\n","// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' &&\n  err.stack !== `${err.name}: ${err.message}`\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","module.exports = require('iserror')\n","module.exports = process.env.IS_BROWSER\n  ? 'browserjs'\n  : ((typeof navigator !== 'undefined' && navigator.product === 'ReactNative')\n    ? (typeof Expo !== 'undefined' ? 'expojs' : 'reactnativejs')\n    : 'nodejs')\n","const assign = require('./es-utils/assign')\n\nconst add = (state, section, keyOrObj, maybeVal) => {\n  if (!section) return\n  let updates\n\n  // addMetadata(\"section\", null) -> clears section\n  if (keyOrObj === null) return clear(state, section)\n\n  // normalise the two supported input types into object form\n  if (typeof keyOrObj === 'object') updates = keyOrObj\n  if (typeof keyOrObj === 'string') updates = { [keyOrObj]: maybeVal }\n\n  // exit if we don't have an updates object at this point\n  if (!updates) return\n\n  // ensure a section with this name exists\n  if (!state[section]) state[section] = {}\n\n  // merge the updates with the existing section\n  state[section] = assign({}, state[section], updates)\n}\n\nconst get = (state, section, key) => {\n  if (typeof section !== 'string') return undefined\n  if (!key) {\n    return state[section]\n  }\n  if (state[section]) {\n    return state[section][key]\n  }\n  return undefined\n}\n\nconst clear = (state, section, key) => {\n  if (typeof section !== 'string') return\n\n  // clear an entire section\n  if (!key) {\n    delete state[section]\n    return\n  }\n\n  // clear a single value from a section\n  if (state[section]) {\n    delete state[section][key]\n  }\n}\n\nmodule.exports = { add, get, clear }\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","const ErrorStackParser = require('./lib/error-stack-parser')\nconst StackGenerator = require('stack-generator')\nconst hasStack = require('./lib/has-stack')\nconst map = require('./lib/es-utils/map')\nconst reduce = require('./lib/es-utils/reduce')\nconst filter = require('./lib/es-utils/filter')\nconst assign = require('./lib/es-utils/assign')\nconst jsRuntime = require('./lib/js-runtime')\nconst metadataDelegate = require('./lib/metadata-delegate')\nconst isError = require('./lib/iserror')\n\nclass Event {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState(), originalError) {\n    this.apiKey = undefined\n    this.context = undefined\n    this.groupingHash = undefined\n    this.originalError = originalError\n\n    this._handledState = handledState\n    this.severity = this._handledState.severity\n    this.unhandled = this._handledState.unhandled\n\n    this.app = {}\n    this.device = {}\n    this.request = {}\n\n    this.breadcrumbs = []\n    this.threads = []\n\n    this._metadata = {}\n    this._user = {}\n    this._session = undefined\n\n    this.errors = [\n      {\n        errorClass: ensureString(errorClass),\n        errorMessage: ensureString(errorMessage),\n        type: jsRuntime,\n        stacktrace: reduce(stacktrace, (accum, frame) => {\n          const f = formatStackframe(frame)\n          // don't include a stackframe if none of its properties are defined\n          try {\n            if (JSON.stringify(f) === '{}') return accum\n            return accum.concat(f)\n          } catch (e) {\n            return accum\n          }\n        }, [])\n      }\n    ]\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: map(this.errors, er => assign({}, er, { message: er.errorMessage })),\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      request: this.request,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      groupingHash: this.groupingHash,\n      metaData: this._metadata,\n      user: this._user,\n      session: this._session\n    }\n  }\n}\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst ensureString = (str) => typeof str === 'string' ? str : ''\n\n// Helpers\n\nEvent.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n  try {\n    return filter(StackGenerator.backtrace(), frame =>\n      (frame.functionName || '').indexOf('StackGenerator$$') === -1\n    ).slice(1 + backtraceFramesToSkip)\n  } catch (e) {\n    return []\n  }\n}\n\nEvent.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip = 0, logger) {\n  const [error, internalFrames] = normaliseError(maybeError, tolerateNonErrors, component, logger)\n  let event\n  try {\n    const stacktrace = Event.getStacktrace(\n      error,\n      // if an error was created/throw in the normaliseError() function, we need to\n      // tell the getStacktrace() function to skip the number of frames we know will\n      // be from our own functions. This is added to the number of frames deep we\n      // were told about\n      internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0,\n      // if there's no stacktrace, the callstack may be walked to generated one.\n      // this is how many frames should be removed because they come from our library\n      1 + errorFramesToSkip\n    )\n    event = new Event(error.name, error.message, stacktrace, handledState, maybeError)\n  } catch (e) {\n    event = new Event(error.name, error.message, [], handledState, maybeError)\n  }\n  if (error.name === 'InvalidError') {\n    event.addMetadata(`${component}`, 'non-error parameter', makeSerialisable(maybeError))\n  }\n  return event\n}\n\nconst makeSerialisable = (err) => {\n  if (err === null) return 'null'\n  if (err === undefined) return 'undefined'\n  return err\n}\n\nconst normaliseError = (maybeError, tolerateNonErrors, component, logger) => {\n  let error\n  let internalFrames = 0\n\n  const createAndLogInputError = (reason) => {\n    if (logger) logger.warn(`${component} received a non-error: \"${reason}\"`)\n    const err = new Error(`${component} received a non-error. See \"${component}\" tab for more detail.`)\n    err.name = 'InvalidError'\n    return err\n  }\n\n  // In some cases:\n  //\n  //  - the promise rejection handler (both in the browser and node)\n  //  - the node uncaughtException handler\n  //\n  // We are really limited in what we can do to get a stacktrace. So we use the\n  // tolerateNonErrors option to ensure that the resulting error communicates as\n  // such.\n  if (!tolerateNonErrors) {\n    if (isError(maybeError)) {\n      error = maybeError\n    } else {\n      error = createAndLogInputError(typeof maybeError)\n      internalFrames += 2\n    }\n  } else {\n    switch (typeof maybeError) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        error = new Error(String(maybeError))\n        internalFrames += 1\n        break\n      case 'function':\n        error = createAndLogInputError('function')\n        internalFrames += 2\n        break\n      case 'object':\n        if (maybeError !== null && isError(maybeError)) {\n          error = maybeError\n        } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n          error = new Error(maybeError.message || maybeError.errorMessage)\n          error.name = maybeError.name || maybeError.errorClass\n          internalFrames += 1\n        } else {\n          error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object')\n          internalFrames += 2\n        }\n        break\n      default:\n        error = createAndLogInputError('nothing')\n        internalFrames += 2\n    }\n  }\n\n  if (!hasStack(error)) {\n    // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n    try {\n      throw error\n    } catch (e) {\n      if (hasStack(e)) {\n        error = e\n        // if the error only got a stacktrace after we threw it here, we know it\n        // will only have one extra internal frame from this function, regardless\n        // of whether it went through createAndLogInputError() or not\n        internalFrames = 1\n      }\n    }\n  }\n\n  return [error, internalFrames]\n}\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nmodule.exports = Event\n","// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n// with the logic flipped so that it is akin to the\n// synchronous \"every\" method instead of \"some\".\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, false)\n//   - or the end of the array is reached\n// the callback (cb) will be passed (null, false) if any of the items in arr\n// caused fn to call back with false, otherwise it will be passed (null, true)\nmodule.exports = (arr, fn, cb) => {\n  let index = 0\n\n  const next = () => {\n    if (index >= arr.length) return cb(null, true)\n    fn(arr[index], (err, result) => {\n      if (err) return cb(err)\n      if (result === false) return cb(null, false)\n      index++\n      next()\n    })\n  }\n\n  next()\n}\n","const some = require('./async-every')\n\nmodule.exports = (callbacks, event, onCallbackError, cb) => {\n  // This function is how we support different kinds of callback:\n  //  - synchronous - return value\n  //  - node-style async with callback - cb(err, value)\n  //  - promise/thenable - resolve(value)\n  // It normalises each of these into the lowest common denominator – a node-style callback\n  const runMaybeAsyncCallback = (fn, cb) => {\n    if (typeof fn !== 'function') return cb(null)\n    try {\n      // if function appears sync…\n      if (fn.length !== 2) {\n        const ret = fn(event)\n        // check if it returned a \"thenable\" (promise)\n        if (ret && typeof ret.then === 'function') {\n          return ret.then(\n            // resolve\n            val => setTimeout(() => cb(null, val)),\n            // reject\n            err => {\n              setTimeout(() => {\n                onCallbackError(err)\n                return cb(null, true)\n              })\n            }\n          )\n        }\n        return cb(null, ret)\n      }\n      // if function is async…\n      fn(event, (err, result) => {\n        if (err) {\n          onCallbackError(err)\n          return cb(null)\n        }\n        cb(null, result)\n      })\n    } catch (e) {\n      onCallbackError(e)\n      cb(null)\n    }\n  }\n\n  some(callbacks, runMaybeAsyncCallback, cb)\n}\n","module.exports = (callbacks, callbackArg, callbackType, logger) => {\n  let ignore = false\n  const cbs = callbacks.slice()\n  while (!ignore) {\n    if (!cbs.length) break\n    try {\n      ignore = cbs.pop()(callbackArg) === false\n    } catch (e) {\n      logger.error(`Error occurred in ${callbackType} callback, continuing anyway…`)\n      logger.error(e)\n    }\n  }\n  return ignore\n}\n","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","const cuid = require('@bugsnag/cuid')\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = new Date()\n    this._handled = 0\n    this._unhandled = 0\n    this._user = {}\n    this.app = {}\n    this.device = {}\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n\n  _track (event) {\n    this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\nmodule.exports = Session\n","const config = require('./config')\nconst Event = require('./event')\nconst Breadcrumb = require('./breadcrumb')\nconst Session = require('./session')\nconst map = require('./lib/es-utils/map')\nconst includes = require('./lib/es-utils/includes')\nconst filter = require('./lib/es-utils/filter')\nconst reduce = require('./lib/es-utils/reduce')\nconst keys = require('./lib/es-utils/keys')\nconst assign = require('./lib/es-utils/assign')\nconst runCallbacks = require('./lib/callback-runner')\nconst metadataDelegate = require('./lib/metadata-delegate')\nconst runSyncCallbacks = require('./lib/sync-callback-runner')\nconst BREADCRUMB_TYPES = require('./lib/breadcrumb-types')\n\nconst noop = () => {}\n\nclass Client {\n  constructor (configuration, schema = config.schema, internalPlugins = [], notifier) {\n    // notifier id\n    this._notifier = notifier\n\n    // intialise opts and config\n    this._config = {}\n    this._schema = schema\n\n    // i/o\n    this._delivery = { sendSession: noop, sendEvent: noop }\n    this._logger = { debug: noop, info: noop, warn: noop, error: noop }\n\n    // plugins\n    this._plugins = {}\n\n    // state\n    this._breadcrumbs = []\n    this._session = null\n    this._metadata = {}\n    this._context = undefined\n    this._user = {}\n\n    // callbacks:\n    //  e: onError\n    //  s: onSession\n    //  sp: onSessionPayload\n    //  b: onBreadcrumb\n    // (note these names are minified by hand because object\n    // properties are not safe to minify automatically)\n    this._cbs = {\n      e: [],\n      s: [],\n      sp: [],\n      b: []\n    }\n\n    // expose internal constructors\n    this.Client = Client\n    this.Event = Event\n    this.Breadcrumb = Breadcrumb\n    this.Session = Session\n\n    this._config = this._configure(configuration, internalPlugins)\n    map(internalPlugins.concat(this._config.plugins), pl => {\n      if (pl) this._loadPlugin(pl)\n    })\n\n    // when notify() is called we need to know how many frames are from our own source\n    // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n    // bound to have the client as its `this` value – see below.\n    this._depth = 1\n\n    const self = this\n    const notify = this.notify\n    this.notify = function () {\n      return notify.apply(self, arguments)\n    }\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  getContext () {\n    return this._context\n  }\n\n  setContext (c) {\n    this._context = c\n  }\n\n  _configure (opts, internalPlugins) {\n    const schema = reduce(internalPlugins, (schema, plugin) => {\n      if (plugin && plugin.configSchema) return assign({}, schema, plugin.configSchema)\n      return schema\n    }, this._schema)\n\n    // accumulate configuration and error messages\n    const { errors, config } = reduce(keys(schema), (accum, key) => {\n      const defaultValue = schema[key].defaultValue(opts[key])\n\n      if (opts[key] !== undefined) {\n        const valid = schema[key].validate(opts[key])\n        if (!valid) {\n          accum.errors[key] = schema[key].message\n          accum.config[key] = defaultValue\n        } else {\n          if (schema[key].allowPartialObject) {\n            accum.config[key] = assign(defaultValue, opts[key])\n          } else {\n            accum.config[key] = opts[key]\n          }\n        }\n      } else {\n        accum.config[key] = defaultValue\n      }\n\n      return accum\n    }, { errors: {}, config: {} })\n\n    if (schema.apiKey) {\n      // missing api key is the only fatal error\n      if (!config.apiKey) throw new Error('No Bugsnag API Key set')\n      // warn about an apikey that is not of the expected format\n      if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters'\n    }\n\n    // update and elevate some options\n    this._metadata = assign({}, config.metadata)\n    this._user = assign({}, config.user)\n    this._context = config.context\n    if (config.logger) this._logger = config.logger\n\n    // add callbacks\n    if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError)\n    if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb)\n    if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession)\n\n    // finally warn about any invalid config where we fell back to the default\n    if (keys(errors).length) {\n      this._logger.warn(generateConfigErrorMessage(errors, opts))\n    }\n\n    return config\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  _loadPlugin (plugin) {\n    const result = plugin.load(this)\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[`~${plugin.name}~`] = result\n    return this\n  }\n\n  getPlugin (name) {\n    return this._plugins[`~${name}~`]\n  }\n\n  _setDelivery (d) {\n    this._delivery = d(this)\n  }\n\n  startSession () {\n    const session = new Session()\n\n    session.app.releaseStage = this._config.releaseStage\n    session.app.version = this._config.appVersion\n    session.app.type = this._config.appType\n\n    session._user = assign({}, this._user)\n\n    // run onSession callbacks\n    const ignore = runSyncCallbacks(this._cbs.s, session, 'onSession', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Session not started due to onSession callback')\n      return this\n    }\n    return this._sessionDelegate.startSession(this, session)\n  }\n\n  addOnError (fn, front = false) {\n    this._cbs.e[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnError (fn) {\n    this._cbs.e = filter(this._cbs.e, f => f !== fn)\n  }\n\n  _addOnSessionPayload (fn) {\n    this._cbs.sp.push(fn)\n  }\n\n  addOnSession (fn) {\n    this._cbs.s.push(fn)\n  }\n\n  removeOnSession (fn) {\n    this._cbs.s = filter(this._cbs.s, f => f !== fn)\n  }\n\n  addOnBreadcrumb (fn, front = false) {\n    this._cbs.b[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnBreadcrumb (fn) {\n    this._cbs.b = filter(this._cbs.b, f => f !== fn)\n  }\n\n  pauseSession () {\n    return this._sessionDelegate.pauseSession(this)\n  }\n\n  resumeSession () {\n    return this._sessionDelegate.resumeSession(this)\n  }\n\n  leaveBreadcrumb (message, metadata, type) {\n    // coerce bad values so that the defaults get set\n    message = typeof message === 'string' ? message : ''\n    type = (typeof type === 'string' && includes(BREADCRUMB_TYPES, type)) ? type : 'manual'\n    metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}\n\n    // if no message, discard\n    if (!message) return\n\n    const crumb = new Breadcrumb(message, metadata, type)\n\n    // run onBreadcrumb callbacks\n    const ignore = runSyncCallbacks(this._cbs.b, crumb, 'onBreadcrumb', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback')\n      return\n    }\n\n    // push the valid crumb onto the queue and maintain the length\n    this._breadcrumbs.push(crumb)\n    if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs)\n    }\n  }\n\n  notify (maybeError, onError, cb = noop) {\n    const event = Event.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger)\n    this._notify(event, onError, cb)\n  }\n\n  _notify (event, onError, cb = noop) {\n    event.app = assign({}, event.app, {\n      releaseStage: this._config.releaseStage,\n      version: this._config.appVersion,\n      type: this._config.appType\n    })\n    event.context = event.context || this._context\n    event._metadata = assign({}, event._metadata, this._metadata)\n    event._user = assign({}, event._user, this._user)\n    event.breadcrumbs = this._breadcrumbs.slice()\n\n    if (this._session) {\n      this._session._track(event)\n      event._session = this._session\n    }\n\n    // exit early if events should not be sent on the current releaseStage\n    if (this._config.enabledReleaseStages !== null && !includes(this._config.enabledReleaseStages, this._config.releaseStage)) {\n      this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration')\n      return cb(null, event)\n    }\n\n    const originalSeverity = event.severity\n\n    const onCallbackError = err => {\n      // errors in callbacks are tolerated but we want to log them out\n      this._logger.error('Error occurred in onError callback, continuing anyway…')\n      this._logger.error(err)\n    }\n\n    const callbacks = [].concat(this._cbs.e).concat(onError)\n    runCallbacks(callbacks, event, onCallbackError, (err, shouldSend) => {\n      if (err) onCallbackError(err)\n\n      if (!shouldSend) {\n        this._logger.debug('Event not sent due to onError callback')\n        return cb(null, event)\n      }\n\n      if (includes(this._config.enabledBreadcrumbTypes, 'error')) {\n        // only leave a crumb for the error if actually got sent\n        Client.prototype.leaveBreadcrumb.call(this, event.errors[0].errorClass, {\n          errorClass: event.errors[0].errorClass,\n          errorMessage: event.errors[0].errorMessage,\n          severity: event.severity\n        }, 'error')\n      }\n\n      if (originalSeverity !== event.severity) {\n        event._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n      }\n\n      this._delivery.sendEvent({\n        apiKey: event.apiKey || this._config.apiKey,\n        notifier: this._notifier,\n        events: [event]\n      }, (err) => cb(err, event))\n    })\n  }\n}\n\nconst generateConfigErrorMessage = (errors, rawInput) => {\n  const er = new Error(\n  `Invalid configuration\\n${map(keys(errors), key => `  - ${key} ${errors[key]}, got ${stringify(rawInput[key])}`).join('\\n\\n')}`)\n  return er\n}\n\nconst stringify = val => {\n  switch (typeof val) {\n    case 'string':\n    case 'number':\n    case 'object':\n      return JSON.stringify(val)\n    default: return String(val)\n  }\n}\n\nmodule.exports = Client\n","module.exports = function (data, replacer, space, opts) {\n  var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : []\n  var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : []\n  return JSON.stringify(\n    prepareObjForSerialization(data, redactedKeys, redactedPaths),\n    replacer,\n    space\n  )\n}\n\nvar MAX_DEPTH = 20\nvar MAX_EDGES = 25000\nvar MIN_PRESERVED_DEPTH = 8\n\nvar REPLACEMENT_NODE = '...'\n\nfunction isError (o) {\n  return o instanceof Error ||\n    /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o))\n}\n\nfunction throwsMessage (err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']'\n}\n\nfunction find (haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true\n  }\n  return false\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent (paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true\n  }\n  return false\n}\n\nfunction shouldRedact (patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true\n  }\n  return false\n}\n\nfunction isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction safelyGetProp (obj, prop) {\n  try {\n    return obj[prop]\n  } catch (err) {\n    return throwsMessage(err)\n  }\n}\n\nfunction prepareObjForSerialization (obj, redactedKeys, redactedPaths) {\n  var seen = [] // store references to objects we have seen before\n  var edges = 0\n\n  function visit (obj, path) {\n    function edgesExceeded () {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES\n    }\n\n    edges++\n\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE\n    if (edgesExceeded()) return REPLACEMENT_NODE\n    if (obj === null || typeof obj !== 'object') return obj\n    if (find(seen, obj)) return '[Circular]'\n\n    seen.push(obj)\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--\n        var fResult = visit(obj.toJSON(), path)\n        seen.pop()\n        return fResult\n      } catch (err) {\n        return throwsMessage(err)\n      }\n    }\n\n    var er = isError(obj)\n    if (er) {\n      edges--\n      var eResult = visit({ name: obj.name, message: obj.message }, path)\n      seen.pop()\n      return eResult\n    }\n\n    if (isArray(obj)) {\n      var aResult = []\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE)\n          break\n        }\n        aResult.push(visit(obj[i], path.concat('[]')))\n      }\n      seen.pop()\n      return aResult\n    }\n\n    var result = {}\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue\n        if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n          result[prop] = '[REDACTED]'\n          continue\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE\n          break\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop))\n      }\n    } catch (e) {}\n    seen.pop()\n    return result\n  }\n\n  return visit(obj, [])\n}\n","const jsonStringify = require('@bugsnag/safe-json-stringify')\nconst EVENT_REDACTION_PATHS = [\n  'events.[].metaData',\n  'events.[].breadcrumbs.[].metaData',\n  'events.[].request'\n]\n\nmodule.exports.event = (event, redactedKeys) => {\n  let payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n  if (payload.length > 10e5) {\n    event.events[0]._metadata = {\n      notifier:\n`WARNING!\nSerialized payload was ${payload.length / 10e5}MB (limit = 1MB)\nmetadata was removed`\n    }\n    payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  }\n  return payload\n}\n\nmodule.exports.session = (event, redactedKeys) => {\n  const payload = jsonStringify(event, null, null)\n  if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  return payload\n}\n","const payload = require('@bugsnag/core/lib/json-payload')\n\nmodule.exports = (client, win = window) => ({\n  sendEvent: (event, cb = () => {}) => {\n    const url = getApiUrl(client._config, 'notify', '4', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.event(event, client._config.redactedKeys))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  },\n  sendSession: (session, cb = () => {}) => {\n    const url = getApiUrl(client._config, 'sessions', '1', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.session(session, client._config.redactedKeys))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  }\n})\n\nconst getApiUrl = (config, endpoint, version, win) => {\n  // IE8 doesn't support Date.prototype.toISOstring(), but it does convert a date\n  // to an ISO string when you use JSON stringify. Simply parsing the result of\n  // JSON.stringify is smaller than using a toISOstring() polyfill.\n  const isoDate = JSON.parse(JSON.stringify(new Date()))\n  const url = matchPageProtocol(config.endpoints[endpoint], win.location.protocol)\n  return `${url}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=${version}&sentAt=${encodeURIComponent(isoDate)}`\n}\n\nconst matchPageProtocol = module.exports._matchPageProtocol = (endpoint, pageProtocol) =>\n  pageProtocol === 'http:'\n    ? endpoint.replace(/^https:/, 'http:')\n    : endpoint\n","const payload = require('@bugsnag/core/lib/json-payload')\n\nmodule.exports = (client, win = window) => ({\n  sendEvent: (event, cb = () => {}) => {\n    try {\n      const url = client._config.endpoints.notify\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', event.apiKey || client._config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '4')\n      req.setRequestHeader('Bugsnag-Sent-At', (new Date()).toISOString())\n      req.send(payload.event(event, client._config.redactedKeys))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  },\n  sendSession: (session, cb = () => {}) => {\n    try {\n      const url = client._config.endpoints.sessions\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', client._config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '1')\n      req.setRequestHeader('Bugsnag-Sent-At', (new Date()).toISOString())\n      req.send(payload.session(session, client._config.redactedKeys))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  }\n})\n","const appStart = new Date()\n\nmodule.exports = {\n  load: client => {\n    client.addOnError(event => {\n      const now = new Date()\n\n      event.app.duration = now - appStart\n    }, true)\n  }\n}\n","/*\n * Sets the default context to be the current URL\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    client.addOnError(event => {\n      if (event.context !== undefined) return\n      event.context = win.location.pathname\n    }, true)\n  }\n})\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\n\n/*\n * Automatically detects browser device details\n */\nmodule.exports = (nav = navigator, screen = window.screen) => ({\n  load: (client) => {\n    const device = {\n      locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n      userAgent: nav.userAgent\n    }\n\n    if (screen && screen.orientation && screen.orientation.type) {\n      device.orientation = screen.orientation.type\n    } else {\n      device.orientation =\n        document.documentElement.clientWidth > document.documentElement.clientHeight\n          ? 'landscape'\n          : 'portrait'\n    }\n\n    client.addOnSession(session => {\n      session.device = assign({}, session.device, device)\n    })\n\n    // add time just as the event is sent\n    client.addOnError((event) => {\n      event.device = assign({},\n        event.device,\n        device,\n        { time: new Date() }\n      )\n    }, true)\n  }\n})\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\n\n/*\n * Sets the event request: { url } to be the current href\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    client.addOnError(event => {\n      if (event.request && event.request.url) return\n      event.request = assign({}, event.request, { url: win.location.href })\n    }, true)\n  }\n})\n","const includes = require('@bugsnag/core/lib/es-utils/includes')\n\nmodule.exports = {\n  load: client => { client._sessionDelegate = sessionDelegate }\n}\n\nconst sessionDelegate = {\n  startSession: (client, session) => {\n    const sessionClient = client\n    sessionClient._session = session\n    sessionClient._pausedSession = null\n\n    // exit early if the current releaseStage is not enabled\n    if (sessionClient._config.enabledReleaseStages !== null && !includes(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n      sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration')\n      return sessionClient\n    }\n\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient._notifier,\n      device: session.device,\n      app: session.app,\n      sessions: [\n        {\n          id: session.id,\n          startedAt: session.startedAt,\n          user: session._user\n        }\n      ]\n    })\n    return sessionClient\n  },\n  resumeSession: (client) => {\n    if (client._pausedSession) {\n      client._session = client._pausedSession\n      client._pausedSession = null\n      return client\n    } else {\n      return client.startSession()\n    }\n  },\n  pauseSession: (client) => {\n    client._pausedSession = client._session\n    client._session = null\n  }\n}\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\n\n/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  load: (client) => {\n    if (client._config.collectUserIp) return\n\n    client.addOnError(event => {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (event._user && typeof event._user.id === 'undefined') delete event._user.id\n      event._user = assign({ id: '[REDACTED]' }, event._user)\n      event.request = assign({ clientIp: '[REDACTED]' }, event.request)\n    })\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: () => true,\n      message: 'should be true|false',\n      validate: value => value === true || value === false\n    }\n  }\n}\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\nconst filter = require('@bugsnag/core/lib/es-utils/filter')\nconst includes = require('@bugsnag/core/lib/es-utils/includes')\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\nexports.load = (client) => {\n  const isDev = /^dev(elopment)?$/.test(client._config.releaseStage)\n\n  if (!client._config.enabledBreadcrumbTypes || !includes(client._config.enabledBreadcrumbTypes, 'log') || isDev) return\n\n  map(CONSOLE_LOG_METHODS, method => {\n    const original = console[method]\n    console[method] = (...args) => {\n      client.leaveBreadcrumb('Console output', reduce(args, (accum, arg, i) => {\n        // do the best/simplest stringification of each argument\n        let stringified = '[Unknown value]'\n        // this may fail if the input is:\n        // - an object whose [[Prototype]] is null (no toString)\n        // - an object with a broken toString or @@toPrimitive implementation\n        try { stringified = String(arg) } catch (e) {}\n        // if it stringifies to [object Object] attempt to JSON stringify\n        if (stringified === '[object Object]') {\n          // catch stringify errors and fallback to [object Object]\n          try { stringified = JSON.stringify(arg) } catch (e) {}\n        }\n        accum[`[${i}]`] = stringified\n        return accum\n      }, {\n        severity: method.indexOf('group') === 0 ? 'log' : method\n      }), 'log')\n      original.apply(console, args)\n    }\n    console[method]._restore = () => { console[method] = original }\n  })\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => CONSOLE_LOG_METHODS.forEach(method => {\n    if (typeof console[method]._restore === 'function') console[method]._restore()\n  })\n}\n\nconst CONSOLE_LOG_METHODS = filter(['log', 'debug', 'info', 'warn', 'error'], method =>\n  typeof console !== 'undefined' && typeof console[method] === 'function'\n)\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\nconst filter = require('@bugsnag/core/lib/es-utils/filter')\n\nconst MAX_LINE_LENGTH = 200\nconst MAX_SCRIPT_LENGTH = 500000\n\nmodule.exports = (doc = document, win = window) => ({\n  load: (client) => {\n    if (!client._config.trackInlineScripts) return\n\n    const originalLocation = win.location.href\n    let html = ''\n    let DOMContentLoaded = false\n    const getHtml = () => doc.documentElement.outerHTML\n\n    // get whatever HTML exists at this point in time\n    html = getHtml()\n    const prev = doc.onreadystatechange\n    // then update it when the DOM content has loaded\n    doc.onreadystatechange = function () {\n      // IE8 compatible alternative to document#DOMContentLoaded\n      if (doc.readyState === 'interactive') {\n        html = getHtml()\n        DOMContentLoaded = true\n      }\n      try { prev.apply(this, arguments) } catch (e) {}\n    }\n\n    let _lastScript = null\n    const updateLastScript = script => {\n      _lastScript = script\n    }\n\n    const getCurrentScript = () => {\n      let script = doc.currentScript || _lastScript\n      if (!script && !DOMContentLoaded) {\n        const scripts = doc.scripts || doc.getElementsByTagName('script')\n        script = scripts[scripts.length - 1]\n      }\n      return script\n    }\n\n    const addSurroundingCode = lineNumber => {\n      // get whatever html has rendered at this point\n      if (!DOMContentLoaded || !html) html = getHtml()\n      // simulate the raw html\n      const htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'))\n      const zeroBasedLine = lineNumber - 1\n      const start = Math.max(zeroBasedLine - 3, 0)\n      const end = Math.min(zeroBasedLine + 3, htmlLines.length)\n      return reduce(htmlLines.slice(start, end), (accum, line, i) => {\n        accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH)\n        return accum\n      }, {})\n    }\n\n    client.addOnError(event => {\n      // remove any of our own frames that may be part the stack this\n      // happens before the inline script check as it happens for all errors\n      event.errors[0].stacktrace = filter(event.errors[0].stacktrace, f => !(/__trace__$/.test(f.method)))\n\n      const frame = event.errors[0].stacktrace[0]\n\n      // if frame.file exists and is not the original location of the page, this can't be an inline script\n      if (frame && frame.file && frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return\n\n      // grab the last script known to have run\n      const currentScript = getCurrentScript()\n      if (currentScript) {\n        const content = currentScript.innerHTML\n        event.addMetadata(\n          'script',\n          'content',\n          content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH)\n        )\n      }\n\n      // only attempt to grab some surrounding code if we have a line number\n      if (!frame || !frame.lineNumber) return\n      frame.code = addSurroundingCode(frame.lineNumber)\n    }, true)\n\n    // Proxy all the timer functions whose callback is their 0th argument.\n    // Keep a reference to the original setTimeout because we need it later\n    const [_setTimeout] = map([\n      'setTimeout',\n      'setInterval',\n      'setImmediate',\n      'requestAnimationFrame'\n    ], fn =>\n      __proxy(win, fn, original =>\n        __traceOriginalScript(original, args => ({\n          get: () => args[0],\n          replace: fn => { args[0] = fn }\n        }))\n      )\n    )\n\n    // Proxy all the host objects whose prototypes have an addEventListener function\n    map([\n      'EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode',\n      'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase',\n      'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow',\n      'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList',\n      'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'\n    ], o => {\n      if (!win[o] || !win[o].prototype || !Object.prototype.hasOwnProperty.call(win[o].prototype, 'addEventListener')) return\n      __proxy(win[o].prototype, 'addEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor)\n      )\n      __proxy(win[o].prototype, 'removeEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor, true)\n      )\n    })\n\n    function __traceOriginalScript (fn, callbackAccessor, alsoCallOriginal = false) {\n      return function () {\n        // this is required for removeEventListener to remove anything added with\n        // addEventListener before the functions started being wrapped by Bugsnag\n        const args = [].slice.call(arguments)\n        try {\n          const cba = callbackAccessor(args)\n          const cb = cba.get()\n          if (alsoCallOriginal) fn.apply(this, args)\n          if (typeof cb !== 'function') return fn.apply(this, args)\n          if (cb.__trace__) {\n            cba.replace(cb.__trace__)\n          } else {\n            const script = getCurrentScript()\n            // this function mustn't be annonymous due to a bug in the stack\n            // generation logic, meaning it gets tripped up\n            // see: https://github.com/stacktracejs/stack-generator/issues/6\n            cb.__trace__ = function __trace__ () {\n              // set the script that called this function\n              updateLastScript(script)\n              // immediately unset the currentScript synchronously below, however\n              // if this cb throws an error the line after will not get run so schedule\n              // an almost-immediate aysnc update too\n              _setTimeout(function () { updateLastScript(null) }, 0)\n              const ret = cb.apply(this, arguments)\n              updateLastScript(null)\n              return ret\n            }\n            cb.__trace__.__trace__ = cb.__trace__\n            cba.replace(cb.__trace__)\n          }\n        } catch (e) {\n          // swallow these errors on Selenium:\n          // Permission denied to access property '__trace__'\n          // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n        }\n        // IE8 doesn't let you call .apply() on setTimeout/setInterval\n        if (fn.apply) return fn.apply(this, args)\n        switch (args.length) {\n          case 1: return fn(args[0])\n          case 2: return fn(args[0], args[1])\n          default: return fn()\n        }\n      }\n    }\n  },\n  configSchema: {\n    trackInlineScripts: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n})\n\nfunction __proxy (host, name, replacer) {\n  const original = host[name]\n  if (!original) return original\n  const replacement = replacer(original)\n  host[name] = replacement\n  return original\n}\n\nfunction eventTargetCallbackAccessor (args) {\n  const isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function'\n  return {\n    get: function () {\n      return isEventHandlerObj ? args[1].handleEvent : args[1]\n    },\n    replace: function (fn) {\n      if (isEventHandlerObj) {\n        args[1].handleEvent = fn\n      } else {\n        args[1] = fn\n      }\n    }\n  }\n}\n","const includes = require('@bugsnag/core/lib/es-utils/includes')\n\n/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    if (!('addEventListener' in win)) return\n\n    if (!client._config.enabledBreadcrumbTypes || !includes(client._config.enabledBreadcrumbTypes, 'user')) return\n\n    win.addEventListener('click', (event) => {\n      let targetText, targetSelector\n      try {\n        targetText = getNodeText(event.target)\n        targetSelector = getNodeSelector(event.target, win)\n      } catch (e) {\n        targetText = '[hidden]'\n        targetSelector = '[hidden]'\n        client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z')\n      }\n      client.leaveBreadcrumb('UI click', { targetText, targetSelector }, 'user')\n    }, true)\n  }\n})\n\n// extract text content from a element\nconst getNodeText = el => {\n  let text = el.textContent || el.innerText || ''\n  if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value\n  text = text.replace(/^\\s+|\\s+$/g, '') // trim whitespace\n  return truncate(text, 140)\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector (el, win) {\n  const parts = [el.tagName]\n  if (el.id) parts.push('#' + el.id)\n  if (el.className && el.className.length) parts.push(`.${el.className.split(' ').join('.')}`)\n  // Can't get much more advanced with the current browser\n  if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('')\n  try {\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('')\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    const index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1\n    parts.push(`:nth-child(${index})`)\n  }\n  if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  // try prepending the parent node selector\n  if (el.parentNode) return `${getNodeSelector(el.parentNode, win)} > ${parts.join('')}`\n  return parts.join('')\n}\n\nfunction truncate (value, length) {\n  const ommision = '(...)'\n  if (value && value.length <= length) return value\n  return value.slice(0, length - ommision.length) + ommision\n}\n","const includes = require('@bugsnag/core/lib/es-utils/includes')\n\n/*\n* Leaves breadcrumbs when navigation methods are called or events are emitted\n*/\nmodule.exports = (win = window) => {\n  const plugin = {\n    load: (client) => {\n      if (!('addEventListener' in win)) return\n\n      if (!client._config.enabledBreadcrumbTypes || !includes(client._config.enabledBreadcrumbTypes, 'navigation')) return\n\n      // returns a function that will drop a breadcrumb with a given name\n      const drop = name => () => client.leaveBreadcrumb(name, {}, 'navigation')\n\n      // simple drops – just names, no meta\n      win.addEventListener('pagehide', drop('Page hidden'), true)\n      win.addEventListener('pageshow', drop('Page shown'), true)\n      win.addEventListener('load', drop('Page loaded'), true)\n      win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true)\n      // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n      win.addEventListener('load', () => win.addEventListener('popstate', drop('Navigated back'), true))\n\n      // hashchange has some metadata that we care about\n      win.addEventListener('hashchange', event => {\n        const metadata = event.oldURL\n          ? { from: relativeLocation(event.oldURL, win), to: relativeLocation(event.newURL, win), state: getCurrentState(win) }\n          : { to: relativeLocation(win.location.href, win) }\n        client.leaveBreadcrumb('Hash changed', metadata, 'navigation')\n      }, true)\n\n      // the only way to know about replaceState/pushState is to wrap them… >_<\n\n      if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win)\n      if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win)\n\n      client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation')\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = (win = window) => {\n      win.history.replaceState._restore()\n      win.history.pushState._restore()\n    }\n  }\n\n  return plugin\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    win.history.replaceState._restore()\n    win.history.pushState._restore()\n  }\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nconst relativeLocation = (url, win) => {\n  const a = win.document.createElement('A')\n  a.href = url\n  return `${a.pathname}${a.search}${a.hash}`\n}\n\nconst stateChangeToMetadata = (win, state, title, url) => {\n  const currentPath = relativeLocation(win.location.href, win)\n  return { title, state, prevState: getCurrentState(win), to: url || currentPath, from: currentPath }\n}\n\nconst wrapHistoryFn = (client, target, fn, win) => {\n  const orig = target[fn]\n  target[fn] = (state, title, url) => {\n    client.leaveBreadcrumb(`History ${fn}`, stateChangeToMetadata(win, state, title, url), 'navigation')\n    // if throttle plugin is in use, reset the event sent count\n    if (typeof client.resetEventCount === 'function') client.resetEventCount()\n    // if the client is operating in auto session-mode, a new route should trigger a new session\n    if (client._config.autoTrackSessions) client.startSession()\n    // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n    // to '/undefined'. therefore we only pass the url if it's not undefined.\n    orig.apply(target, [state, title].concat(url !== undefined ? url : []))\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    target[fn]._restore = () => { target[fn] = orig }\n  }\n}\n\nconst getCurrentState = (win) => {\n  try {\n    return win.history.state\n  } catch (e) {}\n}\n","const BREADCRUMB_TYPE = 'request'\n\n// keys to safely store metadata on the request object\nconst REQUEST_SETUP_KEY = 'BS~~S'\nconst REQUEST_URL_KEY = 'BS~~U'\nconst REQUEST_METHOD_KEY = 'BS~~M'\n\nconst includes = require('@bugsnag/core/lib/es-utils/includes')\n\n/*\n * Leaves breadcrumbs when network requests occur\n */\nmodule.exports = (_ignoredUrls = [], win = window) => {\n  let restoreFunctions = []\n  const plugin = {\n    load: client => {\n      if (!client._config.enabledBreadcrumbTypes || !includes(client._config.enabledBreadcrumbTypes, 'request')) return\n\n      const ignoredUrls = [\n        client._config.endpoints.notify,\n        client._config.endpoints.sessions\n      ].concat(_ignoredUrls)\n\n      monkeyPatchXMLHttpRequest()\n      monkeyPatchFetch()\n\n      // XMLHttpRequest monkey patch\n      function monkeyPatchXMLHttpRequest () {\n        if (!('addEventListener' in win.XMLHttpRequest.prototype)) return\n        const nativeOpen = win.XMLHttpRequest.prototype.open\n\n        // override native open()\n        win.XMLHttpRequest.prototype.open = function open (method, url) {\n          // store url and HTTP method for later\n          this[REQUEST_URL_KEY] = url\n          this[REQUEST_METHOD_KEY] = method\n\n          // if we have already setup listeners, it means open() was called twice, we need to remove\n          // the listeners and recreate them\n          if (this[REQUEST_SETUP_KEY]) {\n            this.removeEventListener('load', handleXHRLoad)\n            this.removeEventListener('error', handleXHRError)\n          }\n\n          // attach load event listener\n          this.addEventListener('load', handleXHRLoad)\n          // attach error event listener\n          this.addEventListener('error', handleXHRError)\n\n          this[REQUEST_SETUP_KEY] = true\n\n          nativeOpen.apply(this, arguments)\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          restoreFunctions.push(() => {\n            win.XMLHttpRequest.prototype.open = nativeOpen\n          })\n        }\n      }\n\n      function handleXHRLoad () {\n        if (includes(ignoredUrls, this[REQUEST_URL_KEY])) {\n          // don't leave a network breadcrumb from bugsnag notify calls\n          return\n        }\n        const metadata = {\n          status: this.status,\n          request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n        }\n        if (this.status >= 400) {\n          // contacted server but got an error response\n          client.leaveBreadcrumb('XMLHttpRequest failed', metadata, BREADCRUMB_TYPE)\n        } else {\n          client.leaveBreadcrumb('XMLHttpRequest succeeded', metadata, BREADCRUMB_TYPE)\n        }\n      }\n\n      function handleXHRError () {\n        if (includes(ignoredUrls, this[REQUEST_URL_KEY])) {\n          // don't leave a network breadcrumb from bugsnag notify calls\n          return\n        }\n        // failed to contact server\n        client.leaveBreadcrumb('XMLHttpRequest error', {\n          request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n        }, BREADCRUMB_TYPE)\n      }\n\n      // window.fetch monkey patch\n      function monkeyPatchFetch () {\n        // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n        // fetch() results in duplicate breadcrumbs for the same request because the\n        // implementation uses XMLHttpRequest which is also patched)\n        if (!('fetch' in win) || win.fetch.polyfill) return\n\n        const oldFetch = win.fetch\n        win.fetch = function fetch () {\n          const urlOrRequest = arguments[0]\n          const options = arguments[1]\n\n          let method\n          let url = null\n\n          if (urlOrRequest && typeof urlOrRequest === 'object') {\n            url = urlOrRequest.url\n            if (options && 'method' in options) {\n              method = options.method\n            } else if (urlOrRequest && 'method' in urlOrRequest) {\n              method = urlOrRequest.method\n            }\n          } else {\n            url = urlOrRequest\n            if (options && 'method' in options) {\n              method = options.method\n            }\n          }\n\n          if (method === undefined) {\n            method = 'GET'\n          }\n\n          return new Promise((resolve, reject) => {\n            // pass through to native fetch\n            oldFetch(...arguments)\n              .then(response => {\n                handleFetchSuccess(response, method, url)\n                resolve(response)\n              })\n              .catch(error => {\n                handleFetchError(method, url)\n                reject(error)\n              })\n          })\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          restoreFunctions.push(() => {\n            win.fetch = oldFetch\n          })\n        }\n      }\n\n      const handleFetchSuccess = (response, method, url) => {\n        const metadata = {\n          status: response.status,\n          request: `${method} ${url}`\n        }\n        if (response.status >= 400) {\n          // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n          client.leaveBreadcrumb('fetch() failed', metadata, BREADCRUMB_TYPE)\n        } else {\n          client.leaveBreadcrumb('fetch() succeeded', metadata, BREADCRUMB_TYPE)\n        }\n      }\n\n      const handleFetchError = (method, url) => {\n        client.leaveBreadcrumb('fetch() error', { request: `${method} ${url}` }, BREADCRUMB_TYPE)\n      }\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = () => {\n      restoreFunctions.forEach(fn => fn())\n      restoreFunctions = []\n    }\n  }\n\n  return plugin\n}\n","const intRange = require('@bugsnag/core/lib/validators/int-range')\n\n/*\n * Throttles and dedupes events\n */\n\nmodule.exports = {\n  load: (client) => {\n    // track sent events for each init of the plugin\n    let n = 0\n\n    // add onError hook\n    client.addOnError((event) => {\n      // have max events been sent already?\n      if (n >= client._config.maxEvents) return false\n      n++\n    })\n\n    client.resetEventCount = () => { n = 0 }\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: () => 10,\n      message: 'should be a positive integer ≤100',\n      validate: val => intRange(1, 100)(val)\n    }\n  }\n}\n","/*\n * Remove query strings (and fragments) from stacktraces\n */\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\n\nmodule.exports = {\n  load: (client) => {\n    client.addOnError(event => {\n      const allFrames = reduce(event.errors, (accum, er) => accum.concat(er.stacktrace), [])\n      map(allFrames, frame => {\n        frame.file = strip(frame.file)\n      })\n    })\n  }\n}\n\nconst strip = module.exports._strip = str =>\n  typeof str === 'string'\n    ? str.replace(/\\?.*$/, '').replace(/#.*$/, '')\n    : str\n","/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    if (!client._config.autoDetectErrors) return\n    if (!client._config.enabledErrorTypes.unhandledExceptions) return\n    function onerror (messageOrEvent, url, lineNo, charNo, error) {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z')\n      } else {\n        // any error sent to window.onerror is unhandled and has severity=error\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n        let event\n\n        // window.onerror can be called in a number of ways. This big if-else is how we\n        // figure out which arguments were supplied, and what kind of values it received.\n\n        if (error) {\n          // if the last parameter (error) was supplied, this is a modern browser's\n          // way of saying \"this value was thrown and not caught\"\n          event = client.Event.create(error, true, handledState, 'window onerror', 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          (typeof messageOrEvent === 'object' && messageOrEvent !== null) &&\n          (!url || typeof url !== 'string') &&\n          !lineNo && !charNo && !error\n        ) {\n          // The jQuery event may have a \"type\" property, if so use it as part of the error message\n          const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'Error'\n          // attempt to find a message from one of the conventional properties, but\n          // default to empty string (the event will fill it with a placeholder)\n          const message = messageOrEvent.message || messageOrEvent.detail || ''\n\n          event = client.Event.create({ name, message }, true, handledState, 'window onerror', 1)\n\n          // provide the original thing onerror received – not our error-like object we passed to _notify\n          event.originalError = messageOrEvent\n\n          // include the raw input as metadata – it might contain more info than we extracted\n          event.addMetadata('window onerror', { event: messageOrEvent, extraParameters: url })\n        } else {\n          // Lastly, if there was no \"error\" parameter this event was probably from an old\n          // browser that doesn't support that. Instead we need to generate a stacktrace.\n          event = client.Event.create(messageOrEvent, true, handledState, 'window onerror', 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        }\n\n        client._notify(event)\n      }\n\n      if (typeof prevOnError === 'function') prevOnError.apply(this, arguments)\n    }\n\n    const prevOnError = win.onerror\n    win.onerror = onerror\n  }\n})\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  if (!stack[0]) stack.push({})\n  const culprit = stack[0]\n  if (!culprit.file && typeof url === 'string') culprit.file = url\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.columnNumber = charNo\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.columnNumber = window.event.errorCharacter\n    }\n  }\n}\n\nconst isActualNumber = (n) => typeof n === 'number' && String.call(n) !== 'NaN'\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst isError = require('@bugsnag/core/lib/iserror')\n\nlet _listener\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nmodule.exports = (win = window) => {\n  const plugin = {\n    load: (client) => {\n      if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return\n      const listener = evt => {\n        let error = evt.reason\n        let isBluebird = false\n\n        // accessing properties on evt.detail can throw errors (see #394)\n        try {\n          if (evt.detail && evt.detail.reason) {\n            error = evt.detail.reason\n            isBluebird = true\n          }\n        } catch (e) {}\n\n        const event = client.Event.create(error, false, {\n          severity: 'error',\n          unhandled: true,\n          severityReason: { type: 'unhandledPromiseRejection' }\n        }, 'unhandledrejection handler', 1, client._logger)\n\n        if (isBluebird) {\n          map(event.errors[0].stacktrace, fixBluebirdStacktrace(error))\n        }\n\n        client._notify(event, (event) => {\n          if (isError(event.originalError) && !event.originalError.stack) {\n            event.addMetadata('unhandledRejection handler', {\n              [Object.prototype.toString.call(event.originalError)]: {\n                name: event.originalError.name,\n                message: event.originalError.message,\n                code: event.originalError.code\n              }\n            })\n          }\n        })\n      }\n      if ('addEventListener' in win) {\n        win.addEventListener('unhandledrejection', listener)\n      } else {\n        win.onunhandledrejection = (reason, promise) => {\n          listener({ detail: { reason, promise } })\n        }\n      }\n      _listener = listener\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = (win = window) => {\n      if (_listener) {\n        if ('addEventListener' in win) {\n          win.removeEventListener('unhandledrejection', _listener)\n        } else {\n          win.onunhandledrejection = null\n        }\n      }\n      _listener = null\n    }\n  }\n\n  return plugin\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   […]\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, … }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, … }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, … }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, … }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that too…\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (frame) => {\n  if (frame.file === error.toString()) return\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n}\n","const name = 'Bugsnag JavaScript'\nconst version = '7.3.0'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\n\nconst Client = require('@bugsnag/core/client')\nconst Event = require('@bugsnag/core/event')\nconst Session = require('@bugsnag/core/session')\nconst Breadcrumb = require('@bugsnag/core/breadcrumb')\n\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst keys = require('@bugsnag/core/lib/es-utils/keys')\nconst assign = require('@bugsnag/core/lib/es-utils/assign')\n\n// extend the base config schema with some browser-specific options\nconst schema = assign({}, require('@bugsnag/core/config').schema, require('./config'))\n\nconst pluginWindowOnerror = require('@bugsnag/plugin-window-onerror')\nconst pluginUnhandledRejection = require('@bugsnag/plugin-window-unhandled-rejection')\nconst pluginApp = require('@bugsnag/plugin-app-duration')\nconst pluginDevice = require('@bugsnag/plugin-browser-device')\nconst pluginContext = require('@bugsnag/plugin-browser-context')\nconst pluginRequest = require('@bugsnag/plugin-browser-request')\nconst pluginThrottle = require('@bugsnag/plugin-simple-throttle')\nconst pluginConsoleBreadcrumbs = require('@bugsnag/plugin-console-breadcrumbs')\nconst pluginNetworkBreadcrumbs = require('@bugsnag/plugin-network-breadcrumbs')\nconst pluginNavigationBreadcrumbs = require('@bugsnag/plugin-navigation-breadcrumbs')\nconst pluginInteractionBreadcrumbs = require('@bugsnag/plugin-interaction-breadcrumbs')\nconst pluginInlineScriptContent = require('@bugsnag/plugin-inline-script-content')\nconst pluginSession = require('@bugsnag/plugin-browser-session')\nconst pluginIp = require('@bugsnag/plugin-client-ip')\nconst pluginStripQueryString = require('@bugsnag/plugin-strip-query-string')\n\n// delivery mechanisms\nconst dXDomainRequest = require('@bugsnag/delivery-x-domain-request')\nconst dXMLHttpRequest = require('@bugsnag/delivery-xml-http-request')\n\nconst Bugsnag = {\n  _client: null,\n  createClient: (opts) => {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = { apiKey: opts }\n    if (!opts) opts = {}\n\n    const internalPlugins = [\n      // add browser-specific plugins\n      pluginApp,\n      pluginDevice(),\n      pluginContext(),\n      pluginRequest(),\n      pluginThrottle,\n      pluginSession,\n      pluginIp,\n      pluginStripQueryString,\n      pluginWindowOnerror(),\n      pluginUnhandledRejection(),\n      pluginNavigationBreadcrumbs(),\n      pluginInteractionBreadcrumbs(),\n      pluginNetworkBreadcrumbs(),\n      pluginConsoleBreadcrumbs,\n\n      // this one added last to avoid wrapping functionality before bugsnag uses it\n      pluginInlineScriptContent()\n    ]\n\n    // configure a client with user supplied options\n    const bugsnag = new Client(opts, schema, internalPlugins, { name, version, url })\n\n    // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n    bugsnag._setDelivery(window.XDomainRequest ? dXDomainRequest : dXMLHttpRequest)\n\n    bugsnag._logger.debug('Loaded!')\n\n    return bugsnag._config.autoTrackSessions\n      ? bugsnag.startSession()\n      : bugsnag\n  },\n  start: (opts) => {\n    if (Bugsnag._client) {\n      Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.')\n      return Bugsnag._client\n    }\n    Bugsnag._client = Bugsnag.createClient(opts)\n    return Bugsnag._client\n  }\n}\n\nmap(['resetEventCount'].concat(keys(Client.prototype)), (m) => {\n  if (/^_/.test(m)) return\n  Bugsnag[m] = function () {\n    if (!Bugsnag._client) return console.log(`Bugsnag.${m}() was called before Bugsnag.start()`)\n    Bugsnag._client._depth += 1\n    const ret = Bugsnag._client[m].apply(Bugsnag._client, arguments)\n    Bugsnag._client._depth -= 1\n    return ret\n  }\n})\n\nmodule.exports = Bugsnag\n\nmodule.exports.Client = Client\nmodule.exports.Event = Event\nmodule.exports.Session = Session\nmodule.exports.Breadcrumb = Breadcrumb\n\n// Export a \"default\" property for compatibility with ESM imports\nmodule.exports.default = Bugsnag\n","\nreturn _$notifier_2;\n\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}