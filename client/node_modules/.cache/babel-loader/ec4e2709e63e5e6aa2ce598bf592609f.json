{"ast":null,"code":"import*as React from\"react\";import{useSelectTransaction,useSelectedTransaction}from\"providers/transactions/selected\";import{useClusterParam}from\"providers/api\";export function TransactionModal(){var selectedTx=useSelectedTransaction();var selectTx=useSelectTransaction();var onClose=function onClose(){return selectTx(undefined);};var show=!!selectedTx;var renderContent=function renderContent(){if(!selectedTx)return null;return/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-dialog-centered\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\",onClick:function onClick(e){return e.stopPropagation();}},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-card card mb-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-header-title\"},\"Transaction Details\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",onClick:onClose},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(TransactionDetails,{transaction:selectedTx})))));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\".concat(show?\" show\":\"\"),onClick:onClose},renderContent()),/*#__PURE__*/React.createElement(Overlay,{show:show}));}function Overlay(_ref){var show=_ref.show;if(show)return/*#__PURE__*/React.createElement(\"div\",{className:\"modal-backdrop fade show\"});return/*#__PURE__*/React.createElement(\"div\",{className:\"fade\"});}export function TransactionDetails(_ref2){var transaction=_ref2.transaction;var clusterParam=useClusterParam();var _transaction$details=transaction.details,signature=_transaction$details.signature,feeAccount=_transaction$details.feeAccount,programAccount=_transaction$details.programAccount;var explorerLink=function explorerLink(path){return\"https://explorer.solana.com/\".concat(path,\"?\").concat(clusterParam);};var feeAddress=feeAccount.toBase58();var dataAddress=programAccount.toBase58();function displaySignature(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Signature\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:explorerLink(\"tx/\"+signature),target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn btn-sm btn-white\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fe fe-external-link mr-2\"}),\"Explorer\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-dark overflow-hidden\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-0 text-truncate\"},signature))));}function displayAccounts(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Fee Account\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:explorerLink(\"address/\"+feeAddress),target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn btn-sm btn-white\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fe fe-external-link mr-2\"}),\"Explorer\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Break Account\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:explorerLink(\"address/\"+dataAddress),target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn btn-sm btn-white\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fe fe-external-link mr-2\"}),\"Explorer\"))));}function displayFinalized(){if(transaction.status===\"success\"){if(transaction.pending){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"spinner-grow spinner-grow-sm mr-2\"}),\"Pending\");}else{return/*#__PURE__*/React.createElement(\"span\",{className:\"text-success\"},\"Finalized\");}}else{return\"N/A\";}}function displayConfTime(){switch(transaction.status){case\"success\":return/*#__PURE__*/React.createElement(\"span\",{className:\"text-success\"},transaction.confirmationTime,\" sec\");case\"pending\":return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"spinner-grow spinner-grow-sm mr-2\"}),\"Processing\");case\"timeout\":return/*#__PURE__*/React.createElement(\"span\",{className:\"text-warning\"},\"Timed out\");}}return/*#__PURE__*/React.createElement(React.Fragment,null,displaySignature(),displayAccounts(),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Confirmation Time\"),displayConfTime()),transaction.status===\"success\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Block\"),transaction.slot),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},\"Finalization Status\"),displayFinalized()));}","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/components/TxModal.tsx"],"names":["React","useSelectTransaction","useSelectedTransaction","useClusterParam","TransactionModal","selectedTx","selectTx","onClose","undefined","show","renderContent","e","stopPropagation","Overlay","TransactionDetails","transaction","clusterParam","details","signature","feeAccount","programAccount","explorerLink","path","feeAddress","toBase58","dataAddress","displaySignature","displayAccounts","displayFinalized","status","pending","displayConfTime","confirmationTime","slot"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { TransactionState } from \"providers/transactions\";\nimport {\n  useSelectTransaction,\n  useSelectedTransaction,\n} from \"providers/transactions/selected\";\nimport { useClusterParam } from \"providers/api\";\n\nexport function TransactionModal() {\n  const selectedTx = useSelectedTransaction();\n  const selectTx = useSelectTransaction();\n  const onClose = () => selectTx(undefined);\n  const show = !!selectedTx;\n\n  const renderContent = () => {\n    if (!selectedTx) return null;\n\n    return (\n      <div className=\"modal-dialog modal-dialog-centered\">\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n          <div className=\"modal-card card mb-0\">\n            <div className=\"card-header\">\n              <h4 className=\"card-header-title\">Transaction Details</h4>\n\n              <button type=\"button\" className=\"close\" onClick={onClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n\n            <div className=\"card-body\">\n              <TransactionDetails transaction={selectedTx} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className={`modal fade${show ? \" show\" : \"\"}`} onClick={onClose}>\n        {renderContent()}\n      </div>\n      <Overlay show={show} />\n    </>\n  );\n}\n\nfunction Overlay({ show }: { show: boolean }) {\n  if (show) return <div className=\"modal-backdrop fade show\"></div>;\n  return <div className=\"fade\"></div>;\n}\n\nexport function TransactionDetails({\n  transaction,\n}: {\n  transaction: TransactionState;\n}) {\n  const clusterParam = useClusterParam();\n  const { signature, feeAccount, programAccount } = transaction.details;\n  const explorerLink = (path: string) =>\n    `https://explorer.solana.com/${path}?${clusterParam}`;\n  const feeAddress = feeAccount.toBase58();\n  const dataAddress = programAccount.toBase58();\n\n  function displaySignature() {\n    return (\n      <>\n        <div className=\"d-flex align-items-center justify-content-between mb-4\">\n          <div className=\"\">Signature</div>\n          <div>\n            <a\n              href={explorerLink(\"tx/\" + signature)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n        <div className=\"d-flex mb-4\">\n          <span className=\"badge badge-dark overflow-hidden\">\n            <h4 className=\"mb-0 text-truncate\">{signature}</h4>\n          </span>\n        </div>\n      </>\n    );\n  }\n\n  function displayAccounts() {\n    return (\n      <>\n        <div className=\"d-flex align-items-center justify-content-between mb-4\">\n          <div className=\"\">Fee Account</div>\n          <div>\n            <a\n              href={explorerLink(\"address/\" + feeAddress)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n\n        <div className=\"d-flex align-items-center justify-content-between mb-4 pb-4 border-bottom\">\n          <div className=\"\">Break Account</div>\n          <div>\n            <a\n              href={explorerLink(\"address/\" + dataAddress)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"btn btn-sm btn-white\"\n            >\n              <span className=\"fe fe-external-link mr-2\"></span>\n              Explorer\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function displayFinalized() {\n    if (transaction.status === \"success\") {\n      if (transaction.pending) {\n        return (\n          <div>\n            <span className=\"spinner-grow spinner-grow-sm mr-2\"></span>\n            Pending\n          </div>\n        );\n      } else {\n        return <span className=\"text-success\">Finalized</span>;\n      }\n    } else {\n      return \"N/A\";\n    }\n  }\n\n  function displayConfTime() {\n    switch (transaction.status) {\n      case \"success\":\n        return (\n          <span className=\"text-success\">\n            {transaction.confirmationTime} sec\n          </span>\n        );\n      case \"pending\":\n        return (\n          <div>\n            <span className=\"spinner-grow spinner-grow-sm mr-2\"></span>\n            Processing\n          </div>\n        );\n      case \"timeout\":\n        return <span className=\"text-warning\">Timed out</span>;\n    }\n  }\n\n  return (\n    <>\n      {displaySignature()}\n      {displayAccounts()}\n      <div className=\"d-flex justify-content-between mb-4\">\n        <div className=\"\">Confirmation Time</div>\n        {displayConfTime()}\n      </div>\n      {transaction.status === \"success\" && (\n        <div className=\"d-flex justify-content-between mb-4\">\n          <div className=\"\">Block</div>\n          {transaction.slot}\n        </div>\n      )}\n      <div className=\"d-flex justify-content-between\">\n        <div className=\"\">Finalization Status</div>\n        {displayFinalized()}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}