{"ast":null,"code":"import _slicedToArray from\"/Users/jstarry/Workspace/solana/break/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{useClusterModal}from\"providers/server\";export function LoadingModal(_ref){var show=_ref.show,wallet=_ref.wallet;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),cancel=_React$useState2[0],setCancel=_React$useState2[1];var _useClusterModal=useClusterModal(),_useClusterModal2=_slicedToArray(_useClusterModal,2),showModal=_useClusterModal2[0],setShowModal=_useClusterModal2[1];if(cancel&&(!show||showModal)){setCancel(false);}React.useEffect(function(){if(wallet!==undefined||!show||showModal)return;var timeoutId=window.setTimeout(function(){setCancel(true);},10000);return function(){return clearTimeout(timeoutId);};});var renderContent=function renderContent(){if(!show)return null;var loadingText=wallet?\"Fetching wallet\":\"Loading\";return/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered lift justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content w-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-4 pl-4 pr-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow spinner-grow-sm mr-3\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-0\",children:[!cancel?loadingText:\"Retrying\",\"...\"]})]})}),cancel&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-top-dark\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setShowModal(true);},className:\"btn btn-info\",children:\"Try another cluster\"})})]})});};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\".concat(show?\" show\":\"\"),children:renderContent()});}","map":{"version":3,"sources":["/Users/jstarry/Workspace/solana/break/client/src/components/LoadingModal.tsx"],"names":["React","useClusterModal","LoadingModal","show","wallet","useState","cancel","setCancel","showModal","setShowModal","useEffect","undefined","timeoutId","window","setTimeout","clearTimeout","renderContent","loadingText"],"mappings":"2PAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,eAAT,KAAgC,kBAAhC,CAEA,MAAO,SAASC,CAAAA,YAAT,MAMJ,IALDC,CAAAA,IAKC,MALDA,IAKC,CAJDC,MAIC,MAJDA,MAIC,qBAC2BJ,KAAK,CAACK,QAAN,CAAe,KAAf,CAD3B,oDACMC,MADN,qBACcC,SADd,0CAEiCN,eAAe,EAFhD,sDAEMO,SAFN,sBAEiBC,YAFjB,sBAID,GAAIH,MAAM,GAAK,CAACH,IAAD,EAASK,SAAd,CAAV,CAAoC,CAClCD,SAAS,CAAC,KAAD,CAAT,CACD,CAEDP,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpB,GAAIN,MAAM,GAAKO,SAAX,EAAwB,CAACR,IAAzB,EAAiCK,SAArC,CAAgD,OAEhD,GAAMI,CAAAA,SAAS,CAAGC,MAAM,CAACC,UAAP,CAAkB,UAAM,CACxCP,SAAS,CAAC,IAAD,CAAT,CACD,CAFiB,CAEf,KAFe,CAAlB,CAIA,MAAO,kBAAMQ,CAAAA,YAAY,CAACH,SAAD,CAAlB,EAAP,CACD,CARD,EAUA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAI,CAACb,IAAL,CAAW,MAAO,KAAP,CACX,GAAMc,CAAAA,WAAW,CAAGb,MAAM,CAAG,iBAAH,CAAuB,SAAjD,CACA,mBACE,YAAK,SAAS,CAAC,gEAAf,uBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,aAAK,SAAS,CAAC,kDAAf,wBACE,aAAM,SAAS,CAAC,mCAAhB,EADF,cAEE,YAAI,SAAS,CAAC,MAAd,WAAsB,CAACE,MAAD,CAAUW,WAAV,CAAwB,UAA9C,SAFF,GADF,EADF,CAOGX,MAAM,eACL,YAAK,SAAS,CAAC,qBAAf,uBACE,aAAM,OAAO,CAAE,yBAAMG,CAAAA,YAAY,CAAC,IAAD,CAAlB,EAAf,CAAyC,SAAS,CAAC,cAAnD,iCADF,EARJ,GADF,EADF,CAmBD,CAtBD,CAwBA,mBACE,YAAK,SAAS,qBAAeN,IAAI,CAAG,OAAH,CAAa,EAAhC,CAAd,UAAqDa,aAAa,EAAlE,EADF,CAGD","sourcesContent":["import React from \"react\";\nimport { useClusterModal } from \"providers/server\";\n\nexport function LoadingModal({\n  show,\n  wallet,\n}: {\n  show: boolean;\n  wallet?: boolean;\n}) {\n  const [cancel, setCancel] = React.useState(false);\n  const [showModal, setShowModal] = useClusterModal();\n\n  if (cancel && (!show || showModal)) {\n    setCancel(false);\n  }\n\n  React.useEffect(() => {\n    if (wallet !== undefined || !show || showModal) return;\n\n    const timeoutId = window.setTimeout(() => {\n      setCancel(true);\n    }, 10000);\n\n    return () => clearTimeout(timeoutId);\n  });\n\n  const renderContent = () => {\n    if (!show) return null;\n    const loadingText = wallet ? \"Fetching wallet\" : \"Loading\";\n    return (\n      <div className=\"modal-dialog modal-dialog-centered lift justify-content-center\">\n        <div className=\"modal-content w-auto\">\n          <div className=\"py-4 pl-4 pr-5\">\n            <div className=\"d-flex align-items-center justify-content-center\">\n              <span className=\"spinner-grow spinner-grow-sm mr-3\"></span>\n              <h2 className=\"mb-0\">{!cancel ? loadingText : \"Retrying\"}...</h2>\n            </div>\n          </div>\n          {cancel && (\n            <div className=\"p-4 border-top-dark\">\n              <span onClick={() => setShowModal(true)} className=\"btn btn-info\">\n                Try another cluster\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className={`modal fade${show ? \" show\" : \"\"}`}>{renderContent()}</div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}